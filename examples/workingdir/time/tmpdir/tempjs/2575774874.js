"use strict";(self.webpackChunkbe_fe_time=self.webpackChunkbe_fe_time||[]).push([[8646,2800],{93689:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var n=r(81978),a="hidden",c="minimized",o="has-image",i=r(82746),l={1:"You have 3 free articles left.",2:"You have 2 free articles left.",3:"You have 1 free article left.",4:"This is your last free article."};function u(){var e=document.body,t=e.querySelector(".meter-wall"),r=document.getElementById("meter-wall-data"),u=t.querySelector("iframe"),d=e.querySelector("footer.main"),s=t.querySelector(".icon-container"),p=t.querySelector(".expanded-content"),y=t.querySelector(".roadblock-minimized-content");function m(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u.src="/iframe/create-account?overlay=true".concat(e?"&hard-wall=true":""),t.classList.add("registration-wall"),e&&t.classList.add("hard-registration-wall"),t.classList.remove(a)}function v(e,r,n,a){return e.replace("[price]",function(e,r,n){var a=t.dataset,c=a.userCountry,o=a.userRegion;return'\n      <div id="digital-checkout-price-'.concat(e,'"\n        class="component recurly-checkout-price"\n        data-user-country="').concat(c,'"\n        data-user-region="').concat(o,'"\n        >\n        <input type="hidden" data-recurly="plan" value="').concat(r,'" />\n        <input type="hidden" data-recurly="coupon" value="').concat(null!=n?n:"",'" />\n        <input type="hidden" data-recurly="currency" value="USD" />\n        <input type="hidden" data-digital-price="price" value="0"/>\n        <div>$00</div>\n      </div>')}(r,n,a))}function f(){var e=t.querySelector(".paywall-wrapper"),r=e.querySelector(".loading-spinner"),n=e.querySelector(".paywall-content"),c=e.querySelector(".text-container"),o=e.dataset.paywallText,l=e.classList.contains("intl")&&o.includes("[price]");if(l){var u=e.dataset;o=v(o,0,u.recurlyPlanCode,u.recurlyCouponCode)}c.innerHTML=o,l&&(document.addEventListener("recurlyPriceLoaded",(function(){n.style.display="flex",r.style.display="none"}),{once:!0}),(0,(0,i.default)(!0).generatePrice)()),t.classList.add("paywall"),t.classList.remove(a)}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?(s.classList.remove(c),t.classList.remove(c),p.classList.remove(a),y.classList.add(a)):(s.classList.add(c),t.classList.add(c),p.classList.add(a),y.classList.remove(a))};function w(e){t.classList.add("roadblock"),e&&t.classList.add(o),t.classList.remove(a)}function L(n){var u=parseInt(r.getAttribute("data-view_count"),10),p=t.querySelector(".roadblock-wrapper"),y=p.querySelector(".title"),m=p.querySelector(".description"),f=p.querySelector(".roadblock-image"),L=p.querySelector(".minimized-description"),h=p.dataset,b=h.recurlyPlanCode,S=h.recurlyCouponCode;!function(e){e>1&&g(!1),s.addEventListener("click",(function(){s.classList.contains(c)?g(!0):g(!1)})),(window.innerWidth||document.documentElement.clientWidth)<=768&&window.addEventListener("touchstart",(function(e){e.target.closest(".meter-wall")||g(!1)}))}(u);var T,q,k,E=function(e,t,r){var n=r.dataset,a=!e&&t>2?2:t,c=n["loggedOutImage-".concat(a)],o=n["loggedOutDescription-".concat(a)],i=n["loggedOutTitle-".concat(a)];return e&&(c=n["loggedInImage-".concat(a)],o=n["loggedInDescription-".concat(a)],i=n["loggedInTitle-".concat(a)]),{imageURL:c,descriptionTextHTML:o,miniDescriptionTextHTML:o,titleTextHTML:i}}(n,u,p),C=E.imageURL,O=E.descriptionTextHTML,P=E.miniDescriptionTextHTML,D=E.titleTextHTML,x=p.classList.contains("intl")&&O.includes("[price]"),M=p.classList.contains("intl")&&D.includes("[price]");x&&(O=v(O,0,b,S),P=v(P,1,b,S)),y.innerHTML=D,m.innerHTML=O,L.innerHTML="".concat(P," "),T=L,q=document.createElement("a"),k=document.createTextNode("Subscribe now"),q.appendChild(k),q.href="/subscribe-meter-time",q.setAttribute("data-location","roadblock | minimized"),q.classList.add("subscribe-link"),T.appendChild(q),n&&function(e,t){var r=t.querySelector(".roadblock-sign-in"),n=t.querySelector(".create-account-cta.logged-out"),c=t.querySelector(".create-account-cta.logged-in"),o=t.querySelector(".minimized-article-count");o.classList.remove(a),o.innerHTML=l[e],4===e&&o.classList.add("last-article"),r.classList.add(a),n.classList.add(a),c.classList.remove(a)}(u,p),C&&(f.classList.remove(a),f.classList.add(o),f.src=C),d.classList.add("roadblock-activated"),e.classList.add("allow-scroll"),u<3&&!n&&t.classList.add("hide-on-mobile"),M||x?(document.addEventListener("recurlyPriceLoaded",(function(){w(C)}),{once:!0}),(0,(0,i.default)(!0).generatePrice)()):w(C)}n.Z.defer((function(){t.classList.add("can-animate");var n=r.getAttribute("data-wall_type");n?"none"===n?e.classList.add("allow-scroll"):"registration-wall"===n?m():"hard-registration-wall"===n?m(!0):"paywall"===n?f():"roadblock-logged-in"===n?L(!0):"roadblock-logged-out"===n&&L(!1):document.addEventListener("meterCompleted",(function(t){"none"===t.detail.meterWallType?e.classList.add("allow-scroll"):"registration-wall"===t.detail.meterWallType?m():"hard-registration-wall"===t.detail.meterWallType?m(!0):"paywall"===t.detail.meterWallType?f():"roadblock-logged-in"===t.detail.meterWallType?L(!0):"roadblock-logged-out"===t.detail.meterWallType&&L(!1)}))}))}},82746:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var n=r(89062),a=r(59787);var c=r(79188),o=r(88696),i=r(26),l=r(95272);function u(e){var t,r=document.body.querySelectorAll(".recurly-checkout-price"),u={},d=0,s=function(){var e=(0,n.Z)(r).map((function(e){var t=e.querySelector('[data-recurly="plan"]').value,r=e.dataset;return{country:r.userCountry,region:r.userRegion,plan:t}}));r.length>0&&function(e){var t=function(e){var t=e.plan,r=e.country,n=e.region;return(0,a.Z)("/subscribe/plan?plan_code=".concat(t,"&country=").concat(r,"&region=").concat(n)).then((function(e){return e}))};return Array.isArray(e)?Promise.all(e.map((function(e){return t(e)}))):t(e)}(e).then((function(e){var n=e[0].public_key;(0,c.Z)(n,(function(n){t=n,r.forEach((function(n,a){var c=e[a].currency.currencyCode;n.querySelector('[data-recurly="currency"]').value=c,u.isUSD="USD"===c;var o=n.getAttribute("data-user-country");!function(e,n){var a,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1,s=e,p=s.querySelector("div"),y=s.querySelector('[data-digital-price="price"]'),m=s.querySelector('[data-recurly="plan"]').value,v=null!==(a=s.querySelector('[data-recurly="coupon"]').value)&&void 0!==a?a:"",f=t.Pricing.Checkout(),g="#digital-checkout-price-".concat(n),w=function(){y.value=u[m].total,p.innerText=c?"US".concat(u[m].price):u[m].price,d===r.length&&((0,i.Z)(!1,"loading"),document.dispatchEvent(new Event("recurlyPriceLoaded")))},L=function(e){var t="api-error"===e.name;if(u[m]?u[m].count+=1:u[m]={count:1},!t){var r=e.currency,n=e.now,a=(0,l.Z)(n.total),c=0===Number(n.total)?"FREE":"".concat(r.symbol).concat(a);u[m].price=c,u[m].total=n.total}var o=u.isUSD&&v&&u[m].count>=3,i=u.isUSD&&!v&&u[m].count>=2,s=!u.isUSD&&v&&u[m].count>=4,p=!u.isUSD&&!v&&u[m].count>=3;(o||i||s||p)&&(d+=1,w())};o||(f.attach(g),f.on("change",L),f.on("error.coupon",L),o=!0)}(n,a,u.isUSD&&"us"!==o)}))}))}))};return document.body.classList.add("noscroll"),window.addEventListener("unload",(function(){window.scrollTo(0,0)})),e?{generatePrice:s}:"loading"!==document.readyState?s():(0,o.EM)(document,"DOMContentLoaded",s)}},88696:(e,t,r)=>{r.d(t,{EM:()=>a,GV:()=>s,Hy:()=>d,UL:()=>u,Uy:()=>c,VZ:()=>p,cd:()=>l,os:()=>o,yM:()=>n,zp:()=>i});var n=function(e,t){return new CustomEvent(e,t)},a=function(e,t,r,n){e&&("init"!==t?e.addEventListener(t,r,n||!1):"loading"!==e.readyState?r():e.addEventListener("DOMContentLoaded",r,n||!1))},c=function(e){return parseFloat(window.getComputedStyle(e,null).height.replace("px",""))},o=function(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX}},i=function(e){var t=window.getComputedStyle(e);return e.offsetHeight+parseInt(t.marginTop)+parseInt(t.marginBottom)},l=function(e){for(var t=[];e&&e!==document;)e=e.parentNode,t.push(e);return t},u=function(e){return new URLSearchParams(e).toString()},d=function(e,t){return!(!e||!t)&&(e===t||t.contains(e))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return window.scrollY+e},p=function(e){var t=e.required,r=e.value.trim(),n=r.match(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,})+$/);return!(t&&(""===r||!n))}},59787:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(4942);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const o=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;return new Promise((function(n,a){var o=new window.AbortController,i=o.signal,l=setTimeout((function(){var e=new Error("Request aborted or timed out.");e.name="TimeoutError",o.abort(),a(e)}),r);fetch(e,c(c({},t),{},{signal:i})).then((function(e){return clearTimeout(l),e.text().then((function(t){return{success:e.ok,text:t}}))})).then((function(e){var t=e.success,r=e.text;try{var c=JSON.parse(r);return t?n(c):a(c)}catch(e){return n(r)}})).catch((function(e){a(e)}))}))}},95272:(e,t,r)=>{r.d(t,{Z:()=>n});const n=function(e,t){var r=Number(e),n=e;if(!Number.isNaN(r)){var a=r%1==0?parseInt(r,10):parseFloat(r).toFixed(2),c=a<1&&a>0?"".concat(100*a,"Â¢"):"$".concat(a);n=t?c:a}return"".concat(n).replace(/\B(?=(\d{3})+(?!\d))/g,",")}},79188:(e,t,r)=>{r.d(t,{Z:()=>n});const n=function(e,t){if(window.recurly)t(window.recurly);else{var r,n=document.createElement("script");n.src="https://js.recurly.com/v4/recurly.js",document.body.appendChild(n),n.onload=function(){var n=window;(r=n.recurly).configure(e),t(r)}}}},26:(e,t,r)=>{r.d(t,{Z:()=>n});const n=function(e,t){var r=document.querySelector(".loading-overlay.".concat(t))||null;r&&(e?(r.classList.remove("hide"),document.body.classList.add("noscroll")):(r.classList.add("hide"),document.body.classList.remove("noscroll")))}}}]);