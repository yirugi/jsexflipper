var districtmMethod=1;var districtmRatio=1;var districtmHeaderTimeOut=0;var districtmRetryTimeOut=200;var districtmMaxTimeToTry=10000;var districtmSsp=['an','dmx'];var districtmCurrency="usd";var districtmAlone=1;var districtmCurrencyRate=1;var districtmAllowedSizes=["300x250","728x90","160x600","300x600","320x50","970x90","970x250"];var districtmAppnexusMemberId=1908;var districtmPubmaticPubId=92406;var districtmEasyMap=[];var districtmExtSSP={};var districtmTieBreaker=0;districtmEasyMap.push({zoneId:450,id:"13355990",dmtagid:"215150"});districtmEasyMap.push({zoneId:451,id:"13355991",dmtagid:"215151"});districtmEasyMap.push({zoneId:452,id:"13355992",dmtagid:"215152"});districtmEasyMap.push({zoneId:453,id:"13355993",dmtagid:"215153"});districtmEasyMap.push({zoneId:454,id:"13355994",dmtagid:"215154"});districtmEasyMap.push({zoneId:455,id:"13355995",dmtagid:"215155"});var districtmMethod=2;var districtmHeaderTimeOut=750;!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,d=e[Symbol.iterator]();!(n=(o=d.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(s){r=!0,a=s}finally{try{!n&&d["return"]&&d["return"]()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(1),o=n(a),d=i(4),s=n(d),l=i(5),u=(n(l),i(13),i(6)),c=n(u),f=i(7),g=(i(10),{});window.districtmStart=0,window.districtmStop=30,window.districtmManualMap=[],g.each=function(e,t,i){for(var n in e)t(e[n],i)},g._rendered=[],g.nFound=function(){},g.ajaxObj=function(e,t){var i=new XMLHttpRequest;i.withCredentials=!0,i.open(e.method,e.url),i.onreadystatechange=function(){if(200===i.status&&4===i.readyState){e.bidderRequest;t(JSON.parse(i.responseText))}},i.send(e.data)},g.createJavascript=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var i=document.getElementsByTagName("head");i=i.length?i:document.getElementsByTagName("body"),i.length&&(i=i[0],i.insertBefore(t,i.firstChild))},g.logger=function(e){try{if(localStorage.dmConsole){var t=console,i=t.log;i("Districtm wrapper:",e)}}catch(n){}},g.observer={events:{},old:[{}],kill:[],on:function(e,t,i){this.events[e]=this.events[e]||[],this.events[e].push(i)},emit:function(e){if(this.events[e])for(var t=0;t<this.events[e].length;t++)this.events[e][t](e)},run:function(){var e=this;e.kill=setInterval(function(){for(var t in e.events)for(var i=0;i<e.events[t].length;i++)e.emit(t)},1),setTimeout(function(){clearInterval(e.kill)},1e4)}},g.defineOutOfPage=function(e){if(this.isInArray("touch",window.districtmSsp)){var t=r(e,2),i=t[0],n=t[1],a=["1x1"],o={placement:i,div:n,sizes:a,ggle:n};s["default"].execute(o)}},g.defineSlot=function(){for(var e=this,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=i[0],a=i[1],o=i[2],d=void 0;if(Array.isArray(window.districtmFilters)){var s=window.districtmFilters.filter(function(e){return r.indexOf(e)!==-1});if(s.length>0)return null}try{if(districtmStart<=districtmStop&&(Array.isArray(a[0])?(d=a.filter(function(t){return e.sizes.indexOf(t[0]+"x"+t[1])!==-1}),g.logger("7, "+JSON.stringify(d)),d=d.map(function(e){return e[0]+"x"+e[1]}),g.logger("8, "+JSON.stringify(d))):d=this.sizes.filter(function(e){return e===a[0]+"x"+a[1]}),d.length>0)){g.logger("9, "+JSON.stringify(d)),window.districtmManualMap.push({ggle:o,sizes:d,gglePlacement:r});var l=void 0;l=window.districtmManualMap.map(function(e){return{id:districtmEasyMap[districtmStart].id,zone:districtmEasyMap[districtmStart].zoneId,ggle:e.ggle,sizes:e.sizes,dmtagid:districtmEasyMap[districtmStart].dmtagid,gglePlacement:e.gglePlacement,auctionid:g.generateId(30),source:"dmw"}}),delete window.districtmManualMap,window.districtmManualMap=new Array,f.fetchBids(l),districtmStart++,(12===districtmMethod||8===districtmMethod||4===districtmMethod||3===districtmMethod||1===districtmMethod||2===districtmMethod)&&6===districtmStart&&districtmStart<districtmStop&&(districtmStart=1)}}catch(u){this.logger("WARN "+u.message+" | some id might not be declare correctly in DFP | or object overload")}},g.sizes=["970x250","970x90","728x90","300x250","160x600","300x600","320x50"],g.timer=function(){return(new Date).getTime()},g.generateId=function(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*i.length));return t},g.idSync=function(){var e="//cdn.districtm.ca/sync.html",t=document.createElement("iframe");t.style.width="0px",t.style.height="0px",t.style.display="none",t.setAttribute("src",e);try{window.addEventListener("load",function(){document.getElementsByTagName("body")[0].appendChild(t)})}catch(i){window.attachEvent("onload",function(){document.getElementsByTagName("body")[0].appendChild(t)})}},g.loadPromise=function(e,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()},i.src=e;var n=document.getElementsByTagName("head");n=n.length?n:document.getElementsByTagName("body"),n.length&&(n=n[0],n.insertBefore(i,n.firstChild))},g.loadScript=function(e,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,t&&"function"==typeof t&&(i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()}),i.src=e;var n=document.getElementsByTagName("head");n=n.length?n:document.getElementsByTagName("body"),n.length&&(n=n[0],n.insertBefore(i,n.firstChild))},g.isInArray=function(e,t){return t.indexOf(e)>-1},g.getURLParameter=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null},g.debugMode=function(){return null},g.removeLastComma=function(e){var t=e.lastIndexOf(","),i=e.substring(0,t);return i},g.getTopWindowUrl=function(){try{return window.top.location.href}catch(e){return window.location.href}},g.addEventListener=function(e,t,i,n){this.collection.push(arguments),this.register[e]?this.register[e].amount<t&&(this.register[e].amount=t,this.register[e].ssp=i,this.register[e].size=n,this.setTargeting(e,t,i,n,arguments[4]||null)):(this.register[e]={},this.register[e].amount=t,this.register[e].ssp=i,this.register[e].size=n,this.setTargeting(e,t,i,n,arguments[4]||null))},g.setTargeting=function(e){try{for(var t=googletag.pubads().getSlots(),i=0;i<t.length;i++)t[i].getSlotElementId()===e.ggle&&(this.logger(e),this.logger("cpm value is "+t[i].getTargeting("dm_cpm")+" ggle slot:"+e.ggle),parseFloat(t[i].getTargeting("dm_cpm")[0])<parseFloat(e.winBid)&&(this.logger("switch value targeting"),t[i].setTargeting("dm_cpm",e.winBid).setTargeting("dm_adslot",e.auctionId).setTargeting("dm_size",e.size).setTargeting("dmw_ssp",e.ssp),this.logger("fetching bids "+e.winBid+" "+e.ssp+" in "+e.load+"ms slot name:"+e.ggle)),0===t[i].getTargeting("dm_cpm").length&&(this.logger("inside targeting bigger"),t[i].setTargeting("dm_cpm",e.winBid).setTargeting("dm_adslot",e.auctionId).setTargeting("dm_size",e.size).setTargeting("dmw_ssp",e.ssp),this.logger("fetching bids "+e.winBid+" "+e.ssp+" in "+e.load+"ms slot name:"+e.ggle)))}catch(n){var r=this;setTimeout(function(){r.setTargeting(e)},10)}},g.collection=[],g.register={},g.move=function(e,t,i){for(;t<0;)t+=e.length;for(;i<0;)i+=e.length;if(i>=e.length)for(var n=i-e.length;n--+1;)e.push(void 0);return e.splice(i,0,e.splice(t,1)[0]),e},g.makeShift=function(){for(var e=0;e<window.googletag.cmd.length;e++)window.googletag.cmd[e].toString().indexOf("districtmHeader")!==-1&&0!==e&&(this.logger("Shift CMD"),window.googletag.cmd=this.move(window.googletag.cmd,e,0))},g.startShift=function(){var e=this,t=setInterval(function(){try{e.makeShift()}catch(i){throw clearInterval(t),i.message}},1);setTimeout(function(){clearInterval(t)},1500)},g.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.style.display="none",e},g.getDomain=function(){return document.domain},g.loadTime=function(e){o["default"].update(e.auctionId,{load:e.end-e.start})},g.theShowMostGoOn=function(e,t,i){if(o["default"].selectById(e)){o["default"].selectById(e).rendered=!0,g._rendered.push(o["default"].selectById(e));var n=Object.create(o["default"].selectById(e));c["default"].sendToGoogle(n,window.districtmGA);var r=this.districtmImpression(o["default"].selectById(e),i);r=function(e){return""!==n.trackingUrl&&"undefined"!=typeof n.trackingUrl&&(e+='<img src="'+n.trackingUrl+'" style="display:none;">'),e}(r);try{t.defaultView&&t.defaultView.frameElement&&(t.defaultView.frameElement.width=n.size.split("x")[0],t.defaultView.frameElement.height=n.size.split("x")[1])}catch(a){}n.html?t.write(""+n.html+r):t.write('<IFRAME SRC="'+n.adUrl+'" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" WIDTH="'+n.size.split("x")[0]+'" HEIGHT="'+n.size.split("x")[1]+'"></IFRAME>'+r)}},g.timeLaps=function(e,t){this.listen(t);var i=this;this.timeout=setTimeout(function(){i.process(),i.logger("end by normal process !!")},e)},g.timeEnd=function(){clearTimeout(this.timeout),this.process()},g.process=function(){googletag.pubads().refresh()},g.listen=function(e){},g.dmca_b64={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-=",lookup:null,ie:/MSIE /.test(navigator.userAgent),ieo:/MSIE [67]/.test(navigator.userAgent),toUtf8:function(e){var t,i=-1,n=e.length,r=[];if(/^[\x00-\x7f]*$/.test(e))for(;++i<n;)r.push(e.charCodeAt(i));else for(;++i<n;)t=e.charCodeAt(i),t<128?r.push(t):t<2048?r.push(t>>6|192,63&t|128):r.push(t>>12|224,t>>6&63|128,63&t|128);return r},encode:function(e){var t,i,n,r=this.toUtf8(e),a=-1,o=r.length,d=[,,,];if(this.ie){for(var s=[];++a<o;)t=r[a],i=r[++a],d[0]=t>>2,d[1]=(3&t)<<4|i>>4,isNaN(i)?d[2]=d[3]=64:(n=r[++a],d[2]=(15&i)<<2|n>>6,d[3]=isNaN(n)?64:63&n),s.push(this.alphabet.charAt(d[0]),this.alphabet.charAt(d[1]),this.alphabet.charAt(d[2]),this.alphabet.charAt(d[3]));return s.join("")}for(var s="";++a<o;)t=r[a],i=r[++a],d[0]=t>>2,d[1]=(3&t)<<4|i>>4,isNaN(i)?d[2]=d[3]=64:(n=r[++a],d[2]=(15&i)<<2|n>>6,d[3]=isNaN(n)?64:63&n),s+=this.alphabet[d[0]]+this.alphabet[d[1]]+this.alphabet[d[2]]+this.alphabet[d[3]];return s}},g.districtmImpression=function(e,t){var i=new Object;i.id=e.auctionid,i.domain=t,i.ssp=e.ssp,i.winBid=e.winBid/districtmRatio/districtmCurrencyRate,i.tieBreaker=districtmTieBreaker||0,i.adSize=e.size,i.zone=e.zone,i.slotName=e.callBackId,i.ext=e.ext||!1;try{localStorage.dmio_dmuid&&(i.dmuid=localStorage.dmio_dmuid)}catch(n){}var r=(new Image,{auctionId:e.auctionId,domain:i.domain,ssp:e.ssp,winBid:parseFloat(i.winBid).toFixed(2),adsize:i.adSize,zone:parseInt(i.zone),tiebreaker:i.tieBreaker}),a="",o=Object.assign({dmtagid:e.dmtagid,winbid:r.winBid,source:e.source,auctionid:e.auctionId},r);return delete o.winBid,delete o.auctionId,delete o.zone,delete o.tiebreaker,a+='<img src="//dmx.districtm.ca/i/'+this.dmca_b64.encode(JSON.stringify(o))+'" style="display:none;" />'},g.end=0,g.count=[],g.total=0,g.calculate=function(e){for(var t=e.pubads().getSlots(),i=0;i<t.length;i++)for(var n=t[i].getSizes(),r=0;r<n.length;r++)if(window.districtmAllowedSizes.indexOf(n[r].l+"x"+n[r].j)!==-1){this.end++;break}this.total=window.districtmSsp.length*this.end},g.grCount=function(e){this.count.push(e);var t=this;this.count.length===this.total&&2===this.method&&setTimeout(function(){t.timeEnd(),t.logger("End by ads")},1)},g.removeTargeting=function(e){},g.method=1,g.registerMethod=function(e){this.method=e},g.checkEach=function(e,t,i){if(Array.isArray(t))for(var n=0;n<e.length;n++)for(var r=0;r<t.length;r++)i(e[n],t[r]);else for(var n=0;n<e.length;n++)i(e[n],t)},g.isMobile=function(){return/Mobi/.test(navigator.userAgent)},g.clone=function(e,t){var i;if(Array.isArray(t)){var n=r(t,1);i=n[0]}else i=t;this.logger(190,i);for(var a in i)e[a]=i[a];return e},g.getTargeting=function(e){return{welcome:"steve"}},g.lazy=function(e,t){var i;try{i=googletag.defineSlot(e[0],e[1],e[2]).addService(googletag.pubads())}catch(n){googletag.cmd.push(function(){i=googletag.defineSlot(e[0],e[1],e[2]).addService(googletag.pubads())})}this.defineSlot("",e[1],e[2]),setTimeout(function(){googletag.display(e[2]),t(i)},300)},g.refreshBanner=function(){districtmStart=0;var e=googletag.pubads().getSlots(),t=[];if(0===arguments.length){for(var i=0;i<e.length;i++){for(var n=e[i].getSizes(),r=[],a=0;a<n.length;a++)r.push([n[a].l,n[a].j]);g.logger("just about to define slot"),this.defineSlot(e[i].G,r,e[i].getSlotElementId())}setTimeout(function(){googletag.pubads().refresh()},300)}else if(arguments.length>1){for(var o=arguments[0],i=0;i<o.length;i++)for(var d=0;d<e.length;d++)if(e[d].getSlotElementId()===o[i]){for(var n=e[d].getSizes(),r=[],a=0;a<n.length;a++)r.push([n[a].l,n[a].j]);this.defineSlot("",r,e[d].getSlotElementId()),t.push(e[d])}var s=arguments[1];setTimeout(function(){s(t)},300)}},g.interval=function(e,t,i){function n(e){e.setTargeting("dm_refresh",window.dm_Interval)}window.dm_Interval=window.dm_Interval||0;var r=googletag.pubads().getSlots();if(districtmStart=1,e||t||i){if(e&&t&&!i){var a=this;setTimeout(function(){var e=googletag.pubads().getSlots();districtmStart=1;for(var t=0;t<e.length;t++){for(var i=e[t].getSizes(),r=[],a=0;a<i.length;a++)r.push([i[a].l,i[a].j]);e[t].clearTargeting("dm_cpm","dm_adslot","dm_size","dm_ssp","dm_refresh"),n(e[t]),districtmHeader.utils.defineSlot(e[t].G,r,e[t].getSlotId().o)}},t),setTimeout(function(){googletag.pubads().refresh(),a.interval(e,t)},t+400)}else if(e&&t&&i){var a=this;setTimeout(function(){for(var e=googletag.pubads().getSlots(),t=0;t<e.length;t++){n(e[t]),e[t].clearTargeting("dm_cpm","dm_adslot","dm_size","dm_ssp","dm_refresh");for(var r=0;r<i.length;r++){for(var a=e[t].getSizes(),o=[],d=0;d<a.length;d++)o.push([a[d].l,a[d].j]);i[r]===e[t].getSlotId().o&&districtmHeader.utils.defineSlot(e[t].G,o,e[t].getSlotId().o)}}},t),setTimeout(function(){a.interval(e,t,i);for(var n=googletag.pubads().getSlots(),r=0;r<n.length;r++)for(var o=0;o<i.length;o++)i[o]===n[r].getSlotId().o&&googletag.pubads().refresh([n[r]])},t+400)}else if(!e&&!t&&i)for(var r=googletag.pubads().getSlots(),o=0;o<r.length;o++){n(r[o]),r[o].clearTargeting("dm_cpm","dm_adslot","dm_size","dm_ssp","dm_refresh");for(var d=0;d<i.length;d++){for(var s=r[o].getSizes(),l=[],u=0;u<s.length;u++)l.push([s[u].l,s[u].j]);i[d]===r[o].getSlotId().o&&districtmHeader.utils.defineSlot(r[o].G,l,r[o].getSlotId().o)}}}else for(var o=0;o<r.length;o++){for(var s=r[o].getSizes(),l=[],u=0;u<s.length;u++)l.push([s[u].l,s[u].j]);r[o].clearTargeting("dm_cpm","dm_adslot","dm_size","dm_ssp","dm_refresh"),n(r[o]),districtmHeader.utils.defineSlot(r[o].G,l,r[o].getSlotId().o)}window.dm_Interval+=1},g.ajaxPost=function(e,t,i){if(window.XMLHttpRequest)var n=new XMLHttpRequest;else if(window.ActiveXObject("Microsoft.XMLHTTP"))var n=new ActiveXObject("Microsoft.XMLHTTP");n.withCredentials=!0,n.onreadystatechange=function(){if(200===n.status)try{i(JSON.parse(n.responseText))}catch(e){}},n.open("POST",e,!0),n.send(JSON.stringify(t))},g.ajax=function(e,t,i){var n,r=!0;n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.withCredentials=!0,n.onreadystatechange=function(){if(200===n.status)try{r&&(i(JSON.parse(n.responseText),t),r=!1)}catch(e){g.logger(e.message)}},n.open("GET",e,!0),n.send(null)},t["default"]=g},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(0),a=n(r),o={col:{},win:{},history:[],register:function(e,t){a["default"].logger(e," it's getting register"),this.col[e]?a["default"].logger(e," already register"):this.col[e]=t},update:function(e,t){if(this.col[e])for(var i in t)this.col[e][i]=t[i];else a["default"].logger(e," can't be updated")},select:function(e){return a["default"].logger(e),this.col[e.auctionId]},selectById:function(e){return this.col[e]},findByGle:function(e){for(var t in this.col)this.col[t].ggle===e&&parseFloat(this.col[t].winBid)>0&&a["default"].setTargeting(this.col[t])},storeHistory:function(){this.history.push(Object.create(this.col)),this.col={}},findWhatEver:function(e,t){for(var i in this.col)if(this.col[i][e]===t)return this.col[i]},selectField:function(e,t){return this.col[e][t]||"error"},selectWin:function(){var e={};for(var t in this.col)return""!==this.col[t].winBid&&(e[t]=this.col[t]),e}};t["default"]=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={appnexus:0,appnexusExt:0,indexx:{inc:0,size:[]},indexInc:0,sovrn:0,return2Zero:function(e){this[e]=0}};t.size=[];t["default"]=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.combine=void 0;var r=i(14),a=n(r),o=i(15),d=n(o),s=i(16),l=n(s),u=i(17),c=n(u),f=i(18),g=n(f),p=i(19),m=n(p),h=i(20),v=n(h),y=i(21),w=n(y),b=i(22),x=n(b),I=i(23),S=n(I),E=i(4),k=n(E),_=i(25),z=n(_),B={districtm:S["default"],appnexus:i(8),facebook:v["default"],aol:a["default"],sovrn:l["default"],pulsepoint:i(26),criteo:g["default"],triplelift:c["default"],indexx:d["default"],sonobi:m["default"],fidelity:w["default"],conversant:x["default"],pixl:k["default"]};t.combine=[z["default"],S["default"]];t["default"]=B},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(0),d=n(o),s=i(1),l=n(s),u=function(){function e(){r(this,e),this.url=window.location.href.indexOf("https")!=-1?"//secure.adnxs.com/jpt?":"//ib.adnxs.com/jpt?",this.memberId=1908,this.name="pixl"}return a(e,[{key:"jptCall",value:function(e){var t=(e.sizes[0],this.url+"callback=window.districtmHeader.ssp.pixl.cb&callback_uid="+e.auctionId+"&psa=0&zone="+e.zone+"&id="+e.id+"&size=320x50&referrer="+d["default"].getTopWindowUrl());return t}},{key:"cb",value:function(e){if(e.result&&e.result.cpm&&0!==e.result.cpm){var t,i=e.callback_uid;if(e.result&&e.result.cpm){t=parseInt(e.result.cpm,10),t/=1e4;var n=d["default"].clone({},l["default"].selectById(i));n.winBid=parseFloat(t*districtmRatio*districtmCurrencyRate).toFixed(4),n.adUrl=e.result.ad,n.size="320x50",n.width=320,n.height=50,n.end=d["default"].timer(),d["default"].loadTime(l["default"].select(n)),n.load=l["default"].selectField(n.auctionId,"load"),window.districtmBids.push(n),l["default"].update(n.auctionId,n),d["default"].logger(n),d["default"].setTargeting(l["default"].selectById(n.auctionId))}}}},{key:"getAppNexusBid",value:function(e,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=e;var n=document.getElementsByTagName("head");n=n.length?n:document.getElementsByTagName("body"),l["default"].update(t.auctionId,{start:d["default"].timer()}),n.length&&(n=n[0],n.insertBefore(i,n.firstChild))}},{key:"helperFile",value:function(){var e=document.createElement("script");e.async=!0,e.src="https://cdn.districtm.ca/receiver/ad-receiver.js",document.getElementsByTagName("head")[0].appendChild(e)}},{key:"execute",value:function(e){var t=d["default"].clone({},e);d["default"].isInArray("touch",window.districtmSsp)&&d["default"].isInArray("320x50",t.sizes)&&d["default"].isMobile()&&(this.helperFile(),t.auctionId=d["default"].generateId(30),t.zone=window.districtmEasyMap[0].zoneId,t.memberId=this.memberId,t.id=window.districtmEasyMap[0].id,t.dmtagid=window.districtmEasyMap[0].dmtagid,t.ssp="touch",t.adSlot=t.ggle,l["default"].register(t.auctionId,t),this.getAppNexusBid(this.jptCall(t),t),this.execute=function(e){})}}]),e}();t["default"]=new u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(0),d=n(o),s=function(){function e(){r(this,e),this.mappingId={},this.mappingSize=[],this.windowSize=this.findWindowSize(),this.screenSize={desktop:{resolution:[3e3,980],mp:{}},tablet:{resolution:[979,768],mp:{}},phablet:{resolution:[767,481],mp:{}},phone:{resolution:[480,0],mp:{}}}}return a(e,[{key:"addSize",value:function(e,t,i){i&&"string"==typeof i&&(this.mappingId[i]?this.mappingId[i].push([e,this.formatForDm(t)]):(this.mappingId[i]=[],this.mappingId[i].push([e,this.formatForDm(t)]))),d["default"].logger("none of the value can be mapped: Error argument #3 "+JSON.stringify(i)+" needs to be an array if you are targeting an id "),d["default"].logger("none of the value can be mapped: Error argument #1 "+JSON.stringify(e)+" needs to be one of this value "+Object.keys(this.screenSize)+" if you are targeting an id ")}},{key:"formatId",value:function(e){var t=this,i=e.map(function(e){if(e[0][0]>t.windowSize&&e[0][1]<t.windowSize)return e[1]});return i}},{key:"formatForDm",value:function(e){return Array.isArray(e[0])?e.map(function(e){return e[0]+"x"+e[1]}):e[0]+"x"+e[1]}},{key:"setProperSize",value:function(e){}},{key:"findWindowSize",value:function(){var e=window,t=document,i=t.documentElement,n=e.innerWidth||i.clientWidth;return n}}]),e}();t["default"]=new s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(0),d=(n(o),function(){function e(){r(this,e)}return a(e,[{key:"sendToGoogle",value:function(e,t){for(var i=0;i<t.length;i++){var n={divId:e.ggle,winBid:e.winBid,size:e.size,gglePlacement:e.gglePlacement,rRev:(e.winBid/1e3).toFixed(5)};t[i](n)}}}]),e}());t["default"]=new d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=i(0),a=n(r),o=i(3),d=n(o);i(9);e.exports={list:[],fetchBids:function(e){Object.forEach(d["default"],function(t){t.execute(e)})},listAddSsp:function(){},"do":function(e,t){t(e)},mapping:function(e){var t=this,i=0,n={};for(var r in e){if("undefined"!=typeof window.districtmEasyMap[i]){var o=a["default"].intersect(e[r].sizes,districtmAllowedSizes);n[i]={id:districtmEasyMap[i].id,zone:districtmEasyMap[i].zoneId,ggle:e[r].id,sizes:o}}else a["default"].logger("districtm warning: no district m placement for "+e[r].id);i++}t.fetchBids(n)}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,d=e[Symbol.iterator]();!(n=(o=d.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(s){r=!0,a=s}finally{try{!n&&d["return"]&&d["return"]()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(0),o=n(a),d=i(1),s=n(d),l=i(2),u=n(l);Object.duplicate=function(e){};var c={jptCall:function(e){var t="",i=e.sizes[0];if(e.sizes.length>1){t+="promo_sizes=";for(var n=1;n<e.sizes.length;n++)t+=e.sizes[n]+",";t=o["default"].removeLastComma(t),t+="&"}var r="http"+("https:"===document.location.protocol?"s://secure.adnxs.com/jpt?":"://ib.adnxs.com/jpt?");return r+="callback=districtmHeader.ssp.appnexus.handleAppNexusCallback&",r+="callback_uid="+e.auctionId+"~"+e.zone+"~"+e.ggle+"&",r+="psa=0&",r+="zone="+e.zone+"&",r+="id="+e.id+"&",r+="member_id="+e.memberId+"&",r+="size="+i+"&",r+=t,r+="referrer="+o["default"].getTopWindowUrl()},getAppNexusBid:function(e,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=e;var n=document.getElementsByTagName("head");n=n.length?n:document.getElementsByTagName("body"),s["default"].update(t.auctionId,{start:o["default"].timer()}),n.length&&(n=n[0],n.insertBefore(i,n.firstChild))},handleAppNexusCallback:function(e){if(e.result&&e.result.cpm&&0!==e.result.cpm){var t,i=e.callback_uid;if(e.result&&e.result.cpm){t=parseInt(e.result.cpm,10),t/=1e4;var n=(e.result.ad,e.result.creative_id,{});n.winBid=parseFloat(t*districtmRatio*districtmCurrencyRate).toFixed(2),n.adUrl=e.result.ad,n.trackingUrl="",n.callBackId=i.split("~")[0],n.auctionId=i.split("~")[0],n.adSlot=i.split("~")[2],n.ggle=i.split("~")[2],n.zone=i.split("~")[1],n.size=e.result.width+"x"+e.result.height,n.end=o["default"].timer(),s["default"].update(n.callBackId,n),o["default"].loadTime(s["default"].select(n)),n.load=s["default"].selectField(n.auctionId,"load"),window.districtmBids.push(n);try{for(var r=0;r<o["default"].keep4refresh.length;r++)o["default"].keep4refresh[r][0].ggle===n.adSlot}catch(a){}o["default"].logger(n),o["default"].setTargeting(s["default"].selectById(n.auctionId))}}},execute:function(e){var t=this;try{var i=o["default"].clone({},e);o["default"].isInArray("an",districtmSsp)&&(i.auctionId=o["default"].generateId(30),i.memberId=window.districtmAppnexusMemberId,i.ssp="appnexus",i.start=o["default"].timer(),s["default"].register(i.auctionId,i),this.getAppNexusBid(this.jptCall(i),i))}catch(n){o["default"].logger("error line 107-117 | "+n.message)}try{if(window.districtmExtSSP.appnexus){var a=o["default"].clone({ext:!0},e),d=window.districtmExtSSP.appnexus,l=d.defaults,c=d.specific,f=c.filter(function(e){return a.ggle===e.slotId}),g=c.filter(function(e){return a.gglePlacement===e.slotId}),p=l[u["default"].appnexusExt];a=o["default"].clone(a,function(e,t,i){if(e.length>0){var n=r(e,1),a=n[0];return a}if(t.length>0){var o=r(t,1),d=o[0];return d}return u["default"].appnexusExt++,i}(f,g,p)),l.length===u["default"].appnexusExt&&(u["default"].appnexusExt=0),a.id=a.placementId,a.ssp="appnexusext",a.auctionId=o["default"].generateId(30),o["default"].logger(140,a),s["default"].register(a.auctionId,a),this.getAppNexusBid(this.jptCall(a),a)}}catch(n){o["default"].logger("error line 118-127 | "+n.message)}try{!function(e){if(window.districtmExtSSP.defymedia){var i=o["default"].clone({ext:!0},e),n=window.districtmExtSSP.defymedia,a=n.defaults,d=n.specific,l=d.filter(function(e){if(e.target.length>0){var t=e.target.filter(function(e){return i.ggle===e});return t.length>0}return!1}),u=d.filter(function(e){if(e.target.length>0){var t=e.target.filter(function(e){return i.gglePlacement.indexOf(e)!==-1});return t.length>0}return!1}),c=a[0];i=o["default"].clone(i,function(e,t,i){if(e.length>0){var n=r(e,1),a=n[0];return a}if(t.length>0){var o=r(t,1),d=o[0];return d}return i}(l,u,c)),i.placement&&(i.id=i.placement,i.ssp="defymedia",i.auctionId=o["default"].generateId(30),o["default"].logger(141,i),s["default"].register(i.auctionId,i),t.getAppNexusBid(t.jptCall(i),i))}}(e)}catch(n){o["default"].logger("error defymedia adapter "+n.message)}try{!function(e){if(window.districtmExtSSP.brealtime){var i=o["default"].clone({ext:!0},e),n=window.districtmExtSSP.brealtime,a=n.defaults,d=n.specific,l=d.filter(function(e){if(e.target.length>0){var t=e.target.filter(function(e){return i.ggle===e});return t.length>0}return!1}),u=d.filter(function(e){if(e.target.length>0){var t=e.target.filter(function(e){return i.gglePlacement.indexOf(e)!==-1});return t.length>0}return!1}),c=a[0];i=o["default"].clone(i,function(e,t,i){if(e.length>0){var n=r(e,1),a=n[0];return a}if(t.length>0){var o=r(t,1),d=o[0];return d}return i}(l,u,c)),i.placement&&(i.id=i.placement,i.ssp="brealtime",i.auctionId=o["default"].generateId(30),o["default"].logger(141,i),s["default"].register(i.auctionId,i),t.getAppNexusBid(t.jptCall(i),i))}}(e)}catch(n){o["default"].logger("error brealtime adapter "+n.message)}window.inc_adnxs++}};e.exports=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=i(0),a=n(r),o=function(){this.extManual={},this.settings=function(e){this.extManual[e.ssp]?this.extManual[e.ssp].push(e):(this.extManual[e.ssp]=[],this.extManual[e.ssp].push(e))},this["import"]=function(e){for(var t=0;t<e.lenght;t++)this.extManual[e[t].ssp]?this.extManual[e[t].ssp]=e[t].info:this.extManual[e[t].ssp]=e[t].info;a["default"].logger(this.extManual)}};e.exports=new o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=i(1),a=n(r),o=i(0),d=function(){this.realCall={},this.run=function(){var e=this;window.dmList={};var t=o.defineSlot;window.dmList.enableSyncRendering=window.googletag.enableSyncRendering,window.dmList.enableSyncRenderingF=window.googletag.pubads().enableSyncRendering,window.dmList.display=window.googletag.display,window.dmList.displayF=window.googletag.pubads().display,window.dmList.refresh=window.googletag.refresh,window.dmList.refreshF=window.googletag.pubads().refresh,window.dmList.enableSingleRequest=window.googletag.pubads().enableSingleRequest,window.dmList.disableInitialLoad=window.googletag.disableInitialLoad,window.dmList.disableInitialLoadF=window.googletag.pubads().disableInitialLoad,window.dmList.defineSlot=window.googletag.defineSlot,window.googletag.enableSyncRendering=function(){},window.googletag.pubads().enableSyncRendering=function(){},window.googletag.display=function(){1===arguments.length&&(e.realCall[arguments[0]]||(e.realCall[arguments[0]]=arguments[0])),window.dmList.display.apply(this,arguments)},window.googletag.pubads().display=function(){window.dmList.displayF.apply(this,arguments)},window.googletag.pubads().refresh=function(){window.dmList.refreshF.apply(this,arguments)},window.googletag.refresh=function(){for(var e in a["default"].col);window.dmList.refresh.apply(this,arguments)},window.googletag.pubads().enableSingleRequest=function(){window.dmList.enableSingleRequest.apply(this,arguments)},window.googletag.disableInitialLoad=function(){window.dmList.disableInitialLoad.apply(this,arguments)},window.googletag.pubads().disableInitialLoad=function(){},window.googletag.defineSlot=function(){return o.defineSlot.apply(this,arguments),window.dmList.defineSlot.apply(this,arguments)},o.defineSlot=function(){t.apply(this,arguments)}}};e.exports=new d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){c["default"].logger("in callback 1"),c["default"].logger("in callback 2");try{d["default"].set("dmxRegion",e.gdprApplies)}catch(t){}return"false"!==d["default"].get("dmxRegion")?(c["default"].logger("done"),null):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],void googletag.cmd.push(function(){if(1===window.districtmMethod&&0===window.districtmExec){window.districtmExec++;var e=googletag;e.def=e.defineSlot,e.oop=e.defineOutOfPageSlot,e.dis=e.display,e.dmr=e.pubads().refresh,e.defineSlot=function(){districtmHeader.utils.defineSlot(arguments[0],arguments[1],arguments[2]);var t=e.def.apply(this,arguments);return t},googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")})}if(2===window.districtmMethod&&0===window.districtmExec){window.districtmExec++,districtmHeader.utils.logger("inforce listener");var e=googletag;e.def=e.defineSlot,e.dsp=e.display,e.oop=e.defineOutOfPageSlot,googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.setTargeting("dm_cpm","0").setTargeting("dm_adslot","null").setTargeting("dmw_ssp","null").setTargeting("dm_size","null"),e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size","dmw_ssp"),districtmHeader.utils.logger("Remove DM targeting")}),e.display=function(){var t=this,i=arguments;setTimeout(function(){try{window.districtmExtSSP.facebook&&z["default"].exec(i[0])}catch(n){}e.dsp.apply(t,i)},window.districtmHeaderTimeOut)},e.defineSlot=function(){var t=e.def.apply(this,arguments);try{t.sMap=t.defineSizeMapping,t.defineSizeMapping=function(){return t.sMap.apply(this,arguments)}}catch(i){}return districtmHeader.utils.defineSlot(arguments[0],arguments[1],arguments[2]),t},window.districtmHeader.utils.isInArray("touch",window.districtmSsp)}if(12===window.districtmMethod){districtmHeader.utils.logger("inforce listener");var e=googletag;e.def=e.defineSlot,e.dsp=e.display,e.display=function(){var t=this,i=arguments;k["default"].display(arguments[0],window.districtmHeaderTimeOut,function(){z["default"].exec(i[0]),e.dsp.apply(t,i)})},e.defineSlot=function(){k["default"].defineSlot.apply(k["default"],arguments);var t=e.def.apply(this,arguments);return t.sMap=t.defineSizeMapping,t.defineSizeMapping=function(){return t.sMap.apply(this,arguments)},t}}if(3===window.districtmMethod){var e=googletag;e.dmdef=googletag.defineSlot,e.dmpubads=e.pubads(),e.dmpubadsrf=e.dmpubads.refresh,e.dmd=googletag.display,e.oop=e.defineOutOfPageSlot,googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")}),googletag.display=function(){var t=this,i=arguments;setTimeout(function(){e.dmd.apply(t,i)},window.districtmHeaderTimeOut)},googletag.pubads().refresh=function(){var t=this,i=arguments;arguments.length>0&&Array.from(arguments).forEach(function(e){e&&districtmHeader.list.forEach(function(t){e[0].getSlotElementId()===t[2]&&districtmHeader.utils.defineSlot(t[0],t[1],t[2])})}),setTimeout(function(){e.dmpubadsrf.apply(t,i)},350)},googletag.defineSlot=function(){return districtmHeader.utils.defineSlot(arguments[0],arguments[1],arguments[2]),districtmHeader.list=districtmHeader.list||[],districtmHeader.list.push(arguments),e.dmdef.apply(this,arguments)}}if(5===window.districtmMethod){var t=function(){googletag.pubads().refresh=function(){var t=this,i=arguments;setTimeout(function(){e.dmpubads.apply(t,i)},window.districtmHeaderTimeOut)},googletag.pubads().refresh()},e=googletag,i=!1;e.dmdef=googletag.defineSlot,e.dmpubads=e.pubads().refresh,e.diLoad=e.pubads().disableInitialLoad,e.ldisplay=e.display,googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")}),googletag.pubads().disableInitialLoad=function(){i=!0,t(),e.diLoad.apply(this,arguments)},googletag.display=function(){var t=this,n=arguments;i?e.ldisplay.apply(this,arguments):setTimeout(function(){e.ldisplay.apply(t,n)},window.districtmHeaderTimeOut)},googletag.defineSlot=function(){return districtmHeader.utils.defineSlot(arguments[0],arguments[1],arguments[2]),e.dmdef.apply(this,arguments)}}if(40===window.districtmMethod){var e=googletag;e.dmdef=googletag.defineSlot,e.dmpubads=e.pubads().refresh,e.dmd=googletag.display,googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")}),googletag.display=function(){var t=this,i=arguments;setTimeout(function(){e.dmd.apply(t,i)},0)},googletag.pubads().refresh=function(){var t=arguments[0];window.steve=t,z["default"].exec(t[0].getSlotElementId());var i=this,n=arguments;setTimeout(function(){e.dmpubads.apply(i,n)},window.districtmHeaderTimeOut)},googletag.defineSlot=function(){return districtmHeader.utils.defineSlot(arguments[0],arguments[1],arguments[2]),e.dmdef.apply(this,arguments)}}if(7===window.districtmMethod){var e=googletag;e.dis=e.display,e.display=function(){var t=this,i=arguments;setTimeout(function(){e.dis.apply(t,i),c["default"].logger("in display")},200)},e.def=e.defineSlot,e.defineSlot=function(){var t=e.def.apply(this,arguments);return t.sMap=t.defineSizeMapping,t.defineSizeMapping=function(){var e;try{var i=arguments[0];e=i.filter(function(e){return e[0][0]<I["default"].windowSize})}catch(n){}try{c["default"].defineSlot("123",e[0][1],this.getSlotElementId())}catch(n){}return t.sMap.apply(this,arguments)},t},googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")})}if(8===window.districtmMethod){c["default"].logger(googletag);var e=googletag;e.dis=e.display,e.display=function(){var t=this,i=arguments;setTimeout(function(){e.dis.apply(t,i),c["default"].logger("in display => "+JSON.stringify(i))},window.districtmHeaderTimeOut)},e.def=e.defineSlot,e.defineSlot=function(){var t=Array.prototype.slice.call(arguments),i=t[0],n=t[1],r=t[2];window.districtmHeader.ls=window.districtmHeader.ls||{},window.districtmHeader.ls[r]=new S.EventLogger(i,n,r),window.districtmHeader.ls[r].timeOut();var a=e.def.apply(this,arguments);return a.sMap=a.defineSizeMapping,a.defineSizeMapping=function(){var e=void 0;try{var t=arguments[0];e=t.filter(function(e){return e[0][0]<I["default"].windowSize})}catch(n){}try{window.districtmHeader.ls[this.getSlotElementId()].kill(),c["default"].defineSlot(i,e[0][1],this.getSlotElementId())}catch(n){}return a.sMap.apply(this,arguments)},a},googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")})}if(9===window.districtmMethod){var e=googletag;e.dis=e.display,e.brefresh=e.pubads().refresh,e.def=e.defineSlot,e.defineSlot=function(){var t=Array.prototype.slice.call(arguments),i=t[0],n=t[1],r=t[2];window.districtmHeader.ls=window.districtmHeader.ls||{},window.districtmHeader.ls[r]=new S.EventLogger(i,n,r),window.districtmHeader.ls[r].timeOut();var a=e.def.apply(this,arguments);return a.sMap=a.defineSizeMapping,a.defineSizeMapping=function(){var e=arguments[0],t=e.filter(function(e){return e[0][0]<I["default"].windowSize});try{window.districtmHeader.ls[this.getSlotElementId()].kill(),c["default"].defineSlot(i,t[0][1],this.getSlotElementId())}catch(n){}return a.sMap.apply(this,arguments)},a},googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")}),e.pubads().refresh=function(){var t=this,i=arguments;setTimeout(function(){e.brefresh.apply(t,i)},window.districtmHeaderTimeOut)}}if(11===window.districtmMethod){var e=googletag;e.dis=e.display,e.brefresh=e.pubads().refresh,e.def=e.defineSlot,googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")}),e.display=function(){var t=arguments,i=this,n=window.googletag.pubads().getSlots();n.forEach(function(e){if(t[0]===e.getSlotElementId()){var i=e.getSizes().map(function(e){return[e.l,e.j]});c["default"].defineSlot("",i,e.getSlotElementId())}}),setTimeout(function(){e.dis.apply(i,t)},window.districtmHeaderTimeOut)}}}))}var a=i(12),o=i(27),d=n(o),s=i(28),l=n(s),u=i(0),c=n(u),f=i(6),g=n(f),p=i(29),m=(n(p),i(3)),h=n(m),v=i(1),y=n(v),w=i(2),b=n(w),x=i(5),I=n(x),S=i(30),E=i(31),k=n(E),_=i(32),z=n(_);if(c["default"].logger("in file "),d["default"].set("dmxRegion","false"),d["default"].get().hasOwnProperty("dmxRegion"))c["default"].logger("check cookie"),"true"!==d["default"].get("dmxRegion")&&r();else{c["default"].logger("ust called cookie");var B=new a.SetRegion(r);B.run()}try{c["default"].logger("v4.5")}catch(T){}Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(){try{var e=window.location.search.replace("?","").split("&");e=e.reduce(function(e,t){return e[t.split("=")[0]]=t.split("=")[1],e},{}),"true"===e.dmConsole&&window.localStorage.setItem("dmConsole",!0)}catch(t){}}(),window.addEventListener("message",function(e){if(districtmHeader.collections.col[e.data.districtmHeader])for(var t=document.getElementsByTagName("iframe"),i=0;i<t.length;i++)t[i].contentWindow.postMessage({districtmHeader:districtmHeader.collections.col[e.data.districtmHeader]},"*")});try{window.districtmCurrencyObject={aud:1.3894,bgn:1.6811,brl:4.1188,cad:1.3184,chf:.96914,cny:6.8292,czk:22.103,dkk:6.4094,gbp:.77208,hkd:7.8498,hrk:6.39,huf:280.63,idr:14891,ils:3.5848,inr:71.96,isk:109.85,jpy:111.35,krw:1121.5,mxn:19.224,myr:4.1362,nok:8.403,nzd:1.5156,php:53.801,pln:3.7118,ron:3.987,rub:68.399,sek:9.1035,sgd:1.3753,thb:32.775,"try":6.5568,zar:15.32,eur:.85955},districtmCurrencyObject[districtmCurrency]&&(districtmCurrencyRate=districtmCurrencyObject[districtmCurrency])}catch(T){}(0,l["default"])();window.dm1x1=!1,window.dmNeverCall=!1,window.districtmExec=window.districtmExec||0,window.districtmBids=window.districtmBids||[],window.districtmHeader=window.districtmHeader||{};var M=new Date;M.getTime();window.districtmManualMap=window.districtmManualMap||[],window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],districtmHeader.widget=i(33),districtmHeader.utils=c["default"],districtmHeader.bidding=i(7),window.districtmGA=window.districtmGA||[],districtmHeader.google=g["default"],districtmHeader.ssp=h["default"],districtmHeader.collections=y["default"],districtmHeader.fty=i(9),districtmHeader.listener=i(10),districtmHeader.version=i(34),districtmHeader.inc=b["default"],districtmHeader.mapping=I["default"],districtmHeader.register=k["default"],districtmHeader.list=districtmHeader.list||[],districtmHeader.utils.startShift(),googletag.cmd.push(function(){})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SetRegion=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(0);n(o),t.SetRegion=function(){function e(t){r(this,e),this.url="https://services.districtm.net/gdpr/v1",this.callback=t}return a(e,[{key:"run",value:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(i){t.readyState===XMLHttpRequest.DONE&&(200===t.status?e.callback(JSON.parse(t.responseText)):e.callback({}))},t.open("GET",this.url,!0),t.send(null)}}]),e}()},function(e,t,i){"use strict";function n(e){try{var t=e;return o[t]?o[t]:3}catch(i){return 3}}function r(e){return e}function a(){return 1===arguments.length?!!arguments[0].districtmDomain:"undefined"!=typeof window&&"undefined"!=typeof window.districtmDomain}Object.defineProperty(t,"__esModule",{value:!0}),t.clean=n,t.removeExtention=r,t.replaceDomain=a;var o={};t["default"]=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,d=e[Symbol.iterator]();!(n=(o=d.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(s){r=!0,a=s}finally{try{!n&&d["return"]&&d["return"]()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(0),s=n(d),l=i(1),u=n(l),c={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},f={"300x250":4364787,"300x600":4371967,"728x90":4371962,"970x250":4371965,"300x50":4371964,"320x50":4371963},g=10266.1,p=function(){function e(){r(this,e)}return o(e,[{key:"build",value:function(e){var t=e.geo,i=e.networkId,n=e.placementId,r=e.alias,a=e.cmd,o=e.bidfloor,d=e.v,l=e.auctionId,f=e.rndc,g=e.cfp,p=e.sizeId,m="//"+c[t]+"/pubapi/3.0/"+i+"/"+n+"/"+p+"/0/;alias="+r+";cmd="+a+";cors=yes;bidfloor="+o+";v="+d+";cfp="+g+";rndc="+f;s["default"].ajax(m,l,function(e,t){try{if(e.seatbid[0].bid[0].price>0){var i=e.seatbid[0].bid[0],n={},r=u["default"].selectById(t),a=u["default"].selectById(t),o=a.revshare;r.ext===!0?n.winBid=parseFloat(i.price*o).toFixed(2):n.winBid=parseFloat(i.price*districtmRatio).toFixed(2),n.html=i.adm,n.width=i.w,n.height=i.h,n.size=i.w+"x"+i.h,n.auctionId=t,n.end=s["default"].timer(),u["default"].update(t,n),s["default"].loadTime(u["default"].select(n)),n.load=u["default"].selectField(t,"load"),s["default"].setTargeting(u["default"].selectById(t))}}catch(d){s["default"].logger("AOL: "+d.message)}})}},{key:"execute",value:function(e){var t=this;if(s["default"].isInArray("aol",districtmSsp)&&!navigator.userAgent.match(/iPhone|iPad/gi)){var i=a(e,1),n=i[0];n.sizes.forEach(function(i){var n={};n=s["default"].clone(n,e),n.networkId=g,n.placementId=f[i],n.cmd="bid",n.alias="",n.bidfloor=0,n.v="2",n.start=s["default"].timer(),n.geo="us",n.ssp="aol",n.auctionId=s["default"].generateId(30),n.cfp=1,n.rndc=Math.floor(1e8*Math.random(1e7)),n.sizeId=e.sizeId||0,n.start=s["default"].timer(),u["default"].register(n.auctionId,n),t.build(n)})}try{if(window.districtmExtSSP.aol){var r=window.districtmExtSSP.aol,o=r.defaults,d=r.specific,l={},c=a(e,1),p=c[0],m=o[0].revshare,h=o.filter(function(e){return p.sizes.find(function(t){return t===e.size})}),v=d.filter(function(e){return p.ggle===e.slotId&&p.sizes.find(function(t){return t===e.size})}),y=d.filter(function(e){return p.gglePlacement.indexOf(e.slotId)!==-1&&p.sizes.find(function(){return e.size})}),w=function(e,t,i){var n=a(e,1),r=n[0],o=a(t,1),d=o[0],s=a(i,1),l=s[0];return r?[r]:d?[d]:[l]}(v,y,h),b=a(w,1),x=b[0];s["default"].logger(909,p),s["default"].logger(910,x),s["default"].logger(911,v),s["default"].logger(912,h),s["default"].logger(913,y),l=s["default"].clone({ext:!0},x),l=s["default"].clone(l,p),l.cmd="bid",l.alias=x.alias||"",l.bidfloor=x.bidfloor||"",l.v="2",l.geo="us",l.ssp="aolext",l.revshare=m,l.start=s["default"].timer(),l.auctionId=s["default"].generateId(30),l.ggle=p.ggle,l.cfp=1,l.rndc=Math.floor(1e8*Math.random(1e7)),l.sizeId=x.sizeId||0,u["default"].register(l.auctionId,l),this.build(l)}}catch(I){s["default"].logger("AOL: not declare in open wrapper definition | "+I.message)}try{if(window.districtmExtSSP.aolext){s["default"].logger(909,e);var S=window.districtmExtSSP.aolext,E=S.defaults,k=S.specific;s["default"].logger(k);var _={},z=a(e,1),B=z[0],T=E.filter(function(e){return B.sizes.find(function(t){return e.sizes.indexOf(t)!==-1})}),M=k.filter(function(e){return e.target.find(function(e){return e===B.ggle})&&e.sizes.find(function(e){return B.sizes.find(function(t){return t===e})})}),C=k.filter(function(e){return e.target.find(function(e){return B.gglePlacement.indexOf(e)!=-1})&&e.sizes.find(function(e){return B.sizes.find(function(t){return t===e})})});s["default"].logger("specific id | "+JSON.stringify(M)),s["default"].logger("specific default | "+JSON.stringify(T)),s["default"].logger("specific ggle placement | "+JSON.stringify(C));var O=function(e,t,i){return e.length>0?e:t.length>0?t:i.length>0?i:[]}(M,C,T),A=a(O,1),j=A[0];s["default"].logger("999 info | "+JSON.stringify(B)),s["default"].logger("910 choice | "+JSON.stringify(j)),O.forEach(function(e){_=s["default"].clone({ext:!0,networkId:e.id,placementId:e.placement},e),_=s["default"].clone(_,B),_.cmd="bid",_.alias=e.alias||"",_.bidfloor=e.bidfloor||"",_.v="2",_.geo="us",_.ssp="aolext",_.revshare=1,_.start=s["default"].timer(),_.auctionId=s["default"].generateId(30),_.ggle=B.ggle,_.cfp=1,_.rndc=Math.floor(1e8*Math.random(1e7)),_.sizeId=e.sizeId||0,u["default"].register(_.auctionId,_),t.build(_)})}}catch(I){s["default"].logger("AOL: not declare in open wrapper definition | "+I.message)}}}]),e}();t["default"]=new p},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(0),s=n(d),l=i(2),u=n(l),c=i(1),f=n(c);"https:"===window.location.protocol?"//as-sec.casalemedia.com/headertag?v=":"//as.casalemedia.com/headertag?v=";window.cygnus_index_parse_res=function(e){};var g=function(){function e(){a(this,e),this.version=7,this.topFrame=1,this.sitePage=window.location.href,this.escapable=/[\\\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,this.meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},this.timeoutDelay=400}return o(e,[{key:"escapeCharacter",value:function(e){var t=this.meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}},{key:"quote",value:function(e){return this.escapable.lastIndex=0,this.escapable.test(e)?e.replace(this.escapable,this.escapeCharacter):e}},{key:"serialize",value:function(e){var t='{"id":'+e.requestID+',"site":{"page":"'+this.quote(this.sitePage)+'","ref":"'+this.quote(document.referrer)+'"},"imp":[';return e.sizes.forEach(function(i){u["default"].indexx.inc++,u["default"].indexx.size.push({width:i.split("x")[0],height:i.split("x")[1]}),t+='{"id":"'+u["default"].indexx.inc+'", "banner":{"w":'+i.split("x")[0]+',"h":'+i.split("x")[1]+',"topframe":1},"ext": {"sid":"'+u["default"].indexx.inc+'","siteID":'+(e.placementId||e.placement)+"}},"}),t=t.substring(0,t.length-1),t+="]}"}},{key:"generateId",value:function(e){for(var t="",i="123456789",n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}},{key:"buildUrl",value:function(e){var t=encodeURIComponent(this.serialize(e)),i="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";return i+="/cygnus?v="+this.version+"&pid=dm&t=500&fn=window.districtmHeader.ssp.indexx.callback&s="+(e.placementId||e.placement)+"&r="+t}},{key:"execute",value:function(e){if(window.districtmExtSSP.index||window.districtmExtSSP.indexx){var t=[],i=[],n=s["default"].clone({ext:!0,auctionId:this.generateId(9)},e);n.requestID=n.auctionId,n.ssp="index";var r=window.districtmExtSSP.index||window.districtmExtSSP.indexx,a=r.defaults,o=r.specific;o.length>0&&(t=o.filter(function(e){return e.slotId===n.ggle}),0===t.length&&(t=o.filter(function(e){return e.target.filter(function(e){return n.gglePlacement.indexOf(e)!==-1}).length>0}))),i=0===t.length?s["default"].clone(n,a[u["default"].indexInc]):s["default"].clone(n,t),i.width=i.sizes[0].split("x")[0],i.height=i.sizes[0].split("x")[1],f["default"].register(n.requestID,n),s["default"].loadScript(this.buildUrl(i)),a.length===u["default"].indexInc}}},{key:"callback",value:function(e){if(e.seatbid){var t={},i=f["default"].selectById(e.id),n=e.seatbid.reduce(function(e,t){return e=[].concat(r(e),r(t.bid))},[]),a=n.reduce(function(e,t){return parseInt(e.ext.pricelevel.replace("_",""))>parseInt(t.ext.pricelevel.replace("_",""))?e:t},{ext:{pricelevel:"_0"}}),o=a;t.winBid=parseFloat(parseInt(o.ext.pricelevel.replace("_",""))/100*districtmRatio*districtmCurrencyRate).toFixed(2),t.html=o.adm,t.winBid=t.winBid<20?t.winBid:20,t.trackingUrl="",t.callBackId=e.id,t.auctionId=e.id,t.adSlot=i.ggle,t.ggle=i.ggle,t.zone=i.zone,t.size=u["default"].indexx.size[o.impid-1].width+"x"+u["default"].indexx.size[o.impid-1].height,t.width=u["default"].indexx.size[o.impid-1].width,t.height=u["default"].indexx.size[o.impid-1].height,t.ssp=i.ssp,t.end=s["default"].timer(),f["default"].update(t.callBackId,t),s["default"].loadTime(f["default"].select(t)),t.load=f["default"].selectField(t.auctionId,"load"),s["default"].logger(t),s["default"].setTargeting(f["default"].selectById(t.auctionId))}}}]),e}();t["default"]=new g},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,d=e[Symbol.iterator]();!(n=(o=d.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(s){r=!0,a=s}finally{try{!n&&d["return"]&&d["return"]()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(0),s=n(d),l=i(1),u=n(l),c=i(2),f=n(c),g=function(){function e(){r(this,e),this.sovrnPlacements={}}return o(e,[{key:"getBid",value:function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var i=document.getElementsByTagName("head");i=i.length?i:document.getElementsByTagName("body"),i.length&&(i=i[0],i.insertBefore(t,i.firstChild))}},{key:"qryStringCall",value:function(e){try{for(var t=0;t<window.districtmDyn.sovrn.length;t++)this.sovrnPlacements[window.districtmDyn.sovrn[t].size]=window.districtmDyn.sovrn[t].plc}catch(i){}var n=e[0].ext?1:0;for(var r in this.sovrnPlacements)n++;var a={};0===n?(a["300x250"]="334742",a["728x90"]="356150",a["160x600"]="356151",a["300x600"]="356152",a["320x50"]="356153",a["970x250"]="356155",a["970x90"]="356156"):e[0].sizes.forEach(function(t){a[t]=e[0].placementId||e[0].placement});var o="//ap.lijit.com/rtb/bid?callback=districtmHeader.ssp.sovrn.handleCallback&br=",d=new Object;d.site=new Object,d.imp=[],d.id=0,d.site.domain=window.location.host,d.site.page=window.location.pathname+location.search+location.hash;for(var s=0;s<e.length;s++)e[s].sizes.forEach(function(t){var i=new Object;i.banner=new Object,i.id=e[s].auctionId,i.banner.w=t.split("x")[0],i.banner.h=t.split("x")[1],i.tagid=a[t],i.bidfloor=1,d.imp.push(i)});var l=JSON.stringify(d);return o+=encodeURIComponent(l)}},{key:"handleCallback",value:function(e){var t=void 0;try{t=e.seatbid[0].bid,void 0===t&&(t=[])}catch(i){t=[]}t.forEach(function(e){var t=u["default"].selectById(e.impid);t.winBid=parseFloat(e.price*districtmRatio*districtmCurrencyRate).toFixed(2),t.width=e.w,t.height=e.h,t.end=s["default"].timer(),t.size=e.w+"x"+e.h,t.html=unescape(e.adm),t.trackingUrl=e.nurl,u["default"].update(t.auctionId,t),s["default"].loadTime(u["default"].select(t)),s["default"].setTargeting(u["default"].selectById(t.auctionId))})}},{key:"execute",value:function(e){if(s["default"].isInArray("sovrnsss",districtmSsp)){var t=s["default"].clone({},e);t.auctionId=s["default"].generateId(30),t.start=s["default"].timer(),t.ssp="sovrn",0!==t.sizes.length}var i=void 0;try{if(window.districtmExtSSP.sovrn){var n=void 0,r=void 0,o=void 0,d=void 0,l=void 0,c=s["default"].clone({},e),g=window.districtmExtSSP.sovrn,p=g.defaults,m=g.specific;try{d=0,l=p[0].revshare,n=m.filter(function(e){return e.slotId===c.ggle}),r=m.filter(function(e){return c.gglePlacement.indexOf(e.slotId)!==-1}),o=p.filter(function(e){return c.sizes.find(function(t){return t===e.size})})}catch(h){s["default"].logger("sovrn old implementation")}try{d=0,l=1,n=m.filter(function(e){return e.target.filter(function(e){return e===c.ggle}).length>0&&c.sizes.find(function(t){return e.sizes.indexOf(t)!==-1}).length>0}),r=m.filter(function(e){return e.target.filter(function(e){return c.gglePlacement.indexOf(e)!==-1}).length>0&&c.sizes.find(function(t){return e.sizes.indexOf(t)!==-1}).length>0}),o=[]}catch(h){s["default"].logger("sovrn new implementation, "+h.message)}var v=function(e,t,i){return e.length>0?(d=1,e):t.length>0?(d=1,t):i.length>0?(d=1,i):[]}(n,r,o),y=a(v,1);i=y[0];var w=s["default"].clone({auctionId:s["default"].generateId(30),ext:!0,ssp:"sovrnext",start:s["default"].timer(),zone:450,revshare:l},i);w.sizes="any"===w.size?c.sizes:w.size?[w.size]:w.sizes,w.ggle=c.ggle,u["default"].register(w.auctionId,w),f["default"].sovrn++,p.length===f["default"].sovrn&&(f["default"].sovrn=0),d&&this.getBid(this.qryStringCall([w]))}}catch(h){s["default"].logger("External ssps error from sovrn | check ssp setting in b3| "+h.message)}}}]),e}();t["default"]=new g},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(0),d=n(o),s=i(1),l=n(s),u=function(){function e(){r(this,e)}return a(e,[{key:"run",value:function(e){var t=e.cpm,i=e.width,n=e.height,r=e.ad,a=e.callback_id;n=n||l["default"].selectById(a).sizes[0].split("x")[1],i=i||l["default"].selectById(a).sizes[0].split("x")[0],r=r||'<div style="width: '+i+"px; height:"+n+'px; background-color: grey;"></div>';var o=r;t=t||0;var s=t;if(parseFloat(t).toFixed(2)>0){var u={width:i,height:n,winBid:s,html:o,callback_id:a};u.size=i+"x"+n,l["default"].update(a,u),d["default"].setTargeting(l["default"].selectById(a))}}},{key:"compile",value:function(e){var t=e.info.url+"?callback="+e.info.callback+"&callback_id="+e.info.callback_id+"&inv_code="+e.info.inv_code+"&referrer="+e.info.referrer,i=document.createElement("script");i.src=t,document.getElementsByTagName("head")[0].appendChild(i)}},{key:"execute",value:function(e){var t=districtmExtSSP,i=t.triplelift;if(i&&d["default"].isInArray("tpl",window.districtmSsp)){var n=d["default"].clone({},e),r=i.specific.filter(function(e){return e.target.find(function(e){return n.gglePlacement.indexOf(e)!==-1})});r.length>0&&(n.auctionId=d["default"].generateId(30),n.info={url:"//tlx.3lift.com/header/auction",callback:"window.districtmHeader.ssp.triplelift.run",inv_code:r[0].placementName,callback_id:n.auctionId,referrer:window.location.href},n.ssp="triplelift",l["default"].register(n.auctionId,n),this.compile(n))}}}]),e}();t["default"]=new u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(0),d=n(o),s=i(1),l=n(s),u=125,c=14,f="//static.criteo.net/js/ld/publishertag.js",g=function(){function e(){r(this,e)}return a(e,[{key:"callback",value:function(e){return function(e){var t=JSON.parse(e);try{t.slots.forEach(function(e){var t={},i=l["default"].selectById(e.impid),n=l["default"].selectById(e.impid);n.revshare;i.ext===!0?t.winBid=parseFloat(e.cpm).toFixed(2):t.winBid=parseFloat(e.cpm*districtmRatio).toFixed(2),t.html=e.creative,t.width=e.width,t.height=e.height,t.size=e.width+"x"+e.height,t.end=d["default"].timer(),t.auctionId=e.impid,l["default"].update(t.auctionId,t),d["default"].loadTime(l["default"].select(t)),t.load=l["default"].selectField(t.auctionId,"load"),d["default"].setTargeting(l["default"].selectById(t.auctionId))})}catch(i){d["default"].logger("no slots return by criteo for this placement")}}}},{key:"Error",value:function(e){}},{key:"send",value:function(e){}},{key:"build",value:function(e){function t(){var t=!1,i=e.criteo.profileId,n=e.criteo.placement.map(function(e){return new Criteo.PubTag.DirectBidding.DirectBiddingSlot(e.impid,e.zoneId)}),r=new Criteo.PubTag.DirectBidding.DirectBiddingEvent(i,new Criteo.PubTag.DirectBidding.DirectBiddingUrlBuilder(t),n,window.districtmHeader.ssp.criteo.callback(n),window.districtmHeader.ssp.criteo.Error(n),window.districtmHeader.ssp.criteo.Error(n));window.criteo_pubtag.push(r)}window.Criteo.events.push(t())}},{key:"sub",value:function(e){var t=this;!function(e){try{if(window.districtmExtSSP.criteoext){var i,n=d["default"].clone({},e),r=window.districtmExtSSP.criteoext,a=r.defaults,o=r.specific;o.length>0,a.length>0&&(i=a.filter(function(e){return e.sizes.find(function(e){return n.sizes.indexOf(e)!==-1})}));var s=i.map(function(e){return{size:e.sizes.toString(),zoneId:e.placementId.toString(),impid:d["default"].generateId(30)}});n.criteo={version:c,profileId:u,placement:s},n.criteo.placement.forEach(function(e){var t=d["default"].clone({auctionId:e.impid,zoneId:e.zoneId,size:e.size},n);t.ssp="criteoext",t.ext=!0,l["default"].register(t.auctionId,t)}),n.auctionId=d["default"].generateId(30),n.ssp="criteoext",a.length>0&&t.build(n)}}catch(f){d["default"].logger("this error "+f.message)}}(e),function(e){try{if(window.districtmExtSSP.criteo){var i,n=d["default"].clone({},e),r=window.districtmExtSSP.criteo,a=r.defaults,o=r.specific;o.length>0,a.length>0&&(i=a.filter(function(e){return e.sizes.find(function(e){return n.sizes.indexOf(e)!==-1})}));var s=i.map(function(e){return{size:e.sizes.toString(),zoneId:e.placementId.toString(),impid:d["default"].generateId(30)}});n.criteo={version:c,profileId:u,placement:s},n.criteo.placement.forEach(function(e){var t=d["default"].clone({auctionId:e.impid,zoneId:e.zoneId,size:e.size},n);t.ssp="criteo",l["default"].register(t.auctionId,t)}),n.auctionId=d["default"].generateId(30),n.ssp="criteo",a.length>0&&t.build(n)}}catch(f){d["default"].logger("this error "+f.message)}}(e)}},{key:"execute",value:function(e){var t=this;d["default"].isInArray("criteo",window.districtmSsp)&&(!window.criteo_pubtag||window.criteo_pubtag instanceof Array?d["default"].loadScript(f,function(){t.sub(e)}):this.sub(e))}}]),e}();t["default"]=new g},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(0),d=n(o),s=i(1),l=n(s),u=function(){function e(){r(this,e)}return a(e,[{key:"run",value:function(e){}},{key:"_createCreative",value:function(e,t){var i="https://"+e+"apex.go.sonobi.com/sbi.js?aid="+t+"&as=null";return'<script type="text/javascript" src="'+i+'"></script>'}},{key:"send",value:function(e,t){window[e.auctionId]=function(t){d["default"].each(t.slots,function(e,i){if(e.sbi_mouse>0&&e.sbi_mouse){var n={};n.winBid=parseFloat(e.sbi_mouse*districtmCurrencyRate).toFixed(2),n.html=window.districtmHeader.ssp.sonobi._createCreative(t.sbi_dc,e.sbi_aid),n.trackingUrl="",n.callBackId=i,n.auctionId=i,n.size=e.sbi_size,n.end=d["default"].timer(),l["default"].update(i,n),d["default"].loadTime(l["default"].select(n)),n.load=l["default"].selectField(n.auctionId,"load"),window.districtmBids.push(n),d["default"].logger(n),d["default"].setTargeting(l["default"].selectById(n.auctionId))}},e.auctionId)};var i="//apex.go.sonobi.com/trinity.js?key_maker="+JSON.stringify(t)+"&s="+Math.floor(1e6*Math.random())+"&cv="+e.auctionId;d["default"].createJavascript(i)}},{key:"build",value:function(e){var t=(e.sonobi,{});t[""+e.gglePlacement]=""+e.sizes.toString(),this.send(e,t)}},{key:"execute",value:function(e){if(d["default"].isInArray("sonobi",window.districtmSsp)&&d["default"].isInArray("sonobi",window.districtmSsp)){var t=d["default"].clone({},e);t.auctionId=d["default"].generateId(30),t.ssp="sonobi",l["default"].register(t.auctionId,t),this.build(t)}}}]),e}();t["default"]=new u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,d=e[Symbol.iterator]();!(n=(o=d.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(s){r=!0,a=s}finally{try{!n&&d["return"]&&d["return"]()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(0),s=n(d),l=i(1),u=n(l),c=function(e){var t=e.placementId,i=e.bid_id,n=e.fsizes;return'<div style="display:none; position: relative;">    \n      <script type="text/javascript">    \n        var data = {    \n          placementid: \''+t+"',    \n          format: '"+n+"', bidid: '"+i+"',    \n          testmode: false,    \n          onAdLoaded: function(element) {    \n            console.log('Audience Network ["+t+"] ad loaded');   \n            element.style.display = 'block';    \n          },    \n          onAdError: function(errorCode, errorMessage) {    \n            console.log('Audience Network ["+t+'] error (\' + errorCode + \') \' + errorMessage);   \n          }    \n        };    \n      </script>    \n      <script>    \n        (function(a,b,c){var d="https://www.facebook.com",e="https://connect.facebook.net/en_US/fbadnw55.js",f={iframeLoaded:true,xhrLoaded:true},g=a.data,h=function(){if(Date.now)return Date.now();else return+new Date()},i=function(B){var C=d+"/audience_network/client_event",D={cb:h(),event_name:"ADNW_ADERROR",ad_pivot_type:"audience_network_mobile_web",sdk_version:"5.5.web",app_id:g.placementid.split("_")[0],publisher_id:g.placementid.split("_")[1],error_message:B},E=[];for(var F in D)E.push(encodeURIComponent(F)+"="+encodeURIComponent(D[F]));var G=C+"?"+E.join("&"),H=new XMLHttpRequest();H.open("GET",G,true);H.send();if(g.onAdError)g.onAdError("1000","Internal error.")},j=function(){if(b.currentScript)return b.currentScript;else{var B=b.getElementsByTagName("script");return B[B.length-1]}},k=function(B){try{return B.document.referrer}catch(C){}return""},l=function(){var B=a,C=[B];try{while(B!==B.parent&&B.parent.document)C.push(B=B.parent)}catch(D){}return C.reverse()},m=function(){var B=l();for(var C=0;C<B.length;C++){var D=B[C],E=D.ADNW||{};D.ADNW=E;if(!D.ADNW)continue;return E.v55=E.v55||{ads:[],window:D}}throw new Error("no_writable_global")},n=function(B){var C=B.indexOf("/",B.indexOf("://")+3);if(C===-1)return B;return B.substring(0,C)},o=function(B){return B.location.href||k(B)},p=function(B){if(B.sdkLoaded)return;var C=B.window.document,D=C.createElement("iframe");D.name="fbadnw";D.style.display="none";D.onload=function(){var E=D.contentDocument.createElement("script");E.src=e;E.async=true;D.contentDocument.body.appendChild(E)};C.body.appendChild(D);B.sdkLoaded=true},q=function(B){var C=/^https?:\\/\\/www\\.google(\\.com?)?.\\w{2,3}$/;return!!B.match(C)},r=function(B){return!!B.match(/cdn\\.ampproject\\.org$/)},s=function(){var B=c.ancestorOrigins||[],C=B[B.length-1]||c.origin,D=B[B.length-2]||c.origin;if(q(C)&&r(D))return n(D);else return n(C)},t=function(B){try{return JSON.parse(B)}catch(A){i(A.message);throw A}},u=function(B,C,D){if(!B.iframe){var E=D.createElement("iframe");E.src=d+"/audiencenetwork/iframe/";E.style.display="none";D.body.appendChild(E);B.iframe=E;B.iframeAppendedTime=h();B.iframeData={}}C.iframe=B.iframe;C.iframeData=B.iframeData;C.tagJsIframeAppendedTime=B.iframeAppendedTime||0},v=function(B){var C=d+"/audiencenetwork/xhr/?sdk=5.5.web";for(var D in B)if(typeof B[D]!=="function")C+="&"+D+"="+encodeURIComponent(B[D]);var E=new XMLHttpRequest();E.open("GET",C,true);E.withCredentials=true;E.onreadystatechange=function(){if(E.readyState===4){var F=t(E.response);B.events.push({name:"xhrLoaded",source:B.iframe.contentWindow,data:F,postMessageTimestamp:h(),receivedTimestamp:h()})}};E.send()},w=function(B,C){var D=d+"/audiencenetwork/xhriframe/?sdk=5.5.web";for(var E in C)if(typeof C[E]!=="function")D+="&"+E+"="+encodeURIComponent(C[E]);var F=b.createElement("iframe");F.src=D;F.style.display="none";b.body.appendChild(F);C.iframe=F;C.iframeData={};C.tagJsIframeAppendedTime=h()},x=function(B){var C=function(event){try{var E=event.data;if(E.name in f)B.events.push({name:E.name,source:event.source,data:E.data})}catch(A){}},D=B.iframe.contentWindow.parent;D.addEventListener("message",C,false)},y=function(a){if(a.context&&a.context.sourceUrl)return true;try{return!!JSON.parse(decodeURI(a.name)).ampcontextVersion}catch(A){return false}},z=function(B){var C=h(),D=l()[0],E=j().parentElement,F=D!=a.top,G=D.$sf&&D.$sf.ext,H=o(D),I=m();p(I);var J={amp:y(D),events:[],tagJsInitTime:C,rootElement:E,iframe:null,tagJsIframeAppendedTime:I.iframeAppendedTime||0,url:H,domain:s(),channel:n(o(D)),width:screen.width,height:screen.height,pixelratio:a.devicePixelRatio,placementindex:I.ads.length,crossdomain:F,safeframe:!!G,placementid:g.placementid,format:g.format||"300x250",testmode:!!g.testmode,onAdLoaded:g.onAdLoaded,onAdError:g.onAdError};if(g.bidid)J.bidid=g.bidid;if(F||!c.ancestorOrigins)w(I,J);else{u(I,J,D.document);v(J)}x(J);J.rootElement.dataset.placementid=J.placementid;I.ads.push(J)};try{z()}catch(A){i(A.message||A);throw A}})(window,document,location);    \n      </script>    \n    </div>'},f=function(){function e(){r(this,e)}return o(e,[{key:"build",value:function(){}},{key:"testmode",value:function t(){try{var t=window.location.href.indexOf("testmode=true")!==-1;return t}catch(e){return!1}}},{key:"requestURL",value:function(e){var t="https://an.facebook.com/v2/placementbid.json?testmode="+this.testmode()+"&sdk=5.5.web";e.forEach(function(e){try{var t=e.placement,i=e.fsizes,n=(e.ggle,e.source,i),r=s["default"].generateId(30);e.size=n,e.auctionId=r,e.placementId=t,u["default"].register(r,e)}catch(a){}});var i=e.reduce(function(e,t){return e+"&placementids[]="+t.placement+"&adformats[]="+t.fsizes},"");s["default"].ajax(""+t+i,e[0].ggle,function(e,t){for(var i in e.bids){var n=u["default"].findWhatEver("placementId",i),r=s["default"].clone(s["default"].clone({},e.bids[i]),n);r.winBid=r.bid_price_cents>2e3?20:(r.bid_price_cents/100).toFixed(4),r.ssp="facebook",r.html=c(r),r.ggle=t,u["default"].update(r.auctionId,r),s["default"].setTargeting(r)}})}},{key:"execute",value:function(e){try{if(window.districtmExtSSP.facebook&&window.navigator.userAgent.indexOf("Mobile")!==-1){var t=s["default"].clone({},e),i=window.districtmExtSSP.facebook,n=i.defaults,r=i.specific,o=t.sizes,d=t.ggle,l=t.gglePlacement,u=n.filter(function(e){return e.sizes.find(function(e){return o.find(function(t){return e===t})})}),c=r.filter(function(e){return e.target.find(function(e){return e===d})}),f=r.filter(function(e){return e.target.find(function(e){return l.indexOf(e)!==-1})});if(c.length>0){var g=a(c,1),p=g[0];t.fsizes=p.sizes.toString(),t.placement=p.placement,this.requestURL([t])}else if(f.length>0){var m=a(f,1),p=m[0];t.fsizes=p.sizes.toString(),t.placement=p.placement,this.requestURL([t])}else if(u.length>0){var h=a(u,1),p=h[0];t.fsizes=p.sizes.toString(),t.placement=p.placement,this.requestURL([t])}}}catch(v){}}}]),e}();t["default"]=new f},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,d=e[Symbol.iterator]();!(n=(o=d.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(s){r=!0,a=s}finally{try{!n&&d["return"]&&d["return"]()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(0),s=n(d),l=i(1),u=n(l),c="x.fidelity-media.com",f=function(){function e(){r(this,e)}return o(e,[{key:"getFlashVersion",value:function(){var e,t,i;if(navigator.plugins&&navigator.plugins.length>0){e=navigator.plugins;for(var n=0;n<e.length&&!i;n++)t=e[n],t.name.indexOf("Shockwave Flash")>-1&&(i=t.description.split("Shockwave Flash ")[1])}return i||""}},{key:"callback",value:function(e){}},{key:"addLoadder",value:function(e){var t=document.createElement("script"),i=document.getElementsByTagName("head")[0];t.async="true",t.src=e,i.appendChild(t)}},{key:"execute",value:function(e){var t=this;districtmExtSSP.fidelity&&e.forEach(function(e){var i=s["default"].clone({est:!0},e),n=districtmExtSSP.fidelity.defaults,r=n.filter(function(e){return e.sizes.find(function(e){return i.sizes.indexOf(e)!==-1})}),o=a(r,1),d=o[0];i.ssp="fidelity",i.auctionId=s["default"].generateId(30);var l=window.location.protocol+"//"+c+"/delivery/hb.php?callback=window.districtmHeader.ssp.fidelity.callback";l+="&requestid="+e.auctionId+"&impid="+e.auctionId+"&zoneid="+d.placement+"&cb="+Math.floor(99999999999*Math.random()),l+=""+(document.charset?"&charset="+document.charset:document.characterSet?"&charset="+document.characterSet:""),l+="&loc="+encodeURIComponent(window.location.href)+"&referer="+encodeURIComponent(document.referrer),l+="&flashver="+encodeURIComponent(t.getFlashVersion()),u["default"].register(i.auctionId,i),t.addLoadder(l)})}}]),e}();t["default"]=new f},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(1),d=(n(o),i(0)),s=(n(d),window),l=navigator,u=function(){function e(){r(this,e)}return a(e,[{key:"appendScript",value:function(e){var t=document.createElement("script");t.type="text/javascript",t.className="cnvr-response";try{t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}catch(i){t.text=e,document.getElementsByTagName("head")[0].appendChild(t)}}},{key:"getDNT",value:function(){return"1"===l.doNotTrack||"1"===s.doNotTrack||"1"===l.msDoNotTrack||"yes"===l.doNotTrack}},{key:"getDevice",value:function(){var e=l.language?"language":"userLanguage";return{h:screen.height,w:screen.width,dnt:getDNT()?1:0,language:l[e].split("-")[0],make:l.vendor?l.vendor:"",ua:l.userAgent}}},{key:"callback",value:function(e){}},{key:"execute",value:function(e){}}]),e}();t["default"]=new u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,d=e[Symbol.iterator]();!(n=(o=d.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(s){r=!0,a=s}finally{try{!n&&d["return"]&&d["return"]()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(0),s=n(d),l=i(1),u=n(l),c=i(24),f=n(c),g=function(){function e(){var t=this;r(this,e),this.syncURL="https://cdn.districtm.io/ids/index.html",this.syncFlag=!1,this.syncCookieName="_dm_sync",this.notUsedBids=[],this.replay=function(e){e.data.districtmSync&&(s["default"].logger("DistrictM post message: "+JSON.stringify(e.data.districtmSync)),document.cookie=e.data.districtmSync+";path=/",window.removeEventListener("message",t.replay),t.notUsedBids.forEach(function(e){t.execute([e])}))};try{window.addEventListener("message",this.replay)}catch(i){}f["default"].isSet(this.syncCookieName)||(this.syncFlag=!0,this.sync())}return o(e,[{key:"qryStringCall",value:function(e){var t=e.sizes,i=t[0],n="//rtb.districtm.io/bid?";return n+="callback_function=districtmHeader.ssp.districtm.handleDistrictmCallback&",n+="reqid="+e.auctionId+"&id="+e.dmtagid+"&size="+i+"&impid="+e.impid}},{key:"getBid",value:function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var i=document.getElementsByTagName("head");i=i.length?i:document.getElementsByTagName("body"),i.length&&(i=i[0],i.insertBefore(t,i.firstChild))}},{key:"sync",value:function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("iframe");t.src=this.syncURL,t.marginHeight="0",t.marginWidth="0",t.scrolling="no",t.setAttribute("style","display: none; border: 0px;"),t.width="0px",t.height="0px",e.appendChild(t)}},{key:"handleDistrictmCallback",value:function(e){if(null!==e.result.cpm&&parseFloat(e.result.cpm).toFixed(2)>0){var t={};t.winBid=parseFloat(e.result.cpm*districtmRatio*districtmCurrencyRate).toFixed(2);u["default"].selectById(e.result.reqid);t.adUrl="",t.trackingUrl=e.result.dm_tracking_uri,t.auctionId=e.result.reqid,t.html=e.result.html,t.callBackId=e.result.reqid,t.adSlot=e.result.id,t.adSize=e.result.size||"0x0",t.size=e.result.size||"0x0",t.ssp="dmx",t.end=s["default"].timer(),u["default"].update(t.auctionId,t),s["default"].loadTime(u["default"].select(t)),t.load=u["default"].selectField(t.auctionId,"load"),s["default"].logger(t),s["default"].setTargeting(u["default"].selectById(t.auctionId))}}},{key:"execute",value:function(e){var t=this,i=districtmEasyMap.length,n=0;if(1===e.length){var r=a(e,1),o=r[0];this.notUsedBids.push(o)}e.length>1&&(this.notUsedBids=e),s["default"].isInArray("dmx",districtmSsp)&&f["default"].Boolean(this.syncCookieName)&&e.forEach(function(e){if(Array.isArray(e)){var r=a(e,3),o=r[0],d=r[1],l=r[2],c=s["default"].clone({},{gglePlacement:o,sizes:d,ggle:l});c.start=s["default"].timer(),c.auctionId=s["default"].generateId(12),c.impid=s["default"].generateId(12),c.ssp="dmx",c.zone=districtmEasyMap[n].zoneId,c.dmtagid=districtmEasyMap[n].dmtagid,u["default"].register(c.auctionId,c),t.getBid(t.qryStringCall(c)),n++,n===i&&(n=0)}else{var c=s["default"].clone({},e);c.start=s["default"].timer(),c.auctionId=s["default"].generateId(12),c.impid=s["default"].generateId(12),c.ssp="dmx",u["default"].register(c.auctionId,c),t.getBid(t.qryStringCall(c))}})}}]),e}();t["default"]=new g},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,d=e[Symbol.iterator]();!(n=(o=d.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(s){r=!0,a=s}finally{try{!n&&d["return"]&&d["return"]()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return a(e,[{key:"remove",value:function(e,t){this.register(e,"",this.extend(t,{expires:-1}))}},{key:"set",value:function(e,t,i){var n=void 0;if(i=this.extend({path:"/"},{},i),"number"==typeof i.expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*i.expires),i.expires=r}try{n=JSON.stringify(t),/^[\{\[]/.test(n)&&(t=n)}catch(a){}return t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",t,i.expires&&"; expires="+i.expires,i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}},{key:"isSet",value:function(e){if(!e)return!1;var t=document.cookie?document.cookie.split("; "):[],i=t.filter(function(t){var i=t.split("="),n=r(i,2),a=n[0],o=n[1];if(a===e)return o});return i.length>0}},{key:"get",value:function(e){if(!e)return!1;var t=document.cookie?document.cookie.split("; "):[],i=t.filter(function(t){var i=t.split("="),n=r(i,2),a=n[0],o=n[1];if(a===e)return o});if(i.length>0){var n=r(i,1),a=n[0];return a.indexOf("true")!==-1}return!1}},{key:"Boolean",value:function(e){if(!e)return!1;var t=document.cookie?document.cookie.split("; "):[],i=t.filter(function(t){var i=t.split("="),n=r(i,2),a=n[0],o=n[1];if(a===e)return o});if(i.length>0){var n=r(i,1),a=n[0];return a.indexOf("true")!==-1}return!1}},{key:"update",value:function(e){var t=e.split(";"),i=r(t,2),n=i[0],a=i[1],o={expires:new Date(a.split("=")[1]).toUTCString()};this.set("_"+n.split("=")[0],n.split("=")[1],o)}},{key:"extend",value:function(){for(var e={},t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.forEach(function(t){for(var i in t)e[i]=t[i]}),e}}]),e}();t["default"]=new o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(0),s=n(d),l=i(1),u=n(l),c=i(8),f=(n(c),function(){function e(){a(this,e),this.url="//ib.adnxs.com/ut/v2/prebid",this.memberId=1908}return o(e,[{key:"execute",value:function(e){var t=districtmEasyMap.length,i=0,n=e.map(function(e){var n={};return n.gglePlacement=e[0],n.ggle=e[2],n.adSlot=n.ggle,n.auctionId=s["default"].generateId(12,"text"),n.sizes=[],e[1].forEach(function(e){n.sizes.push(e.split("x"))}),n.ssp="appnexus",n.params=n,n.placementId=districtmEasyMap[i].id,n.id=districtmEasyMap[i].dmtagid,i<t?i++:i=0,u["default"].register(n.auctionId,n),n});s["default"].ajaxObj(this.buildRequests(n,s["default"].generateId(12,"text")),this.cb)}},{key:"bidToTag",value:function(e){var t={};return t.sizes=this.transformSizes(e.sizes),t.primary_size=t.sizes[0],t.uuid=e.auctionId,t.id=parseInt(e.params.placementId),t.allow_smaller_sizes=!0,t.prebid=!0,t.disable_psa=!0,t}},{key:"transformSizes",value:function(e){var t=[],i={};if(1===e.length)i.width=parseInt(e[0][0],10),i.height=parseInt(e[0][1],10),t.push(i);else if(e.length>1)for(var n=0;n<e.length;n++){var r=e[n];i={},i.width=parseInt(r[0],10),i.height=parseInt(r[1],10),t.push(i)}return t}},{key:"cb",value:function(e){var t=e.tags;e.member_id;t&&t.length>0&&Array.isArray(t)&&t.forEach(function(e){try{}catch(t){}var i=s["default"].clone({},u["default"].selectById(e.uuid));try{i.ssp="appnexus",i.winBid=parseFloat(e.ads[0].cpm*districtmCurrencyRate).toFixed(2),i.html=e.ads[0].rtb.banner.content,i.width=e.ads[0].rtb.banner.width,i.height=e.ads[0].rtb.banner.height,i.size=i.width+"x"+i.height}catch(t){i.winBid=0}try{var n=e.ads[0].rtb.trackers[0].impression_urls[0],r='<img src="'+n+'" style="display:none;">';i.html+=r}catch(a){}u["default"].update(i.auctionId,i),s["default"].setTargeting(i)})}},{key:"buildRequests",value:function(e,t){var i=this,n=e.map(function(e){return i.bidToTag(e)}),a=!1,o=void 0;a&&(o={},Object.keys(a.params.user).filter(function(e){return USER_PARAMS.includes(e)}).forEach(function(e){return o[e]=a.params.user[e]}));var d=(this.memberId,this.memberId),s={tags:[].concat(r(n)),user:o,sdk:{source:"pbjs",version:"22"}};d>0&&(s.member_id=d);var l=JSON.stringify(s);return{method:"POST",url:this.url,data:l,bidderRequest:t}}}]),e}());t["default"]=new f},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(0),d=n(o),s=i(1),l=n(s);e.exports={bidResponseAvailable:function(e,t){if(t){var i={};i.winBid=parseFloat(t.bidCpm*districtmRatio*districtmCurrencyRate).toFixed(4),i.adUrl="",i.trackingUrl="",i.html=t.html,i.auctionId=e.auctionId,i.callBackId=e.ggle,i.adSlot=e.ggle+"-pulsepoint-"+e.size,i.size=e.size,i.zone=e.zone,i.end=d["default"].timer(),l["default"].update(i.auctionId,i),d["default"].loadTime(l["default"].select(i)),i.winBid>0&&window.districtmBids.push(i),d["default"].logger(i),d["default"].setTargeting(l["default"].selectById(i.auctionId))}},bidResponseCallback:function(e){var t=this;return function(i){t.bidResponseAvailable(e,i)}},bid:function(e){var t=this,i=t.bidResponseCallback(e),n=new window.pp.Ad({cf:e.size,cp:e.cp,ct:e.tag,cn:1,ca:window.pp.requestActions.BID,cu:"//tag.contextweb.com/bid",callback:i});n.display()},getPulsepointBid:function(e){var t=this;"undefined"==typeof window.pp?d["default"].loadScript("//tag.contextweb.com/getjs.static.js",function(){t.bid(e)}):t.bid(e)},execute:function(e){if(d["default"].isInArray("fff",districtmSsp)){var t=this,i=d["default"].clone({},e),n={};n["728x90"]=208357,n["300x250"]=208356,n["160x600"]=208355,n["300x600"]=226298,n["320x50"]=226299;var r=i.sizes;for(var a in r)i.size=r[a],i.tag=n[i.size],i.cp=557776,i.auctionId=d["default"].generateId(30),i.ssp="pulsepoint",i.start=d["default"].timer(),l["default"].register(i.auctionId,i),t.getPulsepointBid(i)}try{if(window.districtmExtSSP.pulsepoint){var o=window.districtmExtSSP.pulsepoint,s=(o.defaults,o.specific),u=d["default"].clone({},e),c=s.filter(function(e){return e.target.indexOf(i.ggle)!==-1});c.length>0&&(u.size=c[0].sizes[0],u.tag=c[0].placement,u.auctionId=d["default"].generateId(30),u.cp=c[0].id,u.ssp="pulsepointExt",u.start=d["default"].timer(),u.ext=!0,l["default"].register(u.auctionId,u),this.getPulsepointBid(u))}}catch(f){}},"do":function(e,t){t(e)}};(function(){function e(){r(this,e)}return a(e,[{key:"bidResponseAvailable",value:function(e,t){if(t){var i={};i.winBid=parseFloat(t.bidCpm*districtmRatio*districtmCurrencyRate).toFixed(4),i.adUrl="",i.trackingUrl="",i.html=t.html,i.auctionId=e.auctionId,i.callBackId=e.ggle,i.adSlot=e.ggle+"-pulsepoint-"+e.size,i.size=e.size,i.ssp="pulsepoint",i.zone=e.zone,i.end=d["default"].timer(),l["default"].update(i.auctionId,i),d["default"].loadTime(l["default"].select(i)),i.winBid>0&&window.districtmBids.push(i),d["default"].logger(i),d["default"].setTargeting(l["default"].selectById(i.auctionId))}}},{key:"bidResponseCallback",value:function(e){var t=this;return function(i){return t.bidResponseAvailable(e,i)}}},{key:"bid",value:function(e){var t=this,i=t.bidResponseCallback(e),n=new window.pp.Ad({cf:e.size,cp:557776,ct:e.tag,cn:1,ca:window.pp.requestActions.BID,cu:"//tag.contextweb.com/bid",callback:i});n.display()}},{key:"getPulsepointBid",value:function(e){var t=this;"undefined"==typeof window.pp?d["default"].loadScript("//tag.contextweb.com/getjs.static.js",function(){t.bid(e)}):this.bid(e)}},{key:"execute",value:function(e){if(d["default"].isInArray("pp",districtmSsp)){var e=Object.create(e[0]),t=[];t["728x90"]=208357,t["300x250"]=208356,t["160x600"]=208355,t["300x600"]=226298,t["320x50"]=226299;var i=e.sizes;for(var n in i){var r={};r.ggle=e.ggle,r.size=i[n],r.tag=t[r.size],r.zone=e.zone,r.auctionId=d["default"].generateId(30),r.start=d["default"].timer(),l["default"].register(r.auctionId,r),this.getPulsepointBid(r)}}}}]),e})()},function(e,t,i){"use strict";var n,r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o){var d=!1;if(n=o,r="function"==typeof n?n.call(t,i,t,e):n,!(void 0!==r&&(e.exports=r)),d=!0,"object"===a(t)&&(e.exports=o(),d=!0),!d){var s=window.Cookies,l=window.Cookies=o();l.noConflict=function(){return window.Cookies=s,l}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function t(i){function n(t,r,a){var o;if("undefined"!=typeof document){if(arguments.length>1){if(a=e({path:"/"},n.defaults,a),"number"==typeof a.expires){var d=new Date;d.setMilliseconds(d.getMilliseconds()+864e5*a.expires),a.expires=d}a.expires=a.expires?a.expires.toUTCString():"";try{o=JSON.stringify(r),/^[\{\[]/.test(o)&&(r=o)}catch(s){}r=i.write?i.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var l="";for(var u in a)a[u]&&(l+="; "+u,a[u]!==!0&&(l+="="+a[u]));return document.cookie=t+"="+r+l}t||(o={});for(var c=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,g=0;g<c.length;g++){var p=c[g].split("="),m=p.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var h=p[0].replace(f,decodeURIComponent);if(m=i.read?i.read(m,h):i(m,h)||m.replace(f,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(s){}if(t===h){o=m;break}t||(o[h]=m)}catch(s){}}return o}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,i){n(t,"",e(i,{expires:-1}))},n.withConverter=t,n}return t(function(){})})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(0),a=n(r),o=function(){Object.forEach=function(e,t){for(var i in e)try{t(e[i]),a["default"].logger("ssp: "+i+", message: was called for execution")}catch(n){a["default"].logger("ssp: "+i+", error: "+n.message)}}};t["default"]=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(0),d=n(o),s=function(){function e(t){r(this,e),this.objPredefined=t}return a(e,[{key:"run",value:function(){for(var e in this.objPredefined)d["default"].defineSlot(e,this.objPredefined[e],e)}}]),e}();t["default"]=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.EventLogger=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(0),d=n(o);t.EventLogger=function(){function e(t,i,n){r(this,e),this.ads={placement:t,size:i,target:n},this.run}return a(e,[{key:"timeOut",value:function(){var e=this;this.run=setTimeout(function(){var t=e.ads,i=t.placement,n=t.size,r=t.target;d["default"].logger(i+" = "+JSON.stringify(n)+" = "+r),d["default"].logger("from timeout"),d["default"].defineSlot(i,n,r)},50)}},{key:"kill",value:function(){clearTimeout(this.run)}},{key:"what",value:function(){}}]),e}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(0),s=(n(d),i(3)),l=!0,u=function(){function e(){a(this,e),this.keep=[],this.show=[]}return o(e,[{key:"run",value:function(){}},{key:"defineSlot",value:function(e,t,i){var n=[];Array.isArray(t[0])?(n=t.map(function(e){return e[0]+"x"+e[1]}),n=n.filter(function(e){return districtmAllowedSizes.indexOf(e)!=-1})):districtmAllowedSizes.indexOf(t[0]+"x"+t[1])!=-1&&(n=[t[0]+"x"+t[1]]),n.length>0&&this.keep.push([e,n,i])}},{key:"display",value:function(e,t,i){var n,a=this,o=this.keep.filter(function(t){return t[2]===e});(n=this.show).push.apply(n,r(o)),l&&(setTimeout(function(){s.combine.forEach(function(e){return e.execute(a.show)})},100),l=!1),setTimeout(function(){i()},t)}}]),e}();t["default"]=new u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(1),d=n(o),s=i(0),l=n(s),u={},c=function(){function e(){r(this,e)}return a(e,[{key:"each",value:function(e,t){var i;for(var n in e)if(e[n].ggle===t){u[t]||(u[t]=[]);var r=e[n],a=r.ssp,o=r.winBid,d=r.auctionid;a&&o&&(i=d,u[e[n].ggle].push({ssp:a,cpm:o}))}return!(!u[t]&&!Array.isArray(u[t]))&&{auctionid:i,bids:u[t]}}},{key:"exec",value:function(e){var t=this.each(d["default"].col,e);if(t){var i=new Image;i.src="//dmx.districtm.ca/csbl/"+l["default"].dmca_b64.encode(JSON.stringify(t))}}}]),e}();t["default"]=new c},function(e,t,i){"use strict";i(0);window.dmWidget={},e.exports={create:function(){var e=document.createElement("div"),t=document.createElement("div");return e.id="layer",e.style.position="fixed",e.style.width="100%",e.style.height="50px",e.style.zIndex="10000",e.style.left="0px",e.style.bottom="0px",t.id="dm_close",t.style.width="50px",t.style.height="50px",t.style.position="absolute",t.style.right="0px",t.style.backgroundColor="green",e.appendChild(t),this.append(e)},append:function(e){window.addEventListener("load",function(){document.getElementsByTagName("body")[0].appendChild(e)})},execute:function(){try{localStorage&&localStorage.dmComsole===!0&&this.create();}catch(e){}}}},function(e,t,i){"use strict";var n=(i(0),function(){this.info=function(){try{}catch(e){}}});e.exports=new n}]);