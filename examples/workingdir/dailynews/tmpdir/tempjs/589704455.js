(()=>{"use strict";var n={};function t(n,t,e,r,o,i,a){try{var s=n[i](a),u=s.value}catch(n){return void e(n)}s.done?t(u):Promise.resolve(u).then(r,o)}function e(n){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=n.apply(e,r);function s(n){t(a,o,i,s,u,"next",n)}function u(n){t(a,o,i,s,u,"throw",n)}s(void 0)}))}}function r(n){function t(n,t){window.apstag._Q.push([n,t])}return window.apstag||(window.apstag={init:function(){t("i",arguments)},fetchBids:function(){t("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]}),window.apstag.init({pubID:"3391",adServer:"googletag",bidTimeout:1e3,deals:!0}),Promise.resolve()}function o(n,t){return new Promise((function(n,e){if(window.apstag||!window.googletag)if(t&&t.length){var r=t.map((function(n){var t=document.getElementById(n);return{slotID:n,sizes:t.zeus.currentSizes,slotName:t.adUnitPath}}));try{window.apstag.fetchBids({slots:r,timeout:1e3},(function(){window.googletag.cmd.push((function(){var t=r.map((function(n){return n.slotID}));window.apstag.setDisplayBids(t),n()}))}))}catch(n){e(n)}}else n();else e("Required ad scripts not found on the page.")}))}function i(){return(i=e(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=new window.ZeusAdapter.ZeusAdapter({onInitialize:r,onBiddingStart:o}),n.prev=1,n.next=4,t.connect();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.warn("An error occurred calling window.ZeusAdapter.ZeusAdapter.connect(): ",n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})))).apply(this,arguments)}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),function(){i.apply(this,arguments)}()})();
//# sourceMappingURL=dfm-zeus-bundle.js.map;
"use strict";!function(){var t={initialize:function(){this.initializeSsoTools(),this.addEmailToMenu()},initializeSsoTools:function(){t.debug()&&console.log("DEBUG: MNG_SSO_TOOLS_GLOBAL_START"),this.startTimer(),"undefined"!=typeof MNG_SSO_CONNEXT_EVENT_TIMING_ANALYTICS&&(t.debug()&&console.log("DEBUG: MNG_SSO_CONNEXT_EVENT_TIMING_ANALYTICS global detected"),this.connextEvents())},debug:function(){var o=!1;return o="undefined"!=typeof MNG_SSO_TOOLS_DEBUG?!0:o},pushToGA:function(o){void 0!==window.MG2DL?(t.debug()&&console.log("DEBUG: MG2DL object available; payload to push: "+JSON.stringify(o)),window.MG2DL.push(o)):(t.debug()&&(console.log("DEBUG: MG2DL not available, setting 5-second timeout to retry"),console.log("DEBUG: Payload to push - "+JSON.stringify(o))),setTimeout(t.pushToGA,5e3,o)),void 0!==window.dataLayer&&(t.debug()&&console.log("DEBUG: MNGDL object available; payload to push: "+JSON.stringify(o.Auth0SocialConnection)),"undefined"!=typeof dataLayer&&dataLayer.push({Auth0SocialConnection:o.Auth0SocialConnection}))},startTimer:function(){var o=this;o.debug()&&console.log("DEBUG: hit startTimer function");var n=Date.now();o.debug()&&console.log("DEBUG: start timer: "+JSON.stringify(n)),window.MNG_SSO_TOOLS_GLOBAL_START_TIME=n,performance.mark("startTimer"),o.connextLoginButtonTimer(n)},connextLoginButtonTimer:function(n){var e=this;e.debug()&&console.log("DEBUG: hit connextLoginButtonTimer function"),e.debug()&&console.log("DEBUG: start timer: "+JSON.stringify(n)),document.addEventListener("onFinish",function(){performance.mark("connext_onFinish");var o=Date.now();e.debug()&&console.log("DEBUG: stop timer: "+JSON.stringify(o));o-=n;e.debug()&&console.log("DEBUG: diff timer: "+JSON.stringify(o)),"undefined"!=typeof dataLayer&&dataLayer.push({"Timer.LoginButtonShown":o})})},getCookie:function(o){for(var n=o+"=",e=void 0,t=void 0,i=document.cookie.split(";"),l=0;l<i.length;l++){for(var a=i[l];" "==a.charAt(0);)a=a.substring(1,a.length);0==a.indexOf(n)&&(e=a.substring(n.length,a.length))}if(void 0===e)return this.debug()&&console.log("DEBUG: auth0 user state source unknown"),"unknown";o=/(^.*\|]*)/g,t=(1<e.match(o)[0].split("|").length-1?e.match(o)[0].replace("|","-"):e.match(o)[0]).replace("|","");return this.debug()&&console.log("DEBUG: auth0 user state source "+t),t},connextEvents:function(){var e=this;e.debug()&&console.log("DEBUG: hit connextEvents function");var t,i=Date.now(),l=void 0,a=void 0,s=void 0,r=void 0;document.addEventListener("onInit",function(){performance.mark("connext_onInit"),e.debug()&&console.log("DEBUG: hit onInit event listener"),a=Date.now()-i}),document.addEventListener("onLoggedIn",function(){performance.mark("connext_onLoggedIn"),e.debug()&&console.log("DEBUG: hit onLoggedIn event listener"),l=Date.now()-i}),document.addEventListener("onPaywallShown",function(o){performance.mark("connext_onPaywallShown"),e.debug()&&console.log("DEBUG: hit onPaywallShown event listener"),t=Date.now()-i,r=e.getCookie("auth0_sub");var n={event:"setTimer",actionName:"Timer",onLoggedInTimer:l,onInitTimer:a,onMeterStopTimer:t,onFinishTimer:s,Auth0SocialConnection:r};e.debug()&&console.log("DEBUG: onPaywallShown payload: "+JSON.stringify(n)),e.pushToGA(n),e.debug()&&console.log("DEBUG: onPaywallShown payload pushed"),e.debug()&&(console.log("DEBUG: events pushed with the onPaywallShown event listener"),!1===isNaN(l)?console.log("DEBUG: onLoggedInTimer "+Math.floor(l/1e3)+" seconds - ( "+l+" )"):console.log("DEBUG: onLoggedInTimer is not available"),!1===isNaN(a)?console.log("DEBUG: onInitTimer "+Math.floor(a/1e3)+" seconds - ( "+a+" )"):console.log("DEBUG: onInitTimer is not available"),!1===isNaN(t)?console.log("DEBUG: onMeterStopTimer "+Math.floor(t/1e3)+" seconds - ( "+t+" )"):console.log("DEBUG: onMeterStopTimer is not available"),!1===isNaN(s)?console.log("DEBUG: onFinishTimer "+Math.floor(s/1e3)+" seconds - ( "+s+" )"):console.log("DEBUG: onFinishTimer is not available"))}),document.addEventListener("onFinish",function(){e.debug()&&console.log("DEBUG: hit onFinish event listener"),s=Date.now()-i,r=e.getCookie("auth0_sub");var o={event:"setTimer",actionName:"Timer",onLoggedInTimer:l,onInitTimer:a,onFinishTimer:s,Auth0SocialConnection:r};e.debug()&&console.log("DEBUG: onFinish payload: "+JSON.stringify(o)),e.pushToGA(o),e.debug()&&console.log("DEBUG: onFinish payload pushed"),e.debug()&&(console.log("DEBUG: events pushed with the onFinish event listener"),!1===isNaN(l)?console.log("DEBUG: onLoggedInTimer "+Math.floor(l/1e3)+" seconds - ( "+l+" )"):console.log("DEBUG: onLoggedInTimer is not available"),!1===isNaN(a)?console.log("DEBUG: onInitTimer "+Math.floor(a/1e3)+" seconds - ( "+a+" )"):console.log("DEBUG: onInitTimer is not available"),!1===isNaN(s)?console.log("DEBUG: onFinishTimer "+Math.floor(s/1e3)+" seconds - ( "+s+" )"):console.log("DEBUG: onFinishTimer is not available"))})},addEmailToMenu:function(){var e=this;window.addEventListener("load",function(){var o=null;if("undefined"!=typeof MNGPaywall){var n=MNGPaywall.findUserInfo();null!==n&&null!==n.email&&(o=n.email),t.debug()&&console.log("Piano provided an email of "+o)}else{if(!e.getCookie("auth0_sub")||"undefined"==typeof Connext)return;n=Connext.Storage.GetUserProfile();null!=n&&(o=n.email,t.debug()&&console.log("Connext provided an email of "+o))}null!==o&&(o="Logout | "+o,$(".status-bar-menu > .log-out-button > a").text(o))})}};t.initialize()}();;
