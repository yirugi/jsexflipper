(window._vfP=window._vfP||[]).push([[157],{473:function(t,e,n){"use strict";n.r(e);n(46),n(17),n(11),n(8),n(7),n(4),n(22),n(16),n(25),n(29),n(24),n(31),n(30),n(39),n(119);var r,c=n(3),o=n(120),i=n(577),u=n(1),a=n(12);function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,c,o=[],i=!0,u=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){u=!0,c=t}finally{try{i||null==n.return||n.return()}finally{if(u)throw c}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d=["actor_uuid","content","content_container_uuid","content_uuid","parent_actor_uuid","parent_uuid","section_uuid","thread_uuid"];function l(t,e,n){var r=Object.entries(n).filter((function(t){var e=b(t,1)[0];return d.includes(e)})).reduce((function(t,e){var n=b(e,2),r=n[0],c=n[1];return t[r]=c,t}),{});a.a.getInstance().$publish(t,e,r)}var _,p=(s(r={},c.m,Object(i.a)(u.e.CHANNEL,u.e.EVENTS.CREATED,o.b,l)),s(r,c.n,Object(i.a)(u.l.CHANNEL,u.l.EVENTS.POSTED,o.y,l,!0)),r),O=n(701);function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m,j=(y(_={},c.bb,Object(O.a)(o.q)),y(_,c.ab,Object(O.a)(o.o)),y(_,c.ub,Object(O.b)(o.r)),_),v=(n(10),n(0)),h=n(2),g=n(13),P=n(179),w=(n(232),n(702));function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D,S=(E(m={},c.Lb,(function(t,e){switch(e.message_type){case P.b.LIVECOMMENT:return e.action!==P.a.UPDATED||(t.commit(h.hc,{key:e.content_uuid,item:e.payload.settings}),t.commit(h.cc,{key:e.content_uuid,item:{title:e.payload.title}})),Promise.resolve();case P.b.LIVECOMMENT_POST:case P.b.REPLY_TO_LIVECOMMENT_POST_DEPRECATED:var n=t.getters[v.S](e.content_uuid);return n&&(!n.date_edited&&e.payload.date_edited||n.date_edited<e.payload.date_edited)||e.payload.actor_uuid===t.getters[v.kb]?Promise.resolve():e.payload.thread_uuid===e.payload.content_container_uuid?t.dispatch(c.Qb,e):t.dispatch(c.Rb,e);default:return Promise.resolve()}})),E(m,c.Qb,(function(t,e){switch(e.action){case P.a.PICKED:return Object(w.b)(t,e);case P.a.UNPICKED:return Object(w.e)(t,e)}if(t.getters[v.Tb])switch(e.action){case P.a.CREATED:return Object(w.f)(t,e);default:return Promise.resolve()}switch(e.action){case P.a.VISIBLE:return Object(w.f)(t,e);case P.a.DISABLED:case P.a.DELETED:return Object(w.a)(t,e);default:return Promise.resolve()}})),E(m,c.Rb,(function(t,e){if(t.getters[v.Tb])switch(e.action){case P.a.CREATED:return Object(w.d)(t,e);default:return Promise.resolve()}switch(e.action){case P.a.VISIBLE:return Object(w.d)(t,e);case P.a.DISABLED:case P.a.DELETED:return Object(w.c)(t,e);default:return Promise.resolve()}})),E(m,g.i,(function(t,e){return t.state[e.container_uuid]?t.dispatch(c.Lb,e):Promise.resolve()})),m),T=n(703);function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=(A(D={},c.Vb,T.c(o.v)),A(D,c.od,T.e(o.B)),A(D,c.G,T.a(o.g)),A(D,c.jd,T.d(o.A)),A(D,c.Fb,T.b(o.j)),D),C=n(106),I=n(6),N=n(178),R=n(51),B=n(70),U=n(14),L=function(t){return{content_container_uuid:t,title:"",cursor:void 0,is_subscribed:!1,is_stale:!1,all_content_count:0,featured_content_count:0}},M=(n(121),n(79),n(28)),z=n(58),V=n(15);function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){G(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H(t,e,n,r){var c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(V.b)(t,"sectionUuid","getContentContainerSubscription"),Object(V.b)(e,"contentContainerUuid","getContentContainerSubscription");var c,o="/v5/subscriptions/{section_uuid}/contentcontainers/{content_container_uuid}".replace("{".concat("section_uuid","}"),encodeURIComponent(String(t))).replace("{".concat("content_container_uuid","}"),encodeURIComponent(String(e))),i=M.parse(o,!0);r&&(c=r.baseOptions);var u=x(x({method:"GET"},c),n),a={},s={};if(r&&r.accessToken){var b="function"==typeof r.accessToken?r.accessToken():r.accessToken;a.Authorization="Bearer "+b}return r&&(r.username||r.password)?a.Authorization="Basic "+btoa(r.username+":"+r.password):u.withCredentials=!0,i.query=x(x(x({},i.query),s),n.query),delete i.search,u.headers=x(x({},a),n.headers),{url:M.format(i),options:u}}(t,e,n,r),o=x(x({},c.options),{},{url:V.a+c.url});return z.a.request(o)}function W(t,e,n,r,c){var o=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(V.b)(t,"sectionUuid","subscribeToContentContainer"),Object(V.b)(e,"contentContainerUuid","subscribeToContentContainer");var o,i="/v5/subscriptions/{section_uuid}/contentcontainers/{content_container_uuid}".replace("{".concat("section_uuid","}"),encodeURIComponent(String(t))).replace("{".concat("content_container_uuid","}"),encodeURIComponent(String(e))),u=M.parse(i,!0);c&&(o=c.baseOptions);var a=x(x({method:"POST"},o),r),s={},b={};if(c&&c.accessToken){var f="function"==typeof c.accessToken?c.accessToken():c.accessToken;s.Authorization="Bearer "+f}c&&(c.username||c.password)?s.Authorization="Basic "+btoa(c.username+":"+c.password):a.withCredentials=!0,s["Content-Type"]="application/json",u.query=x(x(x({},u.query),b),r.query),delete u.search,a.headers=x(x({},s),r.headers);var d="string"!=typeof n||"application/json"===a.headers["Content-Type"];return a.data=d?JSON.stringify(void 0!==n?n:{}):n||"",{url:M.format(u),options:a}}(t,e,n,r,c),i=x(x({},o.options),{},{url:V.a+o.url});return z.a.request(i)}function F(t,e,n,r){var c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(V.b)(t,"sectionUuid","unsubscribeFromContentContainer"),Object(V.b)(e,"contentContainerUuid","unsubscribeFromContentContainer");var c,o="/v5/subscriptions/{section_uuid}/contentcontainers/{content_container_uuid}".replace("{".concat("section_uuid","}"),encodeURIComponent(String(t))).replace("{".concat("content_container_uuid","}"),encodeURIComponent(String(e))),i=M.parse(o,!0);r&&(c=r.baseOptions);var u=x(x({method:"DELETE"},c),n),a={},s={};if(r&&r.accessToken){var b="function"==typeof r.accessToken?r.accessToken():r.accessToken;a.Authorization="Bearer "+b}return r&&(r.username||r.password)?a.Authorization="Basic "+btoa(r.username+":"+r.password):u.withCredentials=!0,i.query=x(x(x({},i.query),s),n.query),delete i.search,u.headers=x(x({},a),n.headers),{url:M.format(i),options:u}}(t,e,n,r),o=x(x({},c.options),{},{url:V.a+c.url});return z.a.request(o)}var K,$=n(88);n(104);function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach((function(e){Z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J,X=C.b,tt=I.c.COMMENTS,et=(Z(K={},c.p,(function(t,e){var n=t.dispatch,r=e.section_uuid,i=e.container_id,u=e.title,a=e.settings,s=e.widget_settings,b=s.limit,f=s.reply_limit,d=s.sorted_by,l=s.signature;a=Y(Y({},{activation_time:Date.now(),expiry_time:null,is_hidden:!1,maximum_content_length:1800,is_content_premoderation_enabled:!0}),a);var _={container_id:i,title:u,settings:a},p={signature:s.signature};return Object(o.c)({section_uuid:r,container:_},p).then((function(){return Object(o.m)({section_uuid:r,container_id:i,limit:b,reply_limit:f,sorted_by:d},{signature:l}).then((function(t){var e={section_uuid:r,container_id:i,widget_settings:s,response:t};return n(c.pc,e)}))}))})),Z(K,c.wd,(function(t,e){var n=t.getters,r=t.commit,c=e.content_container_uuid,i=e.settings,u=n[v.zc](c),a=n[v.V](c),s=Y({expiry_time:a.expiry_time,is_content_premoderation_enabled:a.is_content_premoderation_enabled,is_hidden:a.is_hidden},i),b={section_uuid:u,content_container_uuid:c,settings:s},f={key:c,item:s};return Object(o.F)(b).then($.b).then((function(){r(h.hc,f)}))})),Z(K,c.z,(function(t,e){var n=t.getters,r=t.commit,c=e.content_container_uuid,i=e.settings,u={section_uuid:n[v.zc](c),content_container_uuid:c,settings:Object.keys(i)},a={key:c,item:i};return Object(o.e)(u).then($.b).then((function(){r(h.hc,a)}))})),Z(K,c.pc,(function(t,e){var n=t.commit,r=t.dispatch,o=e.response,i=o.content_container_uuid,u=o.container,a=e.widget_settings;n("".concat(N.a,"/").concat(h.Ub),i),n(h.lb,{key:i,item:L(i)}),n(h.Tc,{key:i,item:a}),n(h.cc,{key:i,item:{all_content_count:u.total_visible_content}});var s=r(c.oc,e),b=r(c.db,i);return Promise.all([s,b])})),Z(K,c.oc,(function(t,e){var n=t.commit,r=t.getters,o=t.dispatch,i=e.container_id,u=e.response,s=e.section_uuid,b=u.content_container_uuid,f=u.more_available,d=u.container,l=u.contents,_=d.settings,p=d.title,O=r[v.Wb];n(h.lb,{key:b,item:{is_stale:O}}),n(h.hc,{key:b,item:_}),n(h.cc,{key:b,item:{cursor:nt(b,l),title:p}}),n(h.c,{container_id:i,content_container_type:X,content_container_uuid:b}),a.a.getInstance().$publish("analytics","content_container_load",{content_container_uuid:b,content_container_type:X,widget_type:tt});var y=o(c.Gc,{content_container_uuid:b,contents:l}).then((function(){return o("".concat(N.a,"/").concat(c.u),{content_container_uuid:b,contents:l,more_available:f})})),m=new Promise((function(t,e){window.vf.context.get("user").then((function(n){return Object(U.r)(n)?o(c.lb,{section_uuid:s,content_container_uuid:b}).then((function(){return t.apply(void 0,arguments)})).catch((function(){return e.apply(void 0,arguments)})):Promise.resolve()}))}));return new Promise((function(t,e){y.then((function(e){var n=[e];m.then((function(e){n.push(e),t(n)})).catch((function(){t(n)}))})).catch((function(t){e(t)}))}))})),Z(K,c.kb,(function(t,e){var n,r=t.commit,i=t.dispatch,u=t.getters,a=u[v.xd](e),s=a.pagination_limit,b=a.reply_limit,f=a.sorted_by,d=u[v.zc](e),l=u["".concat(N.a,"/").concat(v.Sc)](e).page_from;return Object(o.k)({starting_from:l,section_uuid:d,content_container_uuid:e,limit:s,reply_limit:b,sorted_by:f}).then((function(t){var o=t.more_available,u=t.contents;return n=u,r(h.cc,{key:e,item:{cursor:nt(e,u)}}),r("".concat(N.a,"/").concat(h.Lc),{thread_uuid:e,more_available:o}),i(c.Gc,{content_container_uuid:e,contents:n})})).then((function(){return i("".concat(N.a,"/").concat(c.u),{content_container_uuid:e,contents:n})})).then((function(){var t=n.filter((function(t){return t.thread_uuid===e}));r("".concat(N.a,"/").concat(h.B),{thread_uuid:e,contents:t,new_page:!0})}))})),Z(K,c.db,(function(t,e){var n,r,i=t.commit,u=t.dispatch,a=t.getters,s=a[v.xd](e),b=s.limit,f=s.sorted_by,d=a[v.zc](e),l=a["".concat(N.b,"/").concat(v.Sc)](e)?a["".concat(N.b,"/").concat(v.Sc)](e).page_from:null;return Object(o.k)({starting_from:l,section_uuid:d,content_container_uuid:e,limit:b,reply_limit:0,sorted_by:f,filtered_by:R.d.FEATURED}).then((function(t){var o=t.contents,i=t.more_available;return n=o,r=i,u(c.Gc,{content_container_uuid:e,contents:n})})).then((function(){return n=n.filter((function(t){var e=t.actor_uuid,n=t.state;return!a[v.kd](e)&&n===B.c.VISIBLE})),u("".concat(N.b,"/").concat(c.u),{content_container_uuid:e,contents:n})})).then((function(){i("".concat(N.b,"/").concat(h.B),{thread_uuid:e,contents:n,new_page:!0}),i("".concat(N.b,"/").concat(h.Lc),{thread_uuid:e,more_available:r}),i(h.cd,{content_container_uuid:e,count:n.length})}))})),Z(K,c.lb,(function(t,e){var n=t.commit,r=e.section_uuid,c=e.content_container_uuid;return H(r,c).then($.b).catch((function(t){return 401!==t.error_status&&404!==t.error_status&&Promise.reject(t)})).then((function(t){n(h.cc,{key:c,item:{is_subscribed:Boolean(t)}})})).catch((function(t){}))})),Z(K,c.Kc,(function(t,e){var n=t.commit,r=e.section_uuid,c=e.content_container_uuid;return n(h.cc,{key:c,item:{is_subscribed:!0}}),W(r,c,{author_host_section_uuid:r}).then($.b).catch((function(){n(h.cc,{key:c,item:{is_subscribed:!1}})}))})),Z(K,c.ud,(function(t,e){var n=t.commit,r=e.section_uuid,c=e.content_container_uuid;return n(h.cc,{key:c,item:{is_subscribed:!1}}),F(r,c).then($.b).catch((function(){n(h.cc,{key:c,item:{is_subscribed:!0}})}))})),Z(K,c.zd,(function(t,e){var n=t.commit,r=t.dispatch,o=t.getters,i=e.sorted_by,u=e.content_container_uuid;return o[v.xd](u).sorted_by===i?Promise.resolve():(n(h.cc,{key:u,item:{cursor:void 0,contents:[]}}),n(h.Tc,{key:u,item:{sorted_by:i}}),n("".concat(N.a,"/").concat(h.N),u),r(c.kb,u))})),Z(K,c.yc,(function(t,e){var n=t.commit,r=t.dispatch;return n(h.cc,{key:e,item:{cursor:void 0,contents:[],is_stale:!1}}),n("".concat(N.a,"/").concat(h.N),e),r(c.kb,e)})),K),nt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0!==e.length){var n=e[e.length-1],r=n.thread_uuid,c=n.content_uuid;return r===t?c:r}},rt=n(704);function ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ot,it=(ct(J={},c.j,rt.a(o.a)),ct(J,c.I,rt.c(o.w)),ct(J,c.K,rt.d(o.C)),ct(J,c.Jc,rt.g(o.z)),ct(J,c.td,rt.i(o.E)),ct(J,c.R,rt.e(o.i)),ct(J,c.D,rt.b(o.f)),ct(J,c.mc,rt.f(o.x)),ct(J,c.rd,rt.h(o.D)),J),ut=n(705),at=n(545);function st(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dt=(ft(ot={},c.N,ut.a(o.h)),ft(ot,c.Dc,(function(t,e){var n=t.commit,r=t.getters;if(!r[v.Y](e))return Promise.reject();var c=bt(bt({},Object(at.a)(r,{content_uuid:e})),{},{content_uuid:e});return o.d(c).then($.b).then((function(){var t=r[v.S](e),c=r[v.id](t.actor_uuid),o=t.total_replies&&!Object(U.H)(c)?B.c.HIDDEN:B.c.DISABLED;n(h.ic,{content_uuid:e,simplified_state:o})}))})),ot);var lt,_t,pt,Ot,yt=!1,mt=(_t={},pt=c.fc,Ot=function(t,e){var n=t.state,r=t.commit;if(e&&(clearTimeout(lt),yt)){yt=!1;var c={is_stale:!0};Object.keys(n).forEach((function(t){r(h.lb,{key:t,item:c})}))}e||(lt=setTimeout((function(){yt=!0}),5e3))},pt in _t?Object.defineProperty(_t,pt,{value:Ot,enumerable:!0,configurable:!0,writable:!0}):_t[pt]=Ot,_t);function jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(n),!0).forEach((function(e){ht(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gt=vt(vt(vt(vt(vt(vt(vt(vt({},p),j),et),S),k),it),dt),mt),Pt=n(26),wt=n(40);function Et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dt;function St(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tt=(St(Dt={},v.ic,(function(t){return function(e){return t[e]}})),St(Dt,v.Zb,(function(t){return function(e){return t[e].is_subscribed}})),St(Dt,v.h,(function(t){return function(e){return t[e].all_content_count}})),St(Dt,v.nb,(function(t){return function(e){return t[e].featured_content_count}})),Dt);n.d(e,"storeModule",(function(){return At}));var At=function(){return{actions:gt,mutations:(Et(t={},h.lb,Object(wt.h)(Pt.default,L)),Et(t,h.cc,Object(wt.g)()),Et(t,h.cd,(function(t,e){var n=e.content_container_uuid,r=e.count;t[n].featured_content_count+=r})),t),getters:Tt};var t}},521:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return b})),n.d(e,"e",(function(){return f})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return p}));n(46),n(17),n(11),n(8),n(7),n(22),n(54),n(10),n(4);var r=n(2),c=n(0),o=n(70);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(t){return function(e,n){return e[t](n)}},b=function(t){return function(e,n){return!e[t](n)}},f=function(t,e){return function(n,r,c){t(n,c)&&e.forEach((function(t){return r(t,c)}))}},d=function(t,e,n){return function(c){return c.hasOwnProperty("error_status")?(t(r.ec,{key:e,item:n}),Promise.reject(c.error_status)):Promise.resolve()}},l=function(t,e){var n=t[c.W](e);return{section_uuid:t[c.zc](n),content_container_uuid:n,content_uuid:e}},_=function(t,e){return function(n,r){var o=n.commit,i=n.getters,u=Object.assign({},i[c.S](r)),a=l(i,r);return e.forEach((function(t){return t(i,o,r)})),t(a).then(d(o,r,u))}},p=function(t){return function(e,n){var i=e.commit,a=e.getters,s=n.content_uuid,b=n.content,f=n.media_uuids,_=Object.assign({},a[c.S](s)),p=a[c.W](s),O=a[c.V](p).is_content_premoderation_enabled,y=a[c.Ec],m=u(u({},l(a,s)),{},{content:{content:b,media_uuids:f,metadata:y}}),j={is_edited:!0,content:b};return O&&(j.state_reasons=[o.d.CONTENT_AWAITING_MODERATION]),i(r.ec,{key:s,item:j}),t(m).then(d(i,s,_))}}},545:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return b}));n(46),n(17),n(11),n(8),n(7),n(22),n(10),n(4);var r=n(129),c=n(0),o=n(2),i=n(70);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(t,e){var n=e.content_container_uuid,r=e.content_uuid;return n||(n=t[c.W](r)),{section_uuid:t[c.zc](n),content_container_uuid:n}},b=function(t,e){var n=t.getters,s=t.commit,b=e||{},f=b.error_status,d=b.data,l=n[c.kb];return f===r.FORBIDDEN&&"POSTING_BAN_ACTIVE"===d.error_code&&s(o.Qc,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({user_uuid:l,ban_level:i.a.POSTING},d.error)),Promise.reject(e)}},577:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return _})),n.d(e,"a",(function(){return O}));n(46),n(17),n(11),n(8),n(7),n(22),n(10),n(4);var r=n(3),c=n(0),o=n(2),i=n(70),u=n(178),a=n(88),s=n(545);function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(t,e){var n=t.dispatch,c=e.content,o=e.THREAD_NAMESPACE,i=void 0===o?u.a:o;return n("".concat(i,"/").concat(r.u),{content_container_uuid:c.content_container_uuid,contents:[c]}).then((function(){return n("".concat(i,"/").concat(r.c),c)}))},_=function(t,e){var n=t.commit,r=e.parent_uuid,c=e.thread_uuid;n(o.ib,c),r!==c&&n(o.ib,r)},p=function(t,e,n){var r=t.getters,u=t.commit,a=e.container_uuid,s=e.parent_actor_uuid,b=e.content_uuid,d=e.thread_uuid,l=n.content_uuid,_=r[c.kb],p=r[c.zc](a),O=r[c.V](a).is_content_premoderation_enabled,y=r[c.S](l);if(y)return Promise.resolve(y);var m=f(f({},e.content),{},{actor_uuid:_,parent_uuid:b||a,thread_uuid:d||a,state_reasons:O?[i.d.CONTENT_AWAITING_MODERATION]:[],content_container_uuid:a,section_uuid:p,content_uuid:l});return void 0!==s&&(m.parent_actor_uuid=s),u(o.ec,{key:m.content_uuid,item:m}),m},O=function(t,e,n,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(u,b){var d=u.getters,O=u.dispatch,y=b.content,m=b.container_uuid,j=b.content_uuid,v=b.THREAD_NAMESPACE;y.metadata=d[c.Ec];var h=f(f({},Object(s.a)(d,{content_container_uuid:m})),{},{content_uuid:j,content:y});return n(h).then(a.b).then((function(t){return O(r.g).then((function(){return t}))})).then((function(t){return p(u,b,t)})).then((function(n){return o(t,e,n),i?(_(u,n),O("".concat(v,"/").concat(r.c),n)):l(u,{content:n,THREAD_NAMESPACE:v})})).catch((function(t){return Object(s.b)(u,t)}))}}},701:function(t,e,n){"use strict";n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return f}));n(46),n(17),n(11),n(8),n(7),n(4),n(22),n(41);var r=n(3),c=n(2),o=n(88),i=n(545);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){return function(e,n){var u=e.getters,s=e.commit,b=e.dispatch,f=n.content_uuid,d=n.limit,l=n.starting_from,_=n.THREAD_NAMESPACE,p=a(a({},Object(i.a)(u,{content_uuid:f})),{},{content_uuid:f,limit:d,starting_from:l});return t(p).then(o.b).then((function(t){var e=t.contents.map((function(t){return a(a({},t),{},{read:!0,isNew:!1})}));return b(r.Gc,{content_container_uuid:p.content_container_uuid,contents:e}).then((function(){s("".concat(_,"/").concat(c.xb),{thread_uuid:f,contents:e})}))}))}},f=function(t){return function(e,n){var c=e.getters,u=e.dispatch,s=n.content_container_uuid,b=n.content_uuids,f=a(a({},Object(i.a)(c,{content_container_uuid:s})),{},{uuids:b});return t(f).then(o.b).then((function(t){var e=t.contents;return u(r.Gc,{content_container_uuid:s,contents:e})}))}}},702:function(t,e,n){"use strict";n.d(e,"f",(function(){return _})),n.d(e,"b",(function(){return p})),n.d(e,"e",(function(){return O})),n.d(e,"d",(function(){return y})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return j}));n(25),n(29),n(24),n(31),n(30),n(46),n(17),n(11),n(22),n(8),n(7),n(16),n(10),n(4);var r=n(3),c=n(2),o=n(0),i=n(178),u=n(577);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,c,o=[],i=!0,u=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){u=!0,c=t}finally{try{i||null==n.return||n.return()}finally{if(u)throw c}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=t.dispatch,c=e.container_uuid,o=[f(f({},e.payload),{},{content_container_uuid:c,isNew:!0})];return n(r.Gc,{content_container_uuid:c,contents:o}).then((function(){return o}))}function _(t,e){return l(t,e).then((function(e){var n=a(e,1)[0];return Object(u.b)(t,{content:n,THREAD_NAMESPACE:i.a})}))}function p(t,e){return l(t,e).then((function(e){var n=a(e,1)[0];return Object(u.b)(t,{content:n,THREAD_NAMESPACE:i.b})}))}function O(t,e){var n={content_uuid:e.content_uuid,thread_uuid:e.container_uuid};return t.commit("".concat(i.b,"/").concat(c.Hb),n),t.commit("".concat(i.b,"/").concat(c.Gb),n),Promise.resolve()}function y(t,e){return t.getters[o.S](e.payload.thread_uuid)?l(t,e).then((function(){Object(u.c)(t,e.payload);var n=t.dispatch;return Promise.all([n("".concat(i.a,"/").concat(r.c),e.payload),n("".concat(i.b,"/").concat(r.c),e.payload)])})):Promise.resolve()}function m(t,e){var n=t.dispatch,c=e.payload;return Promise.all([n("".concat(i.a,"/").concat(r.Bc),c),n("".concat(i.b,"/").concat(r.Bc),c)])}function j(t,e){var n=t.getters,c=t.dispatch,u=e.payload;return n[o.S](u.thread_uuid)?Promise.all([c("".concat(i.a,"/").concat(r.Bc),u),c("".concat(i.b,"/").concat(r.Bc),u)]):Promise.resolve()}},703:function(t,e,n){"use strict";n.d(e,"c",(function(){return f})),n.d(e,"e",(function(){return d})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return _})),n.d(e,"b",(function(){return p}));var r=n(2),c=n(0),o=n(521),i=Object(o.e)(Object(o.b)(c.cb),[r.hb,r.m]),u=Object(o.e)(Object(o.a)(c.cb),[r.V,r.Nb]),a=Object(o.e)(Object(o.b)(c.ab),[r.fb,r.f]),s=Object(o.e)(Object(o.a)(c.ab),[r.U,r.Cb]),b=Object(o.e)(Object(o.b)(c.bb),[r.j]),f=function(t){return Object(o.c)(t,[i,s])},d=function(t){return Object(o.c)(t,[u])},l=function(t){return Object(o.c)(t,[a,u])},_=function(t){return Object(o.c)(t,[s])},p=function(t){return Object(o.c)(t,[b])}},704:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return y})),n.d(e,"g",(function(){return m})),n.d(e,"i",(function(){return j})),n.d(e,"e",(function(){return v})),n.d(e,"b",(function(){return h})),n.d(e,"f",(function(){return g})),n.d(e,"h",(function(){return P}));var r=n(0),c=n(2),o=n(521),i=Object(o.e)(Object(o.a)(r.r),[c.H]),u=Object(o.e)(Object(o.a)(r.t),[c.X]),a=Object(o.e)(Object(o.a)(r.u),[c.Y]),s=Object(o.e)(Object(o.a)(r.z),[c.Uc]),b=Object(o.e)(Object(o.a)(r.B),[c.Z]),f=Object(o.e)(Object(o.a)(r.v),[c.Z]),d=Object(o.e)(Object(o.a)(r.s),[c.W]),l=Object(o.e)(Object(o.a)(r.x),[c.rb]),_=Object(o.e)(Object(o.a)(r.A),[c.ad]),p=function(t){return Object(o.c)(t,[i])},O=function(t){return Object(o.c)(t,[u])},y=function(t){return Object(o.c)(t,[a])},m=function(t){return Object(o.c)(t,[s])},j=function(t){return Object(o.c)(t,[b])},v=function(t){return Object(o.c)(t,[f])},h=function(t){return Object(o.c)(t,[d])},g=function(t){return Object(o.c)(t,[l])},P=function(t){return Object(o.c)(t,[_])}},705:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(521),c=function(t){return Object(r.d)(t)}}}]);
//# sourceMappingURL=livecomments-module-js.07b5925ffe477b4acf41.js.map