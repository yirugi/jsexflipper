/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 178);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Utils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);

var Utils = (function () {
    function Utils() {
    }
    Utils.getStoredLogLevel = function () {
        console.log("getStoredLogLevel");
    };
    Utils.objectArrayToObject = function (arr, keyName, valName) {
        var result = arr.reduce(function (obj, item) {
            obj[item[keyName]] = item[valName];
            return obj;
        }, {});
        return result;
    };
    Utils.objectToArrayDict = function (obj) {
        var result = [];
        if (obj) {
            var entries = this.entries(obj);
            entries.map(function (arr) {
                result.push({ "Key": arr[0], "Value": arr[1] });
            });
        }
        return result;
    };
    Utils.getNestedValueByString = function (str, obj) {
        var _this = this;
        return str.replace(/\[([^\]]+)]/g, ".$1").split(".").reduce(function (o, p) {
            _this.Logger.trace("[getNestedValueByString]", str, obj, o, p);
            return o[p];
        }, obj);
    };
    Utils.ArrayToDictionaryRecursive = function (arr, result, keyArg) {
        var entries = this.entries(arr);
        entries.map(function (arr) {
            if (typeof arr[1] === "object") {
                Utils.ArrayToDictionaryRecursive(arr[1], result, arr[0]);
            }
            else {
                var key = (keyArg) ? keyArg + arr[0] : arr[0];
                result.push({ "Key": key, "Value": arr[1] });
            }
        });
        return result;
    };
    Utils.entries = function (obj) {
        if (!obj)
            return [];
        var ownProps = Object.keys(obj), i = ownProps.length, resArray = new Array(i);
        while (i--)
            resArray[i] = [ownProps[i], obj[ownProps[i]]];
        return resArray;
    };
    Utils.addEventListener = function (queryType, qualifier, event, func) {
        var nodes = document[queryType](qualifier);
        nodes.forEach(function (el) {
            el.addEventListener(event, function (event) {
                func(event);
            });
        });
    };
    Utils.StripHtmlTags = function (htmlString) {
        var result = htmlString.replace(/<\/?[^>]+(>|$)/g, "");
        return result;
    };
    Utils.parseJson = function (json) {
        var retObj = { success: false };
        try {
            if (json != null) {
                retObj.data = JSON.parse(json);
                retObj.success = true;
            }
            return retObj;
        }
        catch (e) {
            this.Logger.warn("Not a valid JSON object.");
            return retObj;
        }
    };
    Utils.stringToBool = function (val) {
        try {
            if (val.toLowerCase() === "true") {
                return true;
            }
            else {
                return false;
            }
        }
        catch (error) {
            console.exception("stringToBool", error);
            return false;
        }
    };
    Utils.toTitleCase = function (str) {
        if (!str) {
            return "";
        }
        return str.toLowerCase().split(" ").map(function (word) {
            return (word.charAt(0).toUpperCase() + word.slice(1));
        }).join(" ");
    };
    Utils.createGUID = function () {
        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (c) {
            var r = parseFloat("0." + Math.random().toString().replace("0.", "") + new Date().getTime()) * 16 | 0, v = c === "x" ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        });
    };
    Utils.getConnextVersion = function () {
        return (window["connextVersion"]) ? window["connextVersion"] : "Unknown";
    };
    Utils.IsGoogleAnalyticsAvail = function () {
        if (window["ga"] && window["ga"]["create"]) {
            return true;
        }
        else {
            return false;
        }
    };
    Utils.IsGTMAvail = function () {
        if (window["google_tag_manager"]) {
            return true;
        }
        else {
            return false;
        }
    };
    Utils.IsAppInsightsAvail = function () {
        if (window["appInsights"]) {
            return true;
        }
        else {
            return false;
        }
    };
    Utils.IsConnextAvail = function () {
        if (window["Connext"]) {
            return true;
        }
        else {
            return false;
        }
    };
    Utils.getVersion = function () {
        return ("1.8.3" || "local");
    };
    ;
    Utils.getVersionBuildInfo = function () {
        return ("V.1.8.3-20201221.3" || "local");
    };
    ;
    Utils.getPageLeaveEventTrigger = function () {
        var originalEventName = "unload";
        if ("onpagehide" in window) {
            originalEventName = "pagehide";
        }
        return originalEventName;
    };
    Utils.getUserPosition = function () {
        return new Promise(function (resolve, reject) {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    resolve({
                        Lat: position.coords.latitude,
                        Long: position.coords.longitude
                    });
                }, function () {
                    reject();
                });
            }
            else {
                reject();
            }
        });
    };
    Utils.isEmpty = function (obj) {
        return Object.keys(obj).length === 0;
    };
    Utils.isset = function (value) {
        return !(typeof value == "undefined" || value == null);
    };
    Utils.objectToBigQueryString = function (obj) {
        var string = [];
        if (typeof (obj) == "object" && (obj.join == undefined)) {
            for (var prop in obj) {
                var value = Utils.isset(obj[prop]) ? obj[prop].toString() : "";
                string.push(prop + "=" + value);
            }
            ;
        }
        return string.join(";");
    };
    Utils.getLoaderVersionInfo = function () {
        if (window.MG2Loader) {
            return window.MG2Loader.GetVersionInfo();
        }
        else {
            return "MG2Loader is not defined";
        }
    };
    Utils.getFingerprintVersionInfo = function () {
        if (window.Fingerprint) {
            return window.Fingerprint.GetVersionInfo();
        }
        else {
            return "Fingerprint is not defined";
        }
    };
    Utils.getDemoMode = function () {
        if (window.RecommendationDemo) {
            return window.RecommendationDemo.getActiveRegeneration() === "false";
        }
        else {
            return false;
        }
    };
    Utils.getRandomIntegerInRange = function (min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    };
    Utils.addCustomEventListener = function (element, eventName, callback, options) {
        if (options === void 0) { options = false; }
        var listener = function (e) {
            if (e.type !== eventName) {
                return;
            }
            callback.call(element, e);
        };
        element.addEventListener(eventName, listener, options);
        return listener;
    };
    ;
    Utils.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("Utils");
    Utils.getAttributeOfDomOrParents = function (dom, name) {
        if (dom.hasAttribute(name)) {
            return dom.getAttribute(name);
        }
        else if (dom.parentElement) {
            return this.getAttributeOfDomOrParents(dom.parentElement, name);
        }
        else
            return null;
    };
    Utils.findParentByValueOfAttrbibute = function (dom, name, value) {
        if (dom.hasAttribute(name)) {
            if (dom.getAttribute(name).split(" ").indexOf(value) >= 0) {
                return dom;
            }
            else {
                return this.findParentByValueOfAttrbibute(dom.parentElement, name, value);
            }
        }
        else if (dom.parentElement) {
            return this.findParentByValueOfAttrbibute(dom.parentElement, name, value);
        }
        else
            return null;
    };
    Utils.getParentDomByTagName = function (el, tagName) {
        var fnName = "getParentDomByTagName";
        tagName = tagName.toLowerCase();
        var tagType = el.tagName.toLowerCase();
        if (tagType !== tagName && el.parentElement) {
            return this.getParentDomByTagName(el.parentElement, tagName);
        }
        else if (tagType === tagName) {
            return el;
        }
        else {
            return false;
        }
    };
    Utils.checkForNewsletterSignUpClick = function (clickTarget) {
        if (!clickTarget.hasAttribute("class") || !(clickTarget.getAttribute("class").indexOf("submit") > 0))
            return false;
        var templateElem = this.findParentByValueOfAttrbibute(clickTarget, "class", "Mg2-connext");
        if (templateElem && templateElem.children) {
            var elementChildren = templateElem.children;
            for (var i = 0; i < elementChildren.length; i++) {
                if (elementChildren[i].hasAttribute("data-tmpl-action-name") && elementChildren[i].getAttribute("data-tmpl-action-name") === "Newsletter")
                    return true;
            }
        }
        return false;
    };
    return Utils;
}());



/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__LoggerOptions__ = __webpack_require__(163);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_0__LoggerOptions__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_0__LoggerOptions__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return __WEBPACK_IMPORTED_MODULE_0__LoggerOptions__["c"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_0__LoggerOptions__["d"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__LoggerService__ = __webpack_require__(7);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_1__LoggerService__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Logger__ = __webpack_require__(62);
/* unused harmony reexport Logger */





/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SpEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__CdpEvent__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_CdpEventModel__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Core_constants_Constants__ = __webpack_require__(6);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var SpEvent = (function (_super) {
    __extends(SpEvent, _super);
    function SpEvent() {
        var _this = _super.call(this) || this;
        _this.sessionService = __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__["a" /* SessionService */].Instance;
        return _this;
    }
    SpEvent.prototype.listen = function () {
        var _this = this;
        this.Logger.trace("Registering SP EventListener", "event");
        try {
            if (this.originalEventNames && this.originalEventNames.length > 0) {
                this.originalEventNames.forEach(function (eventName, key) {
                    _this.listenEvent(eventName);
                });
            }
            else {
                if (this.originalEventName) {
                    this.listenEvent(this.originalEventName);
                }
                else {
                    this.Logger.error("No event Name in Object");
                }
            }
        }
        catch (e) {
            this.Logger.error("addSPCollectorEventListener.Error", e);
        }
    };
    SpEvent.prototype.listenEvent = function (eventName) {
        var _this = this;
        this.Logger.trace("Registering SP EventListener", "event", eventName);
        try {
            ko.postbox.subscribe(eventName, function (data) {
                _this.processEventData(eventName, data);
            });
        }
        catch (e) {
            this.Logger.error("addSPCollectorEventListener.Error", e);
        }
    };
    SpEvent.prototype.processEventData = function (eventName, data) {
        this.Logger.debug("Firing", eventName, "data", data);
        this.clearPreviousData();
        this.originalEventData = data;
        this.currentEventName = eventName;
        __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].eventFire(this);
    };
    SpEvent.prototype.getEventModel = function () {
        this.eventModel = _super.prototype.getEventModel.call(this);
        this.eventModel.EventSource = __WEBPACK_IMPORTED_MODULE_4__Core_constants_Constants__["a" /* Constants */].EventsSources.Panel;
        this.addPanelVersionInfo();
        return new __WEBPACK_IMPORTED_MODULE_2__models_CdpEventModel__["a" /* CdpEventModel */](this.eventModel);
    };
    SpEvent.prototype.addPanelVersionInfo = function () {
        var panelConfig = window.config;
        var panelVersion = panelConfig && panelConfig.BuildInfo ? panelConfig.BuildInfo.Version : 'Unknown';
        this.eventModel.EventData.push({ Key: "SourceVersion", Value: panelVersion });
    };
    return SpEvent;
}(__WEBPACK_IMPORTED_MODULE_1__CdpEvent__["a" /* CdpEvent */]));



/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextGtmTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__GtmTagEvent__ = __webpack_require__(47);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ConnextGtmTagEvent = (function (_super) {
    __extends(ConnextGtmTagEvent, _super);
    function ConnextGtmTagEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ConnextGtmTagEvent.prototype.listen = function () {
        var _this = this;
        try {
            if (this.originalEventName) {
                __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, this.originalEventName, function (e) {
                    _this.setOriginalEventData(e.detail);
                    _this.sendTagToAnalitcs();
                });
            }
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return ConnextGtmTagEvent;
}(__WEBPACK_IMPORTED_MODULE_1__GtmTagEvent__["a" /* GtmTagEvent */]));



/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CdpModuleClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CdpModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__ = __webpack_require__(144);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_logger_LoggerService__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ErInterpretation__ = __webpack_require__(145);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__UserInterests__ = __webpack_require__(147);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_DeviceDetector__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Modules_configModule_ConfigModule__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Recomendations__ = __webpack_require__(146);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Core_storages_http_Http__ = __webpack_require__(51);








var CdpModuleClass = (function () {
    function CdpModuleClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_1__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("CdpModule");
    }
    CdpModuleClass.prototype.setDlInformation = function () {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_4__Utils_DeviceDetector__["a" /* DeviceDetector */].getDeviceId().then(function (deviceId) {
            _this.Logger.debug("DeviceId", deviceId);
            return __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].setInformation(deviceId);
        });
    };
    CdpModuleClass.prototype.setDlCollectedInformation = function (apiDlData) {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_4__Utils_DeviceDetector__["a" /* DeviceDetector */].getDeviceId().then(function (deviceId) {
            _this.Logger.debug("DeviceId", deviceId);
            return __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].handleCdpDlResponce(apiDlData, deviceId);
        });
    };
    CdpModuleClass.prototype.getDlInformation = function () {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_4__Utils_DeviceDetector__["a" /* DeviceDetector */].getDeviceId().then(function (deviceId) {
            _this.Logger.debug("DeviceId", deviceId);
            return __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].getCdpDl(deviceId);
        });
    };
    CdpModuleClass.prototype.getErCode = function () {
        var erObject = __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].getCdpDlFromStorage();
        var erCode = erObject && erObject.apiDl ? erObject.apiDl.er : null;
        return erCode;
    };
    CdpModuleClass.prototype.updateDeviceIdInCdpDlStorage = function (deviceId) {
        __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].updateDeviceIdInCdpDlStorage(deviceId);
    };
    CdpModuleClass.prototype.getErpCode = function () {
        var dlObject = __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].getCdpDlFromStorage();
        var erCode = dlObject && dlObject.apiDl ? dlObject.apiDl.erp : null;
        return erCode;
    };
    CdpModuleClass.prototype.getErInterpretation = function () {
        return __WEBPACK_IMPORTED_MODULE_2__ErInterpretation__["a" /* ErInterpretation */].setInformation();
    };
    CdpModuleClass.prototype.getUserInterestsStats = function () {
        return __WEBPACK_IMPORTED_MODULE_3__UserInterests__["a" /* UserInterests */].getDebugData();
    };
    CdpModuleClass.prototype.getApiVersion = function () {
        var sendUrl = __WEBPACK_IMPORTED_MODULE_5__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getCdpApiUrl() + "version";
        var request = new __WEBPACK_IMPORTED_MODULE_7__Core_storages_http_Http__["a" /* Http */]();
        return request.get(sendUrl);
    };
    CdpModuleClass.prototype.getRecommendations = function (isAddCategoryInfo) {
        return __WEBPACK_IMPORTED_MODULE_6__Recomendations__["a" /* Recommendations */].getListArticles(isAddCategoryInfo);
    };
    CdpModuleClass.prototype.getG2iDeviceId = function () {
        return __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].getG2iDeviceId();
    };
    return CdpModuleClass;
}());

var CdpModule = new CdpModuleClass();


/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ConfigModuleClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConfigModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__options_models_OptionsModel__ = __webpack_require__(148);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Config_CommonConfigData__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Data_services_Index__ = __webpack_require__(14);



var ConfigModuleClass = (function () {
    function ConfigModuleClass() {
        this.metaDataService = __WEBPACK_IMPORTED_MODULE_2__Data_services_Index__["a" /* MetaDataService */].Instance;
    }
    ConfigModuleClass.prototype.setInitOptions = function (options) {
        this.initOptions = options;
        var clientInitOptions = new __WEBPACK_IMPORTED_MODULE_0__options_models_OptionsModel__["a" /* OptionsModel */](this.initOptions);
        this.initClientDimensions = clientInitOptions.dimensions;
        var customInitOptions = this.findConfiguration(clientInitOptions.layoutCode);
        this.configuration = clientInitOptions.extendModel(customInitOptions);
    };
    ConfigModuleClass.prototype.getInitConfiguration = function () {
        return this.configuration;
    };
    ConfigModuleClass.prototype.getInitOptions = function () {
        return this.initOptions;
    };
    ConfigModuleClass.prototype.getInitDimensions = function () {
        if (this.initClientDimensions) {
            return this.getEvalDimensionsFrom(this.initClientDimensions);
        }
        else {
            return null;
        }
    };
    ConfigModuleClass.prototype.findConfiguration = function (layoutCode) {
        if (window.g2ExtendInits && window.g2ExtendInits["default"]) {
            if (window.g2ExtendInits["default"] && window.g2ExtendInits[layoutCode]) {
                return Object.assign(window.g2ExtendInits["default"], window.g2ExtendInits[layoutCode]);
            }
            else {
                return window.g2ExtendInits["default"];
            }
        }
        return null;
    };
    ConfigModuleClass.prototype.isAddBotInformation = function () {
        return this.configuration ? this.configuration.detectBot : true;
    };
    ConfigModuleClass.prototype.getCdpApiUrl = function () {
        return __WEBPACK_IMPORTED_MODULE_1__Config_CommonConfigData__["a" /* CommonConfigData */].apiUrl;
    };
    ConfigModuleClass.prototype.getCdpEventsUrl = function () {
        return __WEBPACK_IMPORTED_MODULE_1__Config_CommonConfigData__["a" /* CommonConfigData */].eventsUrl;
    };
    ConfigModuleClass.prototype.getBotMode = function () {
        return this.configuration.detectBot ? this.configuration.detectBot : null;
    };
    ConfigModuleClass.prototype.getCustomDimensions = function () {
        var customClientConfiguration = this.findConfiguration(this.configuration.layoutCode);
        if (customClientConfiguration && customClientConfiguration.dimensions) {
            return this.getEvalDimensionsFrom(customClientConfiguration.dimensions);
        }
        else {
            return null;
        }
    };
    ConfigModuleClass.prototype.getEvalDimensionsFrom = function (dimensions) {
        var clientModel = {};
        for (var property in dimensions) {
            clientModel[property] = this.getValueByPropertyName(dimensions, property);
        }
        return clientModel;
    };
    ConfigModuleClass.prototype.setLayoutCode = function (layoutCode) {
        this.configuration.setLayoutCode(layoutCode);
    };
    ConfigModuleClass.prototype.getClientConfiguration = function () {
        return this.findConfiguration(this.configuration.layoutCode);
    };
    ConfigModuleClass.prototype.getValueByPropertyName = function (dimensions, property) {
        try {
            if (dimensions && dimensions[property]) {
                var cdim = dimensions[property];
                if (typeof cdim === "function") {
                    return cdim.call();
                }
                if (typeof cdim === "string") {
                    var sFunction = eval("(" + cdim + ")");
                    return sFunction.call();
                }
            }
            return null;
        }
        catch (error) {
            console.log(error);
        }
    };
    ConfigModuleClass.prototype.getSiteEnvironment = function () {
        var environment = (this.configuration && this.configuration.environment) ? this.configuration.environment : "Unknown";
        return environment.toUpperCase();
    };
    ConfigModuleClass.prototype.getSiteCode = function () {
        var siteCode = (this.configuration && this.configuration.siteCode) ? this.configuration.siteCode : "Unknown";
        return siteCode.toUpperCase();
    };
    ConfigModuleClass.prototype.getClientCode = function () {
        var clientCode = (this.configuration && this.configuration.clientCode) ? this.configuration.clientCode : "Unknown";
        return clientCode.toUpperCase();
    };
    ConfigModuleClass.prototype.getClientCodeEncode = function () {
        return encodeURIComponent(this.getClientCode());
    };
    ConfigModuleClass.prototype.getSiteCodeEncode = function () {
        return encodeURIComponent(this.getSiteCode());
    };
    return ConfigModuleClass;
}());

var ConfigModule = new ConfigModuleClass();


/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Constants; });
var Constants = (function () {
    function Constants() {
    }
    Constants.preface = "G2I_";
    Constants.cookies = {
        LogLevel: Constants.preface + "logLevel",
        LogEnabled: Constants.preface + "logEnabled",
        FingerPrint: Constants.preface + "fingerPrintId",
        BrowserSessionId: Constants.preface + "browserSessionId"
    };
    Constants.NoErInformation = -1;
    Constants.EventsSources = {
        "G2Insights": "g2i",
        "Connext": "nxt",
        "Panel": "pnl",
        "Widget": "wid"
    };
    return Constants;
}());



/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export LoggerServiceSingleton */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoggerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Logger__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Core_storages_cookies_CookiesStorage__ = __webpack_require__(34);




var LoggerServiceSingleton = (function () {
    function LoggerServiceSingleton() {
        this._logLevel = __WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Debug;
        this._logEnabled = false;
    }
    Object.defineProperty(LoggerServiceSingleton, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new LoggerServiceSingleton();
                this.instance._loggers = new Map();
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    LoggerServiceSingleton.prototype.createLogger = function (name, style) {
        if (__WEBPACK_IMPORTED_MODULE_3__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].get(__WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__["a" /* Constants */].cookies.LogLevel)) {
            this._logLevel = __WEBPACK_IMPORTED_MODULE_0__Logger_Core__["c" /* LogLevels */].FromString(__WEBPACK_IMPORTED_MODULE_3__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].get(__WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__["a" /* Constants */].cookies.LogLevel));
        }
        ;
        var logEnabled = __WEBPACK_IMPORTED_MODULE_3__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].get(__WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__["a" /* Constants */].cookies.LogEnabled);
        if (logEnabled !== undefined) {
            if (logEnabled.toLowerCase() === "true") {
                this._logEnabled = true;
            }
            else {
                this._logEnabled = false;
            }
        }
        ;
        var logger = new __WEBPACK_IMPORTED_MODULE_1__Logger__["a" /* Logger */](name, this._logEnabled, this._logLevel, style);
        this._loggers.set(name, logger);
        return logger;
    };
    LoggerServiceSingleton.prototype.setEnabled = function (val) {
        console.log("LOGGER SERVICE.setEnabled", val);
        this._logEnabled = val;
        __WEBPACK_IMPORTED_MODULE_3__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].set(__WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__["a" /* Constants */].cookies.LogEnabled, val.toString());
        this._loggers.forEach(function (logger, key, map) {
            logger.setEnabled(val);
        });
    };
    LoggerServiceSingleton.prototype.setLevel = function (strLogLevel) {
        try {
            console.log("LOGGER SERVICE.setLevel", strLogLevel);
            __WEBPACK_IMPORTED_MODULE_3__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].set(__WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__["a" /* Constants */].cookies.LogLevel, strLogLevel);
            this._logLevel = __WEBPACK_IMPORTED_MODULE_0__Logger_Core__["c" /* LogLevels */].FromString(strLogLevel);
            this._loggers.forEach(function (value, key, map) {
                value.setLogLevel(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["c" /* LogLevels */].FromString(strLogLevel));
            });
        }
        catch (e) {
            console.error(e.message);
        }
    };
    return LoggerServiceSingleton;
}());

var LoggerService = LoggerServiceSingleton.Instance;


/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__CdpEvent__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_CdpEventModel__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Modules_connextModule_ConnextModule__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Core_constants_Constants__ = __webpack_require__(6);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var ConnextEvent = (function (_super) {
    __extends(ConnextEvent, _super);
    function ConnextEvent() {
        var _this = _super.call(this) || this;
        _this.sessionService = __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__["a" /* SessionService */].Instance;
        return _this;
    }
    ConnextEvent.prototype.getEventModel = function () {
        this.eventModel = _super.prototype.getEventModel.call(this);
        this.eventModel.EventSource = __WEBPACK_IMPORTED_MODULE_4__Core_constants_Constants__["a" /* Constants */].EventsSources.Connext;
        this.addConnextVersionInfo();
        this.eventModel.ConfigCode = __WEBPACK_IMPORTED_MODULE_3__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getConfigCode();
        return new __WEBPACK_IMPORTED_MODULE_2__models_CdpEventModel__["a" /* CdpEventModel */](this.eventModel);
    };
    ConnextEvent.prototype.addConnextVersionInfo = function () {
        this.eventModel.EventData.push({ Key: "SourceVersion", Value: __WEBPACK_IMPORTED_MODULE_3__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getVersionInfo() });
    };
    ConnextEvent.prototype.updateCustomProperties = function () { };
    return ConnextEvent;
}(__WEBPACK_IMPORTED_MODULE_1__CdpEvent__["a" /* CdpEvent */]));



/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SpGtmTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__GtmTagEvent__ = __webpack_require__(47);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var SpGtmTagEvent = (function (_super) {
    __extends(SpGtmTagEvent, _super);
    function SpGtmTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventNames = [];
        return _this;
    }
    SpGtmTagEvent.prototype.listen = function () {
        var _this = this;
        try {
            if (this.originalEventNames && this.originalEventNames.length > 0) {
                this.originalEventNames.forEach(function (eventName, key) {
                    _this.listenEvent(eventName);
                });
            }
            else {
                if (this.originalEventName) {
                    this.listenEvent(this.originalEventName);
                }
                else {
                    this.Logger.error("No event Name in Object");
                }
            }
        }
        catch (e) {
            this.Logger.error("addSPTags.Error", e);
        }
    };
    SpGtmTagEvent.prototype.listenEvent = function (eventName) {
        var _this = this;
        this.Logger.trace("Registering SP Tags");
        try {
            ko.postbox.subscribe(eventName, function (data) {
                _this.Logger.debug("Firing", eventName, "data", data);
                _this.currentEventName = eventName;
                _this.setOriginalEventData(data);
                _this.sendTagToAnalitcs();
            });
        }
        catch (e) {
            this.Logger.error("addSPTags.Error", e);
        }
    };
    SpGtmTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {
        this.eventService.sendEvent(tagName || this.getSendTagName(), tagData || this.getSendTagData(), true);
    };
    SpGtmTagEvent.prototype.getSendTagData = function () {
        var tagEventName = this.getSendTagName();
        if (tagEventName) {
            return {};
        }
        return null;
    };
    return SpGtmTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__GtmTagEvent__["a" /* GtmTagEvent */]));



/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SessionService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__ = __webpack_require__(6);



var SessionService = (function () {
    function SessionService() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("SessionService", "#dfa870");
        this.savedCdpModel = null;
        this.Logger.trace("CTOR");
        this.PageSessionId = __WEBPACK_IMPORTED_MODULE_1__utils_Utils__["a" /* Utils */].createGUID();
        var storedBrowserSessionId = sessionStorage.getItem(__WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__["a" /* Constants */].cookies.BrowserSessionId);
        this.Logger.trace("CTOR", "storedBrowserSessionId", storedBrowserSessionId);
        if (!storedBrowserSessionId) {
            this.deviceBrowserSessionId = __WEBPACK_IMPORTED_MODULE_1__utils_Utils__["a" /* Utils */].createGUID();
            this.Logger.trace("CTOR", "NO storedBrowserSessionId... New deviceBrowserSessionId", this.deviceBrowserSessionId);
            sessionStorage.setItem(__WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__["a" /* Constants */].cookies.BrowserSessionId, this.deviceBrowserSessionId);
        }
        else {
            this.deviceBrowserSessionId = storedBrowserSessionId;
        }
        this.startPageSession = Math.floor(Date.now() / 1000);
    }
    Object.defineProperty(SessionService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new SessionService();
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    SessionService.prototype.getStartPageSession = function () {
        return this.startPageSession;
    };
    SessionService.prototype.setStartPageSession = function (startPageSession) {
        this.startPageSession = startPageSession;
    };
    SessionService.prototype.saveRequiredData = function (data) {
        if (Array.isArray(data)) {
            this.savedCdpModel = data[0];
        }
        else {
            this.savedCdpModel = data;
        }
    };
    SessionService.prototype.getRequiredData = function () {
        return this.savedCdpModel;
    };
    SessionService.prototype.init = function () {
        this.Logger.debug("Init");
    };
    SessionService.prototype.getDeviceSessionId = function () {
        return this.deviceBrowserSessionId;
    };
    return SessionService;
}());



/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export DeviceDetectorClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeviceDetector; });
var UserAgentRules = [
    ["Aol", /AOLShield\/([0-9\._]+)/],
    ["Edge", /Edge\/([0-9\._]+)/],
    ["Yandexbrowser", /YaBrowser\/([0-9\._]+)/],
    ["Vivaldi", /Vivaldi\/([0-9\.]+)/],
    ["Kakaotalk", /KAKAOTALK\s([0-9\.]+)/],
    ["Samsung", /SamsungBrowser\/([0-9\.]+)/],
    ["Silk", /\bSilk\/([0-9._-]+)\b/],
    ["Miui", /MiuiBrowser\/([0-9\.]+)$/],
    ["Beaker", /BeakerBrowser\/([0-9\.]+)/],
    ["Edge-chromium", /Edg\/([0-9\.]+)/],
    ["Chromium-webview", /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
    ["Chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
    ["Phantomjs", /PhantomJS\/([0-9\.]+)(:?\s|$)/],
    ["Crios", /CriOS\/([0-9\.]+)(:?\s|$)/],
    ["Firefox", /Firefox\/([0-9\.]+)(?:\s|$)/],
    ["Fxios", /FxiOS\/([0-9\.]+)/],
    ["Opera-mini", /Opera Mini.*Version\/([0-9\.]+)/],
    ["Opera", /Opera\/([0-9\.]+)(?:\s|$)/],
    ["Opera", /OPR\/([0-9\.]+)(:?\s|$)/],
    ["IE", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],
    ["IE", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
    ["IE", /MSIE\s(7\.0)/],
    ["Bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/],
    ["UCBrowser", /(?:UCWEB|UCBrowser\/)([\d\.]+)/],
    ["Android", /Android\s([0-9\.]+)/],
    ["Ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/],
    ["Safari", /Version\/([0-9\._]+).*Safari/],
    ["Facebook", /FBAV\/([0-9\.]+)/],
    ["Instagram", /Instagram\s([0-9\.]+)/],
    ["Ios-webview", /AppleWebKit\/([0-9\.]+).*Mobile/],
    ["Ios-webview", /AppleWebKit\/([0-9\.]+).*Gecko\)$/]
];
var OperatingSystemRules = [
    ["iOS", /iP(hone|od|ad)/],
    ["Android OS", /Android/],
    ["BlackBerry OS", /BlackBerry|BB10/],
    ["Windows Mobile", /IEMobile/],
    ["Amazon OS", /Kindle/],
    ["Windows 3.11", /Win16/],
    ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/],
    ["Windows 98", /(Windows 98)|(Win98)/],
    ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/],
    ["Windows XP", /(Windows NT 5.1)|(Windows XP)/],
    ["Windows Server 2003", /(Windows NT 5.2)/],
    ["Windows Vista", /(Windows NT 6.0)/],
    ["Windows 7", /(Windows NT 6.1)/],
    ["Windows 8", /(Windows NT 6.2)/],
    ["Windows 8.1", /(Windows NT 6.3)/],
    ["Windows 10", /(Windows NT 10.0)/],
    ["Windows ME", /Windows ME/],
    ["Open BSD", /OpenBSD/],
    ["Sun OS", /SunOS/],
    ["Chrome OS", /CrOS/],
    ["Linux", /(Linux)|(X11)/],
    ["Mac OS", /(Mac_PowerPC)|(Macintosh)/],
    ["QNX", /QNX/],
    ["BeOS", /BeOS/],
    ["OS/2", /OS\/2/]
];
var DeviceDetectorClass = (function () {
    function DeviceDetectorClass() {
        this.calculateDeviceId = null;
        this.userAgent = navigator.userAgent;
    }
    DeviceDetectorClass.prototype.setUserAgent = function (userAgent) {
        this.userAgent = userAgent;
    };
    DeviceDetectorClass.prototype.isHasLeavePageProblems = function () {
        if (window.DeviceDetector) {
            var browserName = this.getBrowser() ? window.DeviceDetector.Device.browser.name.toLowerCase() : "";
            var chromeProblem = browserName === "chrome" && parseInt(this.getBrowserVersion()) >= 80;
            var operaProblem = browserName === "opera" && parseInt(this.getBrowserVersion()) >= 67;
            return chromeProblem || operaProblem;
        }
        else {
            return false;
        }
    };
    DeviceDetectorClass.prototype.getBrowserVersion = function () {
        if (window.DeviceDetector && window.DeviceDetector.Device && window.DeviceDetector.Device.browser) {
            return window.DeviceDetector.Device.browser.version;
        }
        return null;
    };
    DeviceDetectorClass.prototype.getBrowser = function () {
        if (window.DeviceDetector && window.DeviceDetector.Device && window.DeviceDetector.Device.browser) {
            return window.DeviceDetector.Device.browser.name;
        }
        for (var browserIndex = 0; browserIndex < UserAgentRules.length; browserIndex++) {
            if (new RegExp(UserAgentRules[browserIndex][1]).test(this.userAgent)) {
                return UserAgentRules[browserIndex][0];
            }
        }
        return null;
    };
    DeviceDetectorClass.prototype.getOs = function () {
        if (window.DeviceDetector && window.DeviceDetector.Device && window.DeviceDetector.Device.os) {
            return window.DeviceDetector.Device.os.name + " " + (window.DeviceDetector.Device.os.version || "");
        }
        for (var osIndex = 0; osIndex < OperatingSystemRules.length; osIndex++) {
            if (new RegExp(OperatingSystemRules[osIndex][1]).test(this.userAgent)) {
                return OperatingSystemRules[osIndex][0];
            }
        }
        return null;
    };
    DeviceDetectorClass.prototype.isMobile = function () {
        var mobileRE = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i;
        return mobileRE.test(this.userAgent);
    };
    DeviceDetectorClass.prototype.getDeviceType = function () {
        if (window.DeviceDetector && window.DeviceDetector.Device && window.DeviceDetector.Device.platform) {
            return window.DeviceDetector.Device.platform.type;
        }
        if (this.isMobile()) {
            return "Mobile";
        }
        else {
            var tabletRE = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;
            if (tabletRE.test(this.userAgent)) {
                return "Tablet";
            }
        }
        return "Desktop";
    };
    DeviceDetectorClass.prototype.getMetaData = function () {
        return {
            Browser: this.getBrowser(),
            OS: this.getOs(),
            DeviceType: this.getDeviceType(),
            URL: window.location.href
        };
    };
    DeviceDetectorClass.prototype.getDeviceId = function () {
        var _this = this;
        if (this.calculateDeviceId) {
            return Promise.resolve(this.calculateDeviceId);
        }
        else {
            return this.getDeviceIdFromFP()
                .then(function (deviceId) {
                _this.setCalculatedDeviceId(deviceId);
                return Promise.resolve(deviceId);
            });
        }
    };
    DeviceDetectorClass.prototype.getDeviceIdFromFP = function () {
        var fingerPrint = window.Fingerprint;
        if (fingerPrint && typeof fingerPrint.getDeviceID === "function") {
            return window.Fingerprint.getDeviceID();
        }
        else {
            return this.getDeviceIdFromOldVersionFP();
        }
    };
    DeviceDetectorClass.prototype.getDeviceIdFromOldVersionFP = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this.calculateDeviceId) {
                resolve(_this.calculateDeviceId);
                return;
            }
            var fpInterval = setInterval(function () {
                var fingerPrint = _this.getFingerPrintAccess();
                if (fingerPrint) {
                    var deviceId = fingerPrint.getDeviceId();
                    if (deviceId) {
                        _this.calculateDeviceId = deviceId;
                        clearInterval(fpInterval);
                        resolve(deviceId);
                        return;
                    }
                }
            }, 100);
            setTimeout(function () {
                if (!_this.calculateDeviceId) {
                    clearInterval(fpInterval);
                    console.warn("FP is not available or can not calculate deviceId");
                    reject();
                }
            }, 10000);
        });
    };
    DeviceDetectorClass.prototype.getFingerPrintAccess = function () {
        if (window.Fprinting) {
            return window.Fprinting();
        }
        if (window.Fingerprint) {
            return window.Fingerprint;
        }
    };
    DeviceDetectorClass.prototype.getCalculatedDeviceId = function () {
        return this.calculateDeviceId;
    };
    DeviceDetectorClass.prototype.setCalculatedDeviceId = function (calculateDeviceId) {
        this.calculateDeviceId = calculateDeviceId;
    };
    return DeviceDetectorClass;
}());

var DeviceDetector = new DeviceDetectorClass();


/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CdpEventsManagerClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CdpEventsManager; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEvent__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Modules_dataCollector_DataCollector__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Data_services_FailedEventService__ = __webpack_require__(55);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Data_modules_HttpService__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Modules_configModule_ConfigModule__ = __webpack_require__(5);








var CdpEventsManagerClass = (function () {
    function CdpEventsManagerClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_2__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("CdpModule");
        this.sessionService = __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__["a" /* SessionService */].Instance;
        this.CollectMetaTags = false;
        this.firedEvents = [];
        this.sendEventsDelay = 0;
        this.isClosePageFlag = false;
        this.lastSendedIds = [];
    }
    CdpEventsManagerClass.prototype.setClosePageFlag = function (closeFlag) {
        this.isClosePageFlag = closeFlag;
    };
    CdpEventsManagerClass.prototype.getClosePageFlag = function () {
        return this.isClosePageFlag;
    };
    CdpEventsManagerClass.prototype.sentQueryEvents = function (updatedData) {
        var _this = this;
        if (this.firedEvents.length > 0) {
            this.firedEvents.forEach(function (firedEvent) {
                var firedData = firedEvent.getCalculateModel();
                firedEvent.updateRequiredFields(updatedData);
                __WEBPACK_IMPORTED_MODULE_3__Modules_dataCollector_DataCollector__["a" /* DataCollector */].addEventInCollector(firedEvent);
                _this.sendEvent(firedData, firedEvent.getEventOptions());
            });
            this.firedEvents = [];
        }
    };
    CdpEventsManagerClass.prototype.eventFire = function (cdpEvent) {
        this.Logger.debug("eventFire EventModel - ", cdpEvent.eventModel);
        this.Logger.debug("eventFire EventType - ", cdpEvent.eventModel.EventType);
        this.Logger.debug("eventFire DeviceId - ", cdpEvent.eventModel.DeviceId);
        var sendData = cdpEvent.getEventModel();
        if (!sendData)
            return;
        var sessionRequiredData = this.sessionService.getRequiredData();
        var isValid = cdpEvent.isValid();
        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].logEventFire(sendData, isValid, this.firedEvents);
        if (isValid) {
            this.Logger.debug("eventFire EventType - " + cdpEvent.eventModel.EventType + " isValid");
            if (!sessionRequiredData) {
                this.sessionService.saveRequiredData(sendData);
                this.sentQueryEvents(sendData);
            }
            else {
                this.sentQueryEvents(sessionRequiredData);
            }
            __WEBPACK_IMPORTED_MODULE_3__Modules_dataCollector_DataCollector__["a" /* DataCollector */].addEventInCollector(cdpEvent);
            this.sendEvent(sendData, cdpEvent.getEventOptions());
        }
        else {
            this.Logger.debug("eventFire EventType - " + cdpEvent.eventModel.EventType + " is not isValid");
            if (sessionRequiredData) {
                cdpEvent.updateRequiredFields(sessionRequiredData);
                __WEBPACK_IMPORTED_MODULE_3__Modules_dataCollector_DataCollector__["a" /* DataCollector */].addEventInCollector(cdpEvent);
                this.sendEvent(cdpEvent.getCalculateModel(), cdpEvent.getEventOptions());
            }
            else {
                this.firedEvents.push(Object.assign(new __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEvent__["a" /* CdpEvent */](), cdpEvent));
                this.Logger.debug("add Event in query - " + cdpEvent.eventModel.EventType + " is not isValid", this.firedEvents);
            }
        }
        ;
    };
    CdpEventsManagerClass.prototype.sendEvent = function (sendData, options) {
        var _this = this;
        if (!Array.isArray(sendData)) {
            sendData = [sendData];
        }
        this.Logger.debug("sendArrayData", sendData);
        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].logSendEvent(sendData, options);
        sendData.forEach(function (data) {
            var eventId = data.Id;
            if (_this.lastSendedIds.indexOf(eventId) === -1) {
                _this.lastSendedIds.push();
                _this.lastSendedIds = _this.lastSendedIds.slice(-10);
                if (_this.isBeaconSupported()) {
                    _this.cdpSendBeacon(data);
                }
                else {
                    _this.sendDataFetch(data);
                }
            }
            else {
                __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].logPreventDuplicate(eventId);
            }
        });
    };
    CdpEventsManagerClass.prototype.cdpSendBeacon = function (cdpData) {
        var success = false;
        var url = __WEBPACK_IMPORTED_MODULE_7__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getCdpEventsUrl() + "?" + __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].getBeaconRequestUrlParam(cdpData);
        success = navigator.sendBeacon(url, JSON.stringify(cdpData));
        return success;
    };
    CdpEventsManagerClass.prototype.isBeaconSupported = function () {
        return navigator.sendBeacon ? true : false;
    };
    CdpEventsManagerClass.prototype.sendDataXhr = function (cdpData, options) {
        var _this = this;
        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "BEBORE_SEND");
        var resolve = function (success) {
            __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, success ? "RESOLVE_SUCCESS" : "RESOLVE_FAILED");
        };
        if (!cdpData) {
            resolve(true);
            return;
        }
        var isSuccessSending = false;
        try {
            if (this.getClosePageFlag()) {
                options.IsAsync = false;
            }
            var fnName_1 = "[sendDataXhr] ";
            this.Logger.debug(fnName_1, "cdpData => ", cdpData);
            var xhr = new XMLHttpRequest();
            xhr.open("post", __WEBPACK_IMPORTED_MODULE_7__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getCdpEventsUrl(), options.IsAsync);
            var xhrOnLoad = function (e) {
                _this.Logger.debug("CDP Load", cdpData);
                isSuccessSending = true;
                __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "ON_LOAD");
                resolve(isSuccessSending);
            };
            var xhrOnError = function (e) {
                _this.Logger.error("Error Sending CDP Data", e);
                _this.Logger.debug(fnName_1, "send beacon", cdpData.EventName);
                __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "ON_ERROR " + String(e));
                _this.cdpSendBeacon(cdpData);
                isSuccessSending = true;
                __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "AFTER_ERROR_BEACON");
                resolve(isSuccessSending);
            };
            xhr.addEventListener("load", xhrOnLoad);
            xhr.addEventListener("error", xhrOnError);
            xhr.setRequestHeader("Site-Code", cdpData.SiteCode);
            xhr.setRequestHeader("Client-Code", cdpData.ClientCode);
            xhr.setRequestHeader("Content-Type", "application/json");
            __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addRequestHeader(xhr, cdpData);
            xhr.send(JSON.stringify(cdpData));
            __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "AFTER_SEND");
            this.Logger.debug(fnName_1, "send", xhr);
        }
        catch (error) {
            this.Logger.error("Error catch Sending CDP Data", error);
            this.Logger.debug("xhr error", isSuccessSending);
            __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "ON_CATCH");
            if (!isSuccessSending) {
                this.Logger.debug("send beacon", cdpData.EventName);
                __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "BEFORE_CATCH_BEACON");
                this.cdpSendBeacon(cdpData);
                isSuccessSending = true;
                __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "AFTER_CATCH_BEACON");
                resolve(isSuccessSending);
            }
        }
    };
    CdpEventsManagerClass.prototype.sendDataFetch = function (cdpData) {
        if (this.getClosePageFlag()) {
            __WEBPACK_IMPORTED_MODULE_5__Data_services_FailedEventService__["a" /* FailedEventService */].Instance.stash(cdpData);
            return;
        }
        __WEBPACK_IMPORTED_MODULE_5__Data_services_FailedEventService__["a" /* FailedEventService */].Instance.drop(cdpData);
        var fetchOptions = {};
        fetchOptions = __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addDuplicateInfo(fetchOptions);
        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "BEBORE_SEND");
        __WEBPACK_IMPORTED_MODULE_6__Data_modules_HttpService__["a" /* HttpService */].post("", cdpData, fetchOptions, __WEBPACK_IMPORTED_MODULE_7__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getCdpEventsUrl())
            .then(function () {
            __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "THEN_FETCH");
        })
            .catch(function (error) {
            __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "CATCH_FETCH " + String(error));
        });
        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "AFTER_SEND");
    };
    return CdpEventsManagerClass;
}());

var CdpEventsManager = new CdpEventsManagerClass();


/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HttpService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core_storages_http_Http__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_deviceModule_DeviceModule__ = __webpack_require__(38);



var HttpServiceClass = (function () {
    function HttpServiceClass() {
        this.http = new __WEBPACK_IMPORTED_MODULE_0__core_storages_http_Http__["a" /* Http */]();
    }
    HttpServiceClass.prototype.get = function (url, payload, options, apiPath) {
        var _this = this;
        if (payload === void 0) { payload = {}; }
        if (options === void 0) { options = {}; }
        return __WEBPACK_IMPORTED_MODULE_2__Modules_deviceModule_DeviceModule__["a" /* DeviceModule */].getDeviceIdToApi().then(function (deviceId) {
            payload["deviceid"] = deviceId;
            return _this.call("get", url, payload, options, apiPath);
        });
    };
    HttpServiceClass.prototype.post = function (url, payload, options, apiPath) {
        return this.call("post", url, payload, options, apiPath);
    };
    HttpServiceClass.prototype.call = function (method, url, payload, options, apiPath) {
        if (options === void 0) { options = {}; }
        this.API_PATH = apiPath || __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getCdpApiUrl();
        options.headers = options.headers || {};
        options.headers["Site-Code"] = __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getSiteCode();
        options.headers["Client-Code"] = __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getClientCode();
        return this.http[method](this.API_PATH + url, payload, options);
    };
    return HttpServiceClass;
}());
var HttpService = new HttpServiceClass();


/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__MetaDataService__ = __webpack_require__(24);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__MetaDataService__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AzureService__ = __webpack_require__(54);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_1__AzureService__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__UserService__ = __webpack_require__(25);
/* unused harmony reexport UserService */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__TagManagerService__ = __webpack_require__(56);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_3__TagManagerService__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__EventService__ = __webpack_require__(36);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_4__EventService__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__SessionService__ = __webpack_require__(10);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return __WEBPACK_IMPORTED_MODULE_5__SessionService__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__AppInsightsService__ = __webpack_require__(141);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return __WEBPACK_IMPORTED_MODULE_6__AppInsightsService__["a"]; });









/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CdpEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Data_services_SessionService__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Utils_logger_LoggerService__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_CdpEventModel__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Collectors_cdp_collectors_models_SendOptionsModel__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Modules_botDetection_BotDetector__ = __webpack_require__(57);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__Utils_DateUtil__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__Utils_DeviceDetector__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Modules_connextModule_ConnextModule__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Modules_cdpModule_CdpModule__ = __webpack_require__(4);












var CdpEvent = (function () {
    function CdpEvent() {
        this.IsAsync = true;
        this.originalEventNames = [];
        this.Logger = __WEBPACK_IMPORTED_MODULE_3__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("CdpEvent");
        this.requiredFields = ["DeviceId", "SiteCode", "ClientCode", "ConfigCode"];
        this.eventModel = new __WEBPACK_IMPORTED_MODULE_4__models_CdpEventModel__["a" /* CdpEventModel */](null);
        this.sessionService = __WEBPACK_IMPORTED_MODULE_1__Data_services_SessionService__["a" /* SessionService */].Instance;
        this.clearPreviousData();
    }
    CdpEvent.prototype.getEventOptions = function () {
        var sendOptions = new __WEBPACK_IMPORTED_MODULE_5__Collectors_cdp_collectors_models_SendOptionsModel__["a" /* SendOptionsModel */]();
        sendOptions.IsAsync = this.IsAsync;
        return sendOptions;
    };
    CdpEvent.prototype.listen = function () {
        var _this = this;
        this.Logger.trace("Registering EventListener");
        try {
            if (this.originalEventNames && this.originalEventNames.length > 0) {
                this.originalEventNames.forEach(function (eventName, key) {
                    _this.listenEvent(eventName);
                });
            }
            else {
                if (this.originalEventName) {
                    this.listenEvent(this.originalEventName);
                }
                else {
                    this.Logger.error("No event Name in Object");
                }
            }
        }
        catch (e) {
            this.Logger.error("addCollectorEventListener.Error", e);
        }
    };
    CdpEvent.prototype.listenEvent = function (eventName) {
        var _this = this;
        try {
            this.Logger.trace("addEventListener...", eventName);
            __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, eventName, function (e) {
                _this.Logger.trace("Firing", _this.eventModel.EventName);
                _this.clearPreviousData();
                _this.setOriginalEventData(e.detail);
                _this.currentEventName = eventName;
                __WEBPACK_IMPORTED_MODULE_7__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].eventFire(_this);
            });
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    CdpEvent.prototype.transformEventData = function (transformData) {
        var originalEventData = this.getOriginalEventData();
        var eventData = transformData || originalEventData.EventData || {};
        var dataObjectToArray = __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__["a" /* Utils */].ArrayToDictionaryRecursive(eventData, []);
        this.eventModel.EventData = this.eventModel.EventData.concat(this.convertDataValueToString(dataObjectToArray));
    };
    CdpEvent.prototype.addBotInfo = function () {
        if (__WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].isAddBotInformation()) {
            var botDetector = new __WEBPACK_IMPORTED_MODULE_6__Modules_botDetection_BotDetector__["a" /* BotDetector */]();
            var detectBot = botDetector.getDetectBot();
            if (detectBot) {
                this.eventModel.EventData.push({ Key: "BotName", Value: detectBot.name });
                this.eventModel.EventData.push({ Key: "BotCategory", Value: detectBot.category });
            }
            else {
                this.eventModel.EventData.push({ Key: "UserBot", Value: "false" });
            }
        }
    };
    CdpEvent.prototype.getEventModel = function () {
        this.eventModel = new __WEBPACK_IMPORTED_MODULE_4__models_CdpEventModel__["a" /* CdpEventModel */](null);
        var originalEventData = this.getOriginalEventData();
        this.eventModel.PageSessionId = this.sessionService.PageSessionId || this.getEventPageSessionId(originalEventData);
        this.eventModel.DeviceBrowserSessionId = this.sessionService.getDeviceSessionId();
        this.eventModel.EventTimestamp = __WEBPACK_IMPORTED_MODULE_8__Utils_DateUtil__["a" /* DateUtil */].getNowDateInSec();
        this.eventModel.SiteEnvironment = __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getSiteEnvironment();
        this.eventModel.ClientCode = __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getClientCode();
        this.eventModel.SiteCode = __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getSiteCode();
        this.eventModel.DeviceId = __WEBPACK_IMPORTED_MODULE_9__Utils_DeviceDetector__["a" /* DeviceDetector */].getCalculatedDeviceId();
        this.eventModel.G2Ideviceid = __WEBPACK_IMPORTED_MODULE_11__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getG2iDeviceId() || "";
        this.eventModel.ConfigCode = __WEBPACK_IMPORTED_MODULE_10__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getConfigCode() || "Unknown";
        this.addVersionInfo();
        this.addBotInfo();
        this.updateCustomProperties();
        return this.eventModel;
    };
    CdpEvent.prototype.updateCustomProperties = function () { };
    CdpEvent.prototype.addVersionInfo = function () {
        this.eventModel.EventData.push({ Key: "Version", Value: __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__["a" /* Utils */].getVersion() });
    };
    CdpEvent.prototype.getEventPageSessionId = function (originalEventData) {
        return originalEventData.EventInfo ? originalEventData.EventInfo.SessionId : __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__["a" /* Utils */].createGUID();
    };
    CdpEvent.prototype.convertDataValueToString = function (data) {
        this.Logger.trace("eventDataValueToString", "eventDataValueToString", data);
        var cleaned = [];
        data.map(function (e) {
            if ((typeof e.Value !== "undefined" && e.Value !== null)) {
                cleaned.push({ "Key": e.Key, "Value": e.Value.toString() });
            }
            else {
                cleaned.push({ "Key": e.Key, "Value": "" });
            }
        });
        this.Logger.trace("eventDataValueToString", "eventDataValueToString", cleaned);
        return cleaned;
    };
    CdpEvent.prototype.isValid = function () {
        var fieldLength = this.requiredFields.length;
        for (var i = 0; i < fieldLength; i++) {
            if (!this.eventModel[this.requiredFields[i]]) {
                return false;
            }
        }
        return true;
    };
    CdpEvent.prototype.updateRequiredFields = function (updateUserDataModel) {
        var _this = this;
        if (Array.isArray(updateUserDataModel)) {
            updateUserDataModel = updateUserDataModel[0];
        }
        ;
        this.Logger.debug("updateUserDataModel", updateUserDataModel);
        if (!updateUserDataModel)
            return;
        this.requiredFields.forEach(function (field) {
            _this.eventModel[field] = _this.eventModel[field] ? _this.eventModel[field] : updateUserDataModel[field];
        });
    };
    CdpEvent.prototype.tryUpdate = function () {
        if (this.eventModel && !this.eventModel.DeviceId) {
            this.eventModel.DeviceId = __WEBPACK_IMPORTED_MODULE_9__Utils_DeviceDetector__["a" /* DeviceDetector */].getCalculatedDeviceId();
        }
    };
    CdpEvent.prototype.getOriginalEventData = function () {
        return this.originalEventData || {};
    };
    CdpEvent.prototype.setOriginalEventData = function (eventData) {
        this.originalEventData = eventData;
    };
    CdpEvent.prototype.clearPreviousData = function () {
        this.originalEventData = null;
        this.eventModel = new __WEBPACK_IMPORTED_MODULE_4__models_CdpEventModel__["a" /* CdpEventModel */](null);
    };
    CdpEvent.prototype.useInCalculateFirstVisitModel = function () {
        return false;
    };
    CdpEvent.prototype.getFirstVisitProperty = function () {
        return "";
    };
    CdpEvent.prototype.getCalculateModel = function () {
        return this.eventModel;
    };
    return CdpEvent;
}());



/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FirstVisitProperties; });
var FirstVisitProperties = {
    CollectTime: "ts_diff",
    CountClick: "cnt_click",
    CountPageview: "cnt_pageview",
    CountCreateAccountEvents: "cnt_createaccount",
    CountCheckoutStartEvents: "cnt_checkoutstart"
};


/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DateUtil; });
var DateUtil = (function () {
    function DateUtil() {
    }
    DateUtil.getNowDateInSec = function () {
        return parseInt((new Date().getTime()).toString().slice(0, -3));
    };
    DateUtil.getISOFormat = function (date) {
        var isoRegxp = new RegExp(/^(-?(?:[1-9][0-9]*)?[0-9]{4})(1[0-2]|0[1-9])(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$/);
        try {
            if (isoRegxp.test(date)) {
                var matches = date.match(isoRegxp);
                date = matches[1] + "-" + matches[2] + "-" + matches[3] + "T" + matches[4] + ":" + matches[5] + matches[6] + "Z";
            }
            if (this.isValidDate(date)) {
                var parsedDate = this.getCorrectDate(date);
                return this.toISOString(parsedDate);
            }
            else {
                return null;
            }
        }
        catch (error) {
            console.log("getISOFormat", error);
            return null;
        }
    };
    DateUtil.isIsoFormat = function (stringDate) {
        return stringDate.test(/^(-?(?:[1-9][0-9]*)?[0-9]{4})(1[0-2]|0[1-9])(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$/);
    };
    DateUtil.isValidDate = function (dateStr) {
        var timestamp = Date.parse(dateStr);
        return !isNaN(timestamp);
    };
    DateUtil.getCorrectDate = function (date) {
        var parsedDate = new Date(date);
        if (this.isUnixTimeRange(parsedDate)) {
            return parsedDate;
        }
        return new Date();
    };
    DateUtil.isUnixTimeRange = function (date) {
        return date.getUTCFullYear() >= 1970;
    };
    DateUtil.pad = function (number) {
        if (number < 10) {
            return "0" + number;
        }
        return number;
    };
    DateUtil.toISOString = function (date) {
        return date.getUTCFullYear() +
            "" + this.pad(date.getUTCMonth() + 1) +
            "" + this.pad(date.getUTCDate()) +
            "T" + this.pad(date.getUTCHours()) +
            ":" + this.pad(date.getUTCMinutes()) +
            ":" + this.pad(date.getUTCSeconds()) +
            "Z";
    };
    ;
    DateUtil.getTimestamp = function (eventTimestamp) {
        if (!eventTimestamp) {
            return this.getNowDateInSec();
        }
        var timestampPart = ("" + eventTimestamp).substring(0, 10);
        var indexPoint = timestampPart.indexOf(".");
        if (indexPoint > -1) {
            timestampPart = eventTimestamp.replace(/\./g, "");
            timestampPart = ("" + timestampPart).substring(0, 10);
        }
        var intPart = parseInt(timestampPart);
        if (intPart.toString().length !== 10) {
            return this.getNowDateInSec();
        }
        else {
            return intPart;
        }
    };
    DateUtil.addDays = function (theDate, days) {
        return new Date(theDate.getTime() + days * 24 * 60 * 60 * 1000).valueOf();
    };
    DateUtil.getDateValueFromTimestamp = function (timestamp) {
        return timestamp * 1000;
    };
    DateUtil.daysDiff = function (startDateValue) {
        return Math.floor((new Date().valueOf() - +startDateValue) / 86400000);
    };
    return DateUtil;
}());



/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ShortOfferModel; });
var ShortOfferModel = (function () {
    function ShortOfferModel(data) {
        if (!data)
            return;
        this.Name = data.Name;
    }
    return ShortOfferModel;
}());



/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PluginInnerEvents; });
var PluginInnerEvents = {
    DlCdpGetSuccess: "g2iDlFinished",
    DlCdpGetFail: "g2iDlError",
    GetInterestsStats: "g2iDInterestsStatsFinished",
    GetInterestsStatsError: "g2iDInterestsStatsError",
    GetErInterpretation: "onG2ISetErInterpretation",
    GetErInterpretationError: "onG2IErrorSetErInterpretation",
    DlRecommendationsFinished: "g2iDlRecommendationsFinished",
    DlRecommendationsError: "g2iDlRecommendationsError",
    DlRecommendationsStatsFinished: "g2iDlRecommendationsStatsFinished",
    DlRecommendationsStatsError: "g2iDlRecommendationsStatsError",
    InnerClick: "onInnerClick"
};


/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export DimensionsModuleClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DimensionsModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__classes_CommonMetaData__ = __webpack_require__(153);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_js_sha256__ = __webpack_require__(164);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_js_sha256___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_js_sha256__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Utils_Utils__ = __webpack_require__(0);




var DimensionsModuleClass = (function () {
    function DimensionsModuleClass() {
        this.dimensions = {};
        this.properties = [
            "Title",
            "Keywords",
            "Section",
            "Url",
            "ContentType",
            "Author",
            "Tags",
            "ContentId",
            "PublishDate",
            "LeadText",
            "Text",
            "Category",
            "Description",
            "Pictures",
            "Video",
            "Likes",
            "Shares",
            "BreakingNews",
            "Premium",
            "Language",
            "Recommended",
            "LeadImageUrl"
        ];
        this.subscribeOtherPluginStartChangeContent();
    }
    DimensionsModuleClass.prototype.getDimensions = function () {
        if (!__WEBPACK_IMPORTED_MODULE_3__Utils_Utils__["a" /* Utils */].isEmpty(this.dimensions)) {
            return this.dimensions;
        }
        var customConfigDim = this.getDimensionsFromCustomConfig();
        this.extendDimensions(customConfigDim);
        var initDim = this.getDimensionsFromClientInit();
        this.extendDimensions(initDim);
        this.fillEmptyDimFromMeta();
        if (this.dimensions && !this.dimensions["ContentId"]) {
            this.dimensions["ContentId"] = this.getCalculateContentId(this.dimensions["Text"]);
        }
        this.dimensions["ContentType"] = this.getContentType();
        this.resetInvalidValus();
        return this.dimensions;
    };
    DimensionsModuleClass.prototype.getContentType = function () {
        if (this.dimensions && this.dimensions["ContentType"]) {
            return this.dimensions["ContentType"].toLowerCase();
        }
        return "unknown";
    };
    DimensionsModuleClass.prototype.getCalculateContentId = function (articleText) {
        if (!articleText) {
            return;
        }
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_js_sha256__["sha256"])(articleText.replace(/\s/g, ""));
    };
    DimensionsModuleClass.prototype.getDimensionsFromCustomConfig = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getCustomDimensions() || {};
    };
    DimensionsModuleClass.prototype.getDimensionsFromClientInit = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getInitDimensions() || {};
    };
    DimensionsModuleClass.prototype.fillEmptyDimFromMeta = function () {
        var defaultDim = __WEBPACK_IMPORTED_MODULE_1__classes_CommonMetaData__["a" /* CommonMetaData */].getDefaultMeta();
        for (var property in defaultDim) {
            if (defaultDim.hasOwnProperty(property) && !this.dimensions[property]) {
                this.dimensions[property] = defaultDim[property]();
            }
        }
    };
    DimensionsModuleClass.prototype.extendDimensions = function (dataModel) {
        if (!dataModel)
            return;
        for (var property in dataModel) {
            if (dataModel.hasOwnProperty(property)) {
                this.dimensions[property] = dataModel[property];
            }
        }
    };
    DimensionsModuleClass.prototype.getDynamicDimensions = function () {
        var dynamicDimensions = {};
        var dimensionsObject = this.getDimensions();
        for (var property in dimensionsObject) {
            if (dimensionsObject.hasOwnProperty(property) && this.properties.indexOf(property) === -1) {
                dynamicDimensions[property] = dimensionsObject[property];
            }
        }
        return dynamicDimensions;
    };
    DimensionsModuleClass.prototype.getContentId = function () {
        if (!this.dimensions) {
            this.getDimensions();
        }
        if (this.dimensions && this.dimensions["ContentId"]) {
            return this.dimensions["ContentId"];
        }
        return null;
    };
    DimensionsModuleClass.prototype.subscribeOtherPluginStartChangeContent = function () {
        var _this = this;
        __WEBPACK_IMPORTED_MODULE_3__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, "onInnerBeforeContentChanged", function (e) {
            _this.getDimensions();
        });
        __WEBPACK_IMPORTED_MODULE_3__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, "onCampaignFound", function (e) {
            _this.getDimensions();
        });
    };
    DimensionsModuleClass.prototype.resetInvalidValus = function () {
        var invalidStrings = [String(undefined), String(NaN).toLowerCase(), String(null)];
        for (var property in this.dimensions) {
            var value = this.dimensions[property];
            if (typeof value === "string" && invalidStrings.indexOf(value.toLowerCase()) !== -1 || value === undefined) {
                this.dimensions[property] = "";
            }
        }
    };
    return DimensionsModuleClass;
}());

var DimensionsModule = new DimensionsModuleClass();


/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BugTrackUtil; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_botDetection_BotDetector__ = __webpack_require__(57);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Data_services_Index__ = __webpack_require__(14);




var BugTrackUtil = (function () {
    function BugTrackUtil() {
    }
    BugTrackUtil.addBotInfoHeader = function (options, header) {
        if (header === void 0) { header = "botinfo"; }
        var botDetector = new __WEBPACK_IMPORTED_MODULE_0__Modules_botDetection_BotDetector__["a" /* BotDetector */]();
        var detectBot = botDetector.getDetectBot();
        options = options || {};
        options.headers = options.headers || {};
        if (detectBot) {
            options.headers[header] = JSON.stringify(detectBot);
        }
        return options;
    };
    BugTrackUtil.addInitSettingsHeader = function (options, header) {
        if (header === void 0) { header = "initsettings"; }
        options = options || {};
        options.headers = options.headers || {};
        if (__WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getSiteCode().toLowerCase() === "unknown") {
            var config = __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getInitConfiguration();
            var dimensions = Object.keys(config.dimensions);
            options.headers[header] = JSON.stringify({
                loaderInfo: __WEBPACK_IMPORTED_MODULE_2__Utils__["a" /* Utils */].getLoaderVersionInfo(),
                initOptions: JSON.stringify(__WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getInitOptions()).substring(0, 1000),
                configuration: JSON.stringify(Object.assign({}, config, { dimensions: dimensions })).substring(0, 1000)
            });
        }
        return options;
    };
    BugTrackUtil.addRequestHeader = function (xhr, model) {
        var log = this.getEvetnLog();
        log += this.getEventsCall();
        log += this.getGuidLog();
        xhr.setRequestHeader("g2i-reqid", log);
        return xhr;
    };
    BugTrackUtil.getBeaconRequestUrlParam = function (model) {
        var log = this.getEvetnLog();
        log += this.createEventCall(model.Id);
        log += this.getGuidLog();
        log = encodeURIComponent(log.substring(0, 1000));
        return "g2i-reqid=" + log;
    };
    BugTrackUtil.addDuplicateInfo = function (options, header) {
        if (header === void 0) { header = "g2i-reqid"; }
        options = options || {};
        options.headers = options.headers || {};
        var log = this.getEvetnLog();
        log += this.getEventsCall();
        log += this.getGuidLog();
        options.headers[header] = log;
        return options;
    };
    BugTrackUtil.logEventFire = function (eventModel, isValid, firedEvents) {
        this.eventsFired++;
        if (this.isNeedCollect || !isValid || firedEvents.length) {
            this.isNeedCollect = true;
            this.eventsLog += "***FIRED***iv:" + isValid + ",fel:" + firedEvents.length + ",data:" + this.getEventModelData([eventModel]);
        }
    };
    BugTrackUtil.logSendEvent = function (eventModels, options) {
        this.eventsLog += "***REP:" + ((options === null || options === void 0 ? void 0 : options.IsResend) || false) + ",PSID:" + __WEBPACK_IMPORTED_MODULE_3__Data_services_Index__["f" /* SessionService */].Instance.PageSessionId + "***";
        this.eventsSended++;
        if (this.isNeedCollect || eventModels.length > 1 || this.eventsFired !== this.eventsSended) {
            this.isNeedCollect = true;
            this.eventsLog += "***SEND***ef/es:" + this.eventsFired + "/" + this.eventsSended + ",data:" + this.getEventModelData(eventModels);
        }
    };
    BugTrackUtil.logPreventDuplicate = function (eventId) {
        this.eventsLog += "***STOP_DUPL:" + eventId + "***";
    };
    BugTrackUtil.getEventModelData = function (eventModels) {
        var result = "";
        eventModels.forEach(function (model) {
            var data = {
                Id: model.Id,
                ET: model.EventType,
                DId: model.DeviceId
            };
            result += JSON.stringify(data);
        });
        return result;
    };
    BugTrackUtil.getEvetnLog = function () {
        var log = this.logCount++ + "|" + __WEBPACK_IMPORTED_MODULE_2__Utils__["a" /* Utils */].createGUID() + "|" + __WEBPACK_IMPORTED_MODULE_2__Utils__["a" /* Utils */].createGUID() + "|" + new Date().valueOf();
        if (this.eventsLog.length) {
            log += "|" + this.eventsLog.substring(0, 1000);
        }
        return log;
    };
    BugTrackUtil.addEventsCall = function (data, status) {
        if (!data)
            return;
        var key = this.logPrefix + data.Id;
        try {
            var existValue = localStorage.getItem(key);
            if (existValue) {
                status = existValue + " " + status;
            }
            localStorage.setItem(key, status);
        }
        catch (e) { }
    };
    BugTrackUtil.getEventsCall = function () {
        return this.failedEventsLog;
    };
    BugTrackUtil.createEventsCall = function () {
        var _this = this;
        var log = "";
        Object.keys(localStorage).filter(function (key) { return key.startsWith(_this.logPrefix); })
            .forEach(function (key) {
            try {
                var value = localStorage.getItem(key);
                if (value.indexOf("RESOLVE_SUCCESS") === -1) {
                    log += "key:" + key + ",value:" + value;
                }
            }
            catch (e) { }
        });
        if (log) {
            log = "|***FAILED_EVENTS***" + log.substring(0, 1000);
        }
        this.cleanEventsCall();
        this.failedEventsLog = log;
    };
    BugTrackUtil.createEventCall = function (eventId) {
        var _this = this;
        var log = "***BEACON***";
        Object.keys(localStorage).filter(function (key) { return key.startsWith(_this.logPrefix) && key.indexOf(eventId) !== -1; })
            .forEach(function (key) {
            try {
                log += localStorage.getItem(key) + "|";
            }
            catch (e) { }
        });
        return log;
    };
    BugTrackUtil.cleanEventsCall = function () {
        var _this = this;
        Object.keys(localStorage).filter(function (key) { return key.startsWith(_this.logPrefix); })
            .forEach(function (key) {
            try {
                localStorage.removeItem(key);
            }
            catch (e) { }
        });
    };
    BugTrackUtil.addExistingGuidLog = function (existingGuid) {
        this.guidLog += existingGuid + "|";
    };
    BugTrackUtil.getGuidLog = function () {
        var log = "";
        if (this.guidLog.length) {
            log += "***GUID_LOG***|" + this.guidLog.substr(-180);
        }
        return log;
    };
    BugTrackUtil.addRepeatDelay = function (delay) {
        this.guidLog += "*DELAY:" + delay + "*";
    };
    BugTrackUtil.eventsLog = "";
    BugTrackUtil.eventsFired = 0;
    BugTrackUtil.eventsSended = 0;
    BugTrackUtil.isNeedCollect = false;
    BugTrackUtil.logPrefix = "FailedEventLog_";
    BugTrackUtil.guidLog = "";
    BugTrackUtil.logCount = 0;
    return BugTrackUtil;
}());



/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferEventDataEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpEvent__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_OfferModel__ = __webpack_require__(40);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var OfferEventDataEvent = (function (_super) {
    __extends(OfferEventDataEvent, _super);
    function OfferEventDataEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    OfferEventDataEvent.prototype.createOfferEventData = function (offer) {
        var fnName = "[createOfferEventData]";
        try {
            this.Logger.trace(fnName, "data", offer);
            var offerEventData = new __WEBPACK_IMPORTED_MODULE_1__models_OfferModel__["a" /* OfferModel */](offer);
            this.Logger.trace(fnName, "cdpData => ", offerEventData);
            return offerEventData;
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    OfferEventDataEvent.prototype.getEventModel = function () {
        _super.prototype.getEventModel.call(this);
        var offerData = {};
        if (this.originalEventData.offer) {
            offerData = this.createOfferEventData(this.originalEventData.offer);
        }
        ;
        this.transformEventData(offerData);
        return this.eventModel;
    };
    return OfferEventDataEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ClickEventName; });
/* unused harmony export EventName */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EventNames; });
var ClickEventName = {
    Login: "Login",
    Activate: "Activate",
    Upgrade: "Upgrade",
    Other: "Other",
    SignUp: "SignUp",
    Social: "Social",
    Action: "Action",
    Register: "Register",
    Logout: "Logout"
};
var EventName = {
    MeterLevelSet: "meterLevelSet",
    ConversationDetermined: "conversationDetermined",
    MeterStart: "meterStart",
    MeterStop: "meterStop",
    ActionShown: "actionShown",
    NewsletterSignup: "newsletterSignup",
    CheckoutStart: "CheckoutStart",
    OffersPresented: "OffersPresented",
    BillingAddress: "BillingAddress",
    UserInfo: "UserInfo",
    CreatedNewUser: "CreatedNewUser",
    Payment: "Payment",
    DeliveryAddress: "DeliveryAddress",
    SubscriptionSuccess: "SubscriptionSuccess",
    AbandonPresented: "AbandonPresented",
    AbandonClosed: "AbandonClosed",
    IdlePresented: "IdlePresented",
    IdleClosed: "IdleClosed",
    UpsellSelected: "UpsellSelected"
};
var EventNames = {
    PageView: "PageView"
};


/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MetaDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);

var MetaDataService = (function () {
    function MetaDataService() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("MetaDataService");
        this.customCollectedDimensions = [];
        this.dimensionsToCollect = [];
        this.collectableDimensions = [];
        this.Logger.trace("CTOR");
        this.analyticsDimensions = {};
        this.setDefaultDimensions();
    }
    Object.defineProperty(MetaDataService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new MetaDataService();
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    MetaDataService.prototype.setup = function (dimensions) {
        this.customDimensions = dimensions;
    };
    MetaDataService.prototype.process = function () {
        try {
            this.Logger.debug("Processing....", this.customDimensions, "dimensionsToCollect", this.dimensionsToCollect);
            if (this.customDimensions) {
                this.evalCustomDimensions(this.customDimensions);
            }
            this.loadMetaTags();
            this.Logger.debug("collectedDimensions", this.analyticsDimensions);
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    MetaDataService.prototype.setDefaultDimensions = function () {
        try {
            this.Logger.debug("Setting Default Dimensions");
            this.dimensionsToCollect.push({
                Id: "contentType",
                Name: "ContentType",
                Required: true,
                MetaTagNames: ["type", "og:type"]
            });
            this.dimensionsToCollect.push({
                Id: "keywords",
                Name: "Keywords",
                Required: true,
                MetaTagNames: ["keywords", "og:keywords", "bt:keywords"]
            });
            this.dimensionsToCollect.push({
                Id: "section",
                Name: "Section",
                Required: true,
                MetaTagNames: ["section", "og:section"]
            });
            this.dimensionsToCollect.push({
                Id: "author",
                Name: "Author",
                Required: true,
                MetaTagNames: ["byline", "author", "bt:author"]
            });
            this.dimensionsToCollect.push({
                Id: "title",
                Name: "Title",
                Required: true,
                MetaTagNames: ["title", "og:title"]
            });
            this.dimensionsToCollect.push({
                Id: "tags",
                Name: "Tags",
                Required: false,
                MetaTagNames: ["tags"]
            });
            this.dimensionsToCollect.push({
                Id: "contentId",
                Name: "ContentId",
                Required: false,
                MetaTagNames: ["contentid"]
            });
            this.dimensionsToCollect.push({
                Id: "publishDate",
                Name: "PublishDate",
                Required: false,
                MetaTagNames: ["publishDate", "pubdate", "og:pers_rec_first_pub_date", "bt:pubDate"]
            });
            this.dimensionsToCollect.push({
                Id: "text",
                Name: "Text",
                Required: false,
                ExcludeFromAnalytics: true
            });
            this.dimensionsToCollect.push({
                Id: "leadText",
                Name: "LeadText",
                Required: false,
                ExcludeFromAnalytics: true
            });
            this.collectableDimensions = Object.assign(this.collectableDimensions, this.dimensionsToCollect);
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    MetaDataService.prototype.getCustomDimensions = function () {
        return this.customCollectedDimensions;
    };
    MetaDataService.prototype.evalCustomDimensions = function (dimensions) {
        var _this = this;
        try {
            Object.keys(dimensions).forEach(function (key) {
                var cdim = dimensions[key];
                _this.Logger.debug(key, cdim, typeof cdim);
                if (typeof cdim === "function") {
                    _this.Logger.debug("Is Function");
                    var dimVal = cdim.call();
                    _this.Logger.debug("Is Function VALUE", dimVal);
                    _this.collectDimensionForAnalytics(key, dimVal);
                    _this.customCollectedDimensions[key] = dimVal;
                    var index = _this.dimensionsToCollect.findIndex(function (d) { return d.Id === key; });
                    if (index >= 0) {
                        _this.Logger.debug("evalCD Index", _this.dimensionsToCollect[index]);
                        _this.dimensionsToCollect.splice(index, 1);
                    }
                }
            });
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    MetaDataService.prototype.loadMetaTags = function () {
        var _this = this;
        try {
            var meta = document.querySelectorAll("meta");
            Array.prototype.forEach.call(meta, function (node) {
                var metaData = _this.getMetaData(node);
                if (metaData) {
                    _this.screenData(metaData);
                }
            });
            this.Logger.debug("this.dimensionsToCollect", this.dimensionsToCollect);
            this.Logger.debug("this.collectableDimensions", this.collectableDimensions);
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    MetaDataService.prototype.getMetaData = function (metaTag) {
        try {
            var metaProperty = (metaTag.attributes["property"] ? metaTag.attributes["property"].value : "");
            var metaName = (metaTag.attributes["name"] ? metaTag.attributes["name"].value : "");
            var metaPropCleaned = metaName || metaProperty;
            if (metaPropCleaned) {
                var metaValue = metaTag.attributes["value"] || metaTag.content;
                if (metaValue) {
                    var tag = {
                        Name: metaPropCleaned,
                        Value: metaValue
                    };
                    return tag;
                }
            }
        }
        catch (e) {
            this.Logger.error(e);
            return null;
        }
    };
    MetaDataService.prototype.screenData = function (metaTag) {
        var _this = this;
        try {
            var fnName = "screenData";
            var allowedTagData = this.dimensionsToCollect.filter(function (element, index, array) {
                if (!element || !element.MetaTagNames) {
                    return;
                }
                var isAllowed = element.MetaTagNames.some(function (x) { return x === metaTag.Name; });
                if (isAllowed) {
                    var alreadyCollected = _this.dimensionsToCollect.some(function (x) { return x.Name === element.Id; });
                    if (!alreadyCollected) {
                        _this.analyticsDimensions[element.Id] = metaTag.Value;
                    }
                    else {
                    }
                }
                else {
                }
            });
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    MetaDataService.prototype.collectDimensionForAnalytics = function (dimensionName, dimVal) {
        var collectDimension = this.dimensionsToCollect.find(function (d) { return d.Name === dimensionName; });
        if (collectDimension && !collectDimension.ExcludeFromAnalytics) {
            this.analyticsDimensions[collectDimension.Id] = dimVal;
        }
    };
    return MetaDataService;
}());



/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Index__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils_DeviceDetector__ = __webpack_require__(11);



var UserService = (function () {
    function UserService() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("UserService");
        this.tagManagerService = __WEBPACK_IMPORTED_MODULE_1__Index__["c" /* TagManagerService */].Instance;
        this.Logger.trace("CTOR");
        this.setDeviceDetails();
    }
    Object.defineProperty(UserService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new UserService();
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    UserService.prototype.setDeviceDetails = function () {
        this.Logger.trace("setDeviceDetails");
        this.DeviceDetails = __WEBPACK_IMPORTED_MODULE_2__Utils_DeviceDetector__["a" /* DeviceDetector */].getMetaData();
        this.Logger.debug("setDeviceDetails", "this.DeviceDetails", this.DeviceDetails);
    };
    UserService.prototype.setUserState = function (userState, userData) {
        try {
            this.Logger.debug("setUserState userState => ", userState, "userData", userData);
            if (userState) {
                this.tagManagerService.setDLV("userState", userState);
            }
            this.Logger.debug("setUserState userState => ", userState);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return UserService;
}());



/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ConnextModuleClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__classes_ConversationManager__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__classes_ActionManager__ = __webpack_require__(149);


var ConnextModuleClass = (function () {
    function ConnextModuleClass() {
    }
    ConnextModuleClass.prototype.getCurrentConversation = function () {
        return __WEBPACK_IMPORTED_MODULE_0__classes_ConversationManager__["a" /* ConversationManager */].getCurrentConversation();
    };
    ConnextModuleClass.prototype.getActionDataFromElement = function (clickedElement) {
        return __WEBPACK_IMPORTED_MODULE_1__classes_ActionManager__["a" /* ActionManager */].getInfoFromClickedElement(clickedElement);
    };
    ConnextModuleClass.prototype.getVersionInfo = function () {
        if (window.Connext) {
            return window.Connext.GetVersionInfo();
        }
        else {
            return "Connext is not defined";
        }
    };
    ConnextModuleClass.prototype.getConfigCode = function () {
        if (window.Connext && window.Connext.Storage) {
            return window.Connext.Storage.GetConfigCode();
        }
        else {
            return null;
        }
    };
    return ConnextModuleClass;
}());

var ConnextModule = new ConnextModuleClass();


/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CalculationResultModel; });
var CalculationResultModel = (function () {
    function CalculationResultModel(miscKey, value, enableGA) {
        if (enableGA === void 0) { enableGA = false; }
        this.miscKey = miscKey;
        this.value = value;
        this.enableGA = enableGA || false;
    }
    return CalculationResultModel;
}());



/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Collector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__ = __webpack_require__(7);

var Collector = (function () {
    function Collector() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("Collector");
        this.listeners = [];
    }
    Collector.prototype.registerEvents = function () {
        var _this = this;
        var events = Object.keys(this.events);
        events.forEach(function (eventName) {
            try {
                var eventListener = new _this.events[eventName]();
                _this.listeners[eventName] = eventListener;
                eventListener.listen();
            }
            catch (e) {
                _this.Logger.fatal(e);
            }
        });
    };
    ;
    Collector.prototype.isHavePageViewEvent = function () {
        return false;
    };
    return Collector;
}());



/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddressModel; });
var AddressModel = (function () {
    function AddressModel(data) {
        if (!data)
            return;
        this.FirstName = data.firstName;
        this.LastName = data.lastName;
        this.Address = data.address;
        this.Phone = data.phone;
        this.AptUnit = data.aptUnit;
        this.Zipcode = data.zipCode;
        this.City = data.city;
        this.State = data.state;
        this.Country = data.country;
        this.Name = data.name;
    }
    return AddressModel;
}());



/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserInformationModel; });
var UserInformationModel = (function () {
    function UserInformationModel(data) {
        if (!data)
            return;
        this.Email = data.email;
        this.DisplayName = data.displayName;
    }
    return UserInformationModel;
}());



/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CdpEventModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_BugTrackUtil__ = __webpack_require__(21);


var CdpEventModel = (function () {
    function CdpEventModel(data) {
        this.Id = __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].createGUID();
        this.EventData = [];
        __WEBPACK_IMPORTED_MODULE_1__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addExistingGuidLog(this.Id);
        if (!data)
            return;
        this.EventName = data.EventName;
        this.EventType = data.EventType;
        this.EventTimestamp = data.EventTimestamp;
        this.DeviceId = data.DeviceId;
        this.G2Ideviceid = data.G2Ideviceid;
        this.DeviceBrowserSessionId = data.DeviceBrowserSessionId;
        this.PageSessionId = data.PageSessionId;
        this.ConfigCode = data.ConfigCode;
        this.SiteCode = data.SiteCode;
        this.ClientCode = data.ClientCode;
        this.SiteEnvironment = data.SiteEnvironment || "Unknown";
        this.EventSource = data.EventSource || "Unknown";
        this.EventData = data.EventData;
    }
    return CdpEventModel;
}());



/***/ }),
/* 32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeviceModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_DeviceDetector__ = __webpack_require__(11);

var DeviceModel = (function () {
    function DeviceModel() {
        var userMeta = __WEBPACK_IMPORTED_MODULE_0__Utils_DeviceDetector__["a" /* DeviceDetector */].getMetaData();
        this.Browser = userMeta.Browser;
        this.Type = userMeta.DeviceType;
        this.OS = userMeta.OS;
    }
    return DeviceModel;
}());



/***/ }),
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferTagModel; });
var OfferTagModel = (function () {
    function OfferTagModel(offer) {
        this.Id = this.getOfferId(offer);
        this.PlanName = offer.Name,
            this.TotalPrice = offer.TotalPrice;
        this.Type = this.getOfferType(offer);
    }
    OfferTagModel.prototype.getOfferId = function (offer) {
        if (offer.OfferId) {
            return offer.OfferId.toString();
        }
        else {
            if (offer.PlanId) {
                return offer.PlanId.toString();
            }
            else {
                return "";
            }
        }
    };
    OfferTagModel.prototype.getOfferType = function (offer) {
        if ((offer.IsDigital || offer.IsEedition) && offer.IsPrint) {
            return "Both";
        }
        else if (offer.IsDigital) {
            return "Digital";
        }
        else if (offer.IsPrint) {
            return "Print";
        }
        else {
            return "Unknown";
        }
    };
    return OfferTagModel;
}());



/***/ }),
/* 34 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CookiesStorageClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CookiesStorage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__JsCookie__ = __webpack_require__(139);

var CookiesStorageClass = (function () {
    function CookiesStorageClass() {
        this.cookies = __WEBPACK_IMPORTED_MODULE_0__JsCookie__["a" /* JsCookie */].getInstance();
    }
    CookiesStorageClass.prototype.isSupported = function () {
        return true;
    };
    CookiesStorageClass.prototype.get = function (key, converter) {
        if (converter === void 0) { converter = {}; }
        return this.cookies.get(key, converter);
    };
    CookiesStorageClass.prototype.set = function (key, value, options, converter) {
        if (converter === void 0) { converter = {}; }
        if (options && options.daysOfLife) {
            var expireDate = new Date();
            expireDate.setDate(expireDate.getDate() + options.daysOfLife);
            options.expires = expireDate;
        }
        this.cookies.set(key, value, options, converter);
    };
    CookiesStorageClass.prototype.delete = function (key, options) {
        this.cookies.remove(key, options);
    };
    CookiesStorageClass.prototype.clear = function () {
        return null;
    };
    return CookiesStorageClass;
}());

var CookiesStorage = new CookiesStorageClass();


/***/ }),
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export UserState */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextUserState; });
var UserState = {
    "LoggedIn": "Known",
    "Subscriber": "Subscriber",
    "Unknown": "Unknown"
};
var ConnextUserState = {
    "notAuthorized": UserState.Unknown,
    "authorized": UserState.LoggedIn,
    "hasAccess": UserState.Subscriber
};


/***/ }),
/* 36 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EventService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Index__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MetaDataService__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__SessionService__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_DeviceDetector__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__FailedEventService__ = __webpack_require__(55);






var EventService = (function () {
    function EventService() {
        var _this = this;
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("EventService", "#fb9b25");
        this.collectedEvents = [];
        this.Logger.trace("CTOR");
        this.sessionService = __WEBPACK_IMPORTED_MODULE_3__SessionService__["a" /* SessionService */].Instance;
        this.azureService = __WEBPACK_IMPORTED_MODULE_1__Index__["d" /* AzureService */].Instance;
        this.tagManagerService = __WEBPACK_IMPORTED_MODULE_1__Index__["c" /* TagManagerService */].Instance;
        this.appInsightsService = __WEBPACK_IMPORTED_MODULE_1__Index__["e" /* AppInsightsService */].Instance;
        this.dimensionService = __WEBPACK_IMPORTED_MODULE_2__MetaDataService__["a" /* MetaDataService */].Instance;
        this.failedEventService = __WEBPACK_IMPORTED_MODULE_5__FailedEventService__["a" /* FailedEventService */].Instance;
        var checkQueryEventsInterval = setInterval(function () {
            if (_this.collectedEvents && _this.collectedEvents.length && _this.isReadyDeviceId()) {
                clearInterval(checkQueryEventsInterval);
                _this.sendTagCollectedEvents();
            }
        }, 1000);
    }
    Object.defineProperty(EventService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new EventService();
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    EventService.prototype.sendEvent = function (eventName, eventPayload, skipCollectedDimensions) {
        if (this.isReadyDeviceId()) {
            if (this.collectedEvents && this.collectedEvents.length) {
                this.collectedEvents.push({
                    eventName: eventName,
                    eventPayload: eventPayload,
                    skipCollectedDimensions: skipCollectedDimensions
                });
                this.sendTagCollectedEvents();
            }
            else {
                this.sendApprovedEvent(eventName, eventPayload, skipCollectedDimensions);
            }
        }
        else {
            this.collectedEvents.push({
                eventName: eventName,
                eventPayload: eventPayload,
                skipCollectedDimensions: skipCollectedDimensions
            });
        }
    };
    EventService.prototype.isReadyDeviceId = function () {
        if (__WEBPACK_IMPORTED_MODULE_4__Utils_DeviceDetector__["a" /* DeviceDetector */].getCalculatedDeviceId()) {
            return true;
        }
        else {
            return false;
        }
    };
    EventService.prototype.sendTagCollectedEvents = function () {
        var _this = this;
        if (!this.collectedEvents) {
            return;
        }
        this.collectedEvents.forEach(function (event) {
            _this.sendApprovedEvent(event.eventName, event.eventPayload, event.skipCollectedDimensions);
        });
        this.collectedEvents = [];
    };
    EventService.prototype.sendApprovedEvent = function (eventName, eventPayload, skipCollectedDimensions) {
        try {
            this.Logger.debug("EventService.sendEvent...", eventName, eventPayload);
            this.azureService.sendData(eventName, eventPayload);
            if (!skipCollectedDimensions) {
                if (!eventPayload) {
                    eventPayload = {};
                }
                if (this.dimensionService && this.dimensionService.analyticsDimensions) {
                    eventPayload = Object.assign(eventPayload, this.dimensionService.analyticsDimensions);
                }
            }
            this.tagManagerService.sendTag(eventName, eventPayload);
            delete eventPayload["gtm.uniqueEventId"];
            this.appInsightsService.trackEvent(eventName, eventPayload);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    EventService.prototype.resendFailedEvents = function () {
        this.failedEventService.clean();
    };
    return EventService;
}());



/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export DataCollectorClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DataCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__classes_FirstVisitDataCollector__ = __webpack_require__(150);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Core_constants_Constants__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Utils_Utils__ = __webpack_require__(0);




var DataCollectorClass = (function () {
    function DataCollectorClass() {
        this.collectedEvents = [];
    }
    DataCollectorClass.prototype.addEventInCollector = function (event) {
        this.collectedEvents.push(event);
        if (event.useInCalculateFirstVisitModel()) {
            __WEBPACK_IMPORTED_MODULE_0__classes_FirstVisitDataCollector__["a" /* FirstVisitDataCollector */].collectCdpEvent(event);
        }
    };
    DataCollectorClass.prototype.listenErCode = function () {
        __WEBPACK_IMPORTED_MODULE_3__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, __WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].DlCdpGetSuccess, function (event) {
            var eventData = event.detail;
            if (eventData && eventData.er == __WEBPACK_IMPORTED_MODULE_2__Core_constants_Constants__["a" /* Constants */].NoErInformation) {
                DataCollector.process();
            }
            else {
                __WEBPACK_IMPORTED_MODULE_0__classes_FirstVisitDataCollector__["a" /* FirstVisitDataCollector */].clearData();
            }
        });
    };
    DataCollectorClass.prototype.isCollectedFirstVisit = function (collectedByCondition) {
        return __WEBPACK_IMPORTED_MODULE_0__classes_FirstVisitDataCollector__["a" /* FirstVisitDataCollector */].isCollectedFirstVisit(collectedByCondition);
    };
    DataCollectorClass.prototype.getCollectedFirstVisitData = function () {
        return __WEBPACK_IMPORTED_MODULE_0__classes_FirstVisitDataCollector__["a" /* FirstVisitDataCollector */].getPageLoadCollectedData();
    };
    DataCollectorClass.prototype.process = function () {
        __WEBPACK_IMPORTED_MODULE_0__classes_FirstVisitDataCollector__["a" /* FirstVisitDataCollector */].process();
    };
    return DataCollectorClass;
}());

var DataCollector = new DataCollectorClass();


/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export DeviceModuleClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeviceModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_modules_HttpService__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_storages_cookies_CookiesStorage__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils_DeviceDetector__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Modules_cdpModule_CdpModule__ = __webpack_require__(4);




var DeviceModuleClass = (function () {
    function DeviceModuleClass() {
        this.oldDeviceIdKey = "oldDeviceId";
    }
    DeviceModuleClass.prototype.setup = function () {
        this.deviceIdIsNotChanged();
    };
    DeviceModuleClass.prototype.getDeviceIdToApi = function () {
        var savedOldDeviceId = this.getChangedDeviceId();
        if (savedOldDeviceId) {
            return Promise.resolve(savedOldDeviceId);
        }
        else {
            return __WEBPACK_IMPORTED_MODULE_2__Utils_DeviceDetector__["a" /* DeviceDetector */].getDeviceId();
        }
    };
    DeviceModuleClass.prototype.deviceIdIsNotChanged = function () {
        var _this = this;
        var savedOldDeviceId = this.getChangedDeviceId();
        if (savedOldDeviceId) {
            return __WEBPACK_IMPORTED_MODULE_2__Utils_DeviceDetector__["a" /* DeviceDetector */].getDeviceId().then(function (deviceId) {
                var notify = {
                    newId: deviceId,
                    id: savedOldDeviceId
                };
                _this.sendDeviceIdNotify(notify);
            });
        }
    };
    DeviceModuleClass.prototype.deviceIChanged = function (notify) {
        this.saveChangedDeviceId(notify.id);
        __WEBPACK_IMPORTED_MODULE_2__Utils_DeviceDetector__["a" /* DeviceDetector */].setCalculatedDeviceId(notify.newId);
        return this.sendDeviceIdNotify(notify);
    };
    DeviceModuleClass.prototype.sendDeviceIdNotify = function (notify) {
        var _this = this;
        return this.sendApiChangeDeviceIdNotify(notify)
            .then(function () {
            _this.deleteChangedDeviceId();
            __WEBPACK_IMPORTED_MODULE_3__Modules_cdpModule_CdpModule__["a" /* CdpModule */].updateDeviceIdInCdpDlStorage(notify.newId);
            return Promise.resolve();
        }).catch(function (error) {
            console.log("changeDeviceId", error);
            return Promise.reject();
        });
    };
    DeviceModuleClass.prototype.sendApiChangeDeviceIdNotify = function (notify) {
        return __WEBPACK_IMPORTED_MODULE_0__Data_modules_HttpService__["a" /* HttpService */].post("user/changedeviceid", {
            new_device_id: notify.newId,
            old_device_id: notify.id
        });
    };
    DeviceModuleClass.prototype.saveChangedDeviceId = function (oldDeviceId) {
        __WEBPACK_IMPORTED_MODULE_1__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].set(this.oldDeviceIdKey, oldDeviceId, { daysOfLife: 36500 });
    };
    DeviceModuleClass.prototype.getChangedDeviceId = function () {
        return __WEBPACK_IMPORTED_MODULE_1__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].get(this.oldDeviceIdKey);
    };
    DeviceModuleClass.prototype.deleteChangedDeviceId = function () {
        __WEBPACK_IMPORTED_MODULE_1__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].delete(this.oldDeviceIdKey);
    };
    return DeviceModuleClass;
}());

var DeviceModule = new DeviceModuleClass();


/***/ }),
/* 39 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OffersEventDataEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpEvent__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_OfferModel__ = __webpack_require__(40);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var OffersEventDataEvent = (function (_super) {
    __extends(OffersEventDataEvent, _super);
    function OffersEventDataEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    OffersEventDataEvent.prototype.getEventModel = function () {
        this.eventModel = _super.prototype.getEventModel.call(this);
        this.updateCustomProperties();
        var cdpDataList = this.getEventModelsByOffers(this.eventModel);
        return cdpDataList;
    };
    OffersEventDataEvent.prototype.getEventModelsByOffers = function (shareEventModel) {
        var _this = this;
        var cdpDataList = [];
        var data = this.originalEventData;
        if (data.offers) {
            data.offers.forEach(function (offer) {
                var sendOfferModel = new __WEBPACK_IMPORTED_MODULE_2__models_OfferModel__["a" /* OfferModel */](offer);
                var cloneShareEventModel = Object.assign({}, shareEventModel);
                cloneShareEventModel.Id = __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].createGUID();
                _this.Logger.debug("transformEventData", "offer => ", sendOfferModel);
                var eventData = _this.convertDataValueToString(__WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].objectToArrayDict(sendOfferModel));
                cloneShareEventModel.EventData = cloneShareEventModel.EventData.concat(eventData);
                cdpDataList.push(cloneShareEventModel);
            });
            return cdpDataList;
        }
        return null;
    };
    return OffersEventDataEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferModel; });
var OfferModel = (function () {
    function OfferModel(offer) {
        this.OfferName = offer.Name;
        this.OfferMarketingText = this.getMarketingText(offer),
            this.OfferText = this.getOfferText(offer);
        this.OfferImageDescription = (offer.Image) ? offer.Image.ImageDescription : "";
        this.OfferIsBestPlan = offer.IsBestPlan;
        this.OfferDisplayOrder = offer.DisplayOrder;
        this.OfferIsDigital = offer.IsDigital;
        this.OfferIsEedition = offer.IsEedition;
        this.OfferIsEzPay = offer.IsEzPay;
        this.OfferIsEzPayOptional = offer.IsEzPayOptional;
        this.OfferIsPrint = offer.IsPrint;
        this.OfferPassOrTrialDays = offer.PassOrTrialDays;
        this.OfferAmount = offer.Amount;
        this.OfferQuantity = offer.Quantity;
        this.OfferCityTax = offer.CityTax;
        this.OfferStateTax = offer.StateTax;
        this.OfferCountyTax = offer.CountyTax;
        this.OfferTaxAmount = offer.TaxAmount;
        this.OfferActivationFee = offer.ActivationFee;
        this.OfferPriceSuffix = offer.PriceSuffix;
        this.OfferPremiums = (offer.Premiums && offer.Premiums.length > 0) ? true : false;
        this.OfferTotalPrice = offer.TotalPrice;
        this.OfferAllowPreviousSunday = offer.AllowPreviousSunday || "Unknown";
    }
    OfferModel.prototype.getMarketingText = function (offer) {
        if (offer.Marketing) {
            return offer.Marketing.Body;
        }
        else {
            return offer.MarketingText;
        }
    };
    OfferModel.prototype.getOfferText = function (offer) {
        if (offer.Marketing) {
            return offer.Marketing.Name;
        }
        else {
            return offer.OfferText;
        }
    };
    return OfferModel;
}());



/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SendOptionsModel; });
var SendOptionsModel = (function () {
    function SendOptionsModel(data) {
        this.IsAsync = false;
        this.IsResend = false;
        if (!data) {
            return;
        }
        this.IsAsync = data.IsAsync;
        this.IsResend = data.IsResend;
    }
    return SendOptionsModel;
}());



/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocationModel; });
var LocationModel = (function () {
    function LocationModel(data) {
        if (!data)
            return;
        this.City = data.City;
        this.ContinentCode = data.ContinentCode;
        this.CountryCode = data.CountryCode;
        this.Lat = data.Lat;
        this.Long = data.Long;
        this.State = data.State;
        this.Zip = data.Zip;
    }
    return LocationModel;
}());



/***/ }),
/* 43 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PageModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_DateUtil__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Modules_dimensionsModule_DimensionsModule__ = __webpack_require__(20);


var PageModel = (function () {
    function PageModel(data) {
        if (!data) {
            this.setDynamicProperty();
            return;
        }
        this.Keywords = data.Keywords && Array.isArray(data.Keywords) ? data.Keywords.join(",") : data.Keywords;
        this.Title = data.Title;
        this.Url = data.Url;
        this.Section = data.Section;
        this.Author = data.Author;
        this.Tags = data.Tags && Array.isArray(data.Tags) ? data.Tags.join(",") : data.Tags;
        ;
        this.ContentId = data.ContentId;
        this.PublishDate = __WEBPACK_IMPORTED_MODULE_0__Utils_DateUtil__["a" /* DateUtil */].getISOFormat(data.PublishDate);
        this.ContentType = data.ContentType;
        this.Recommended = data.Recommended;
        this.setDynamicProperty();
    }
    PageModel.prototype.setDynamicProperty = function () {
        var dynamicDimensions = __WEBPACK_IMPORTED_MODULE_1__Modules_dimensionsModule_DimensionsModule__["a" /* DimensionsModule */].getDynamicDimensions();
        this.extendCurrentModel(dynamicDimensions);
    };
    PageModel.prototype.extendCurrentModel = function (dataModel) {
        if (!dataModel)
            return;
        for (var property in dataModel) {
            if (dataModel.hasOwnProperty(property)) {
                this[property] = dataModel[property];
            }
        }
    };
    return PageModel;
}());



/***/ }),
/* 44 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CollectorTypes; });
/* unused harmony export ColType */
var CollectorTypes = {
    Connext: "Connext",
    SP: "SP",
    Flittz: "Flittz"
};
var ColType = {
    "Connext": "Connext",
    "SP": "SP",
    "Flittz": "Flittz"
};


/***/ }),
/* 45 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PaymentTypes; });
var PaymentTypes = {
    "credit_card_completed_e": "Credit Card",
    "bank_account_completed_e": "Bank Account",
    "bill_me_completed_e": "Bill Me",
    "apple_pay_completed_e": "Apple Pay",
    "paypal_completed_e": "Paypal"
};


/***/ }),
/* 46 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GtmTagCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__ = __webpack_require__(7);

var GtmTagCollector = (function () {
    function GtmTagCollector() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("GtmTagCollector start");
    }
    GtmTagCollector.prototype.registerTagEvents = function () {
        var _this = this;
        var events = Object.keys(this.events);
        events.forEach(function (eventName) {
            try {
                var eventListener = new _this.events[eventName]();
                eventListener.listen();
            }
            catch (e) {
                _this.Logger.fatal(e);
            }
        });
    };
    ;
    return GtmTagCollector;
}());



/***/ }),
/* 47 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GtmTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_services_EventService__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_logger_LoggerService__ = __webpack_require__(7);


var GtmTagEvent = (function () {
    function GtmTagEvent() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_1__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("GtmTagEvent");
        this.eventService = __WEBPACK_IMPORTED_MODULE_0__Data_services_EventService__["a" /* EventService */].Instance;
    }
    GtmTagEvent.prototype.listen = function () { };
    GtmTagEvent.prototype.getSendTagData = function () {
        return {};
    };
    GtmTagEvent.prototype.setOriginalEventData = function (data) {
        this.originalEventData = data;
    };
    GtmTagEvent.prototype.getSendTagName = function () {
        return this.sendTagName;
    };
    GtmTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {
        this.eventService.sendEvent(tagName || this.getSendTagName(), tagData || this.getSendTagData());
    };
    return GtmTagEvent;
}());



/***/ }),
/* 48 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MeterStartTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var MeterStartTagEvent = (function (_super) {
    __extends(MeterStartTagEvent, _super);
    function MeterStartTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.sendTagName = "meterStart";
        return _this;
    }
    return MeterStartTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 49 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MeterStopTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var MeterStopTagEvent = (function (_super) {
    __extends(MeterStopTagEvent, _super);
    function MeterStopTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.sendTagName = "meterStop";
        return _this;
    }
    return MeterStopTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 50 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Factory; });
var Factory = (function () {
    function Factory() {
    }
    return Factory;
}());



/***/ }),
/* 51 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Http; });
var Http = (function () {
    function Http() {
    }
    Http.prototype.get = function (url, payload, options) {
        return this.call("GET", url, payload, options);
    };
    Http.prototype.post = function (url, payload, options) {
        return this.call("POST", url, payload, options);
    };
    Http.prototype.call = function (method, url, payload, options) {
        options = options || {};
        var fetchURL = new URL(url);
        var fetchOptions = {};
        if (options.headers) {
            var headers = new Headers(options.headers);
            headers.append("Content-Type", options.contentType ? options.contentType : "application/json");
            headers.append("Accept", "application/json");
            fetchOptions["headers"] = headers;
        }
        fetchOptions["method"] = method;
        if (method === "GET") {
            if (payload) {
                Object.keys(payload).forEach(function (key) {
                    fetchURL.searchParams.append(key, payload[key]);
                });
            }
        }
        else {
            fetchOptions["body"] = JSON.stringify(payload);
        }
        return fetch(fetchURL.href, fetchOptions)
            .then(function (response) {
            if (!response.ok) {
                if (response.status == 404 || response.status == 500) {
                }
                else {
                    return response.text().then(function (text) {
                        return Promise.reject(text ? JSON.parse(text) : {});
                    });
                }
            }
            return Promise.resolve(response);
        })
            .then(function (response) {
            return response.text().then(function (text) {
                return text ? JSON.parse(text) : {};
            });
        })
            .catch(function (error) {
            return Promise.reject(error);
        });
    };
    return Http;
}());



/***/ }),
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ActionTypeDict; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ActionTypes; });
var ActionTypeDict = {
    1: "Banner",
    4: "Inline",
    2: "Modal",
    3: "Paywall",
    6: "SmallInfoBox",
    7: "JS",
    11: "Newsletter",
    16: "InsightsRecommendation"
};
var ActionTypes = {
    "Banner": "Banner",
    "Inline": "Inline",
    "Modal": "Modal",
    "Paywall": "Paywall",
    "SmallInfoBox": "SmallInfoBox",
    "JS": "JS",
    "Newsletter": "Newsletter"
};


/***/ }),
/* 53 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export LocalStorageServiceClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocalStorageService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Core_storages_local_LocalStorage__ = __webpack_require__(140);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__ = __webpack_require__(5);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var LocalStorageServiceClass = (function (_super) {
    __extends(LocalStorageServiceClass, _super);
    function LocalStorageServiceClass() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.localStorage = new __WEBPACK_IMPORTED_MODULE_0__Core_storages_local_LocalStorage__["a" /* LocalStorage */]();
        return _this;
    }
    LocalStorageServiceClass.prototype.expandKey = function (key) {
        var siteCode = __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getSiteCode();
        var clientCode = __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getClientCode();
        if (!siteCode || !clientCode) {
            return key;
        }
        var expandedKey = [
            key,
            siteCode,
            clientCode
        ].join("_");
        return expandedKey;
    };
    LocalStorageServiceClass.prototype.get = function (key) {
        return this.localStorage.get(this.expandKey(key));
    };
    LocalStorageServiceClass.prototype.set = function (key, value) {
        this.localStorage.set(this.expandKey(key), value);
    };
    return LocalStorageServiceClass;
}(__WEBPACK_IMPORTED_MODULE_0__Core_storages_local_LocalStorage__["a" /* LocalStorage */]));

var LocalStorageService = new LocalStorageServiceClass();


/***/ }),
/* 54 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AzureService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Index__ = __webpack_require__(14);



var AzureService = (function () {
    function AzureService() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("AzureService", "#b270df");
        this.OPTIONS = {
            enabled: false
        };
        this.Logger.trace("CTOR");
        this.sessionService = __WEBPACK_IMPORTED_MODULE_2__Index__["f" /* SessionService */].Instance;
    }
    Object.defineProperty(AzureService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new AzureService();
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    AzureService.prototype.setup = function (opts) {
        try {
            this.Logger.trace("setOptions", opts);
            this.OPTIONS = opts;
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    AzureService.prototype.createPayload = function (eventName) {
        try {
            var entity = {
                PartitionKey: eventName,
                RowKey: __WEBPACK_IMPORTED_MODULE_1__utils_Utils__["a" /* Utils */].createGUID(),
                SessionId: this.sessionService.PageSessionId,
                AiAvail: __WEBPACK_IMPORTED_MODULE_1__utils_Utils__["a" /* Utils */].IsAppInsightsAvail(),
                GaAvail: __WEBPACK_IMPORTED_MODULE_1__utils_Utils__["a" /* Utils */].IsGoogleAnalyticsAvail(),
                GtmAvail: __WEBPACK_IMPORTED_MODULE_1__utils_Utils__["a" /* Utils */].IsGTMAvail(),
                CxtAvail: __WEBPACK_IMPORTED_MODULE_1__utils_Utils__["a" /* Utils */].IsConnextAvail()
            };
            return entity;
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    AzureService.prototype.sendData = function (eventName, eventData) {
        try {
            if (!this.OPTIONS.enabled) {
                this.Logger.trace("sendData", "NOT ENABLED");
                return;
            }
            this.Logger.info("sendData this.pageService.PageSessionId", this.sessionService.PageSessionId);
            var payload = this.createPayload(eventName);
            this.Logger.debug("sendData", "EventName => ", eventName, "EventData => ", eventData, "Payload => ", payload);
            return;
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return AzureService;
}());



/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FailedEventService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_models_SendOptionsModel__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__SessionService__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Utils_DateUtil__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Utils_Utils__ = __webpack_require__(0);







var FailedEventService = (function () {
    function FailedEventService() {
        this.failedEventStoragePrefix = "FailedEvent_";
        this.mutexKey = "FailedEventMutex";
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("FailedEventService");
    }
    Object.defineProperty(FailedEventService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new FailedEventService();
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    FailedEventService.prototype.stash = function (data) {
        if (!data)
            return;
        var key = this.getFailedEventKey(data);
        localStorage.setItem(key, JSON.stringify(data));
        this.Logger.debug("stash", key);
    };
    FailedEventService.prototype.drop = function (data) {
        if (!data)
            return;
        var key = this.getFailedEventKey(data);
        localStorage.removeItem(key);
        this.Logger.debug("drop", key);
    };
    FailedEventService.prototype.clean = function () {
        var _this = this;
        var delay = __WEBPACK_IMPORTED_MODULE_6__Utils_Utils__["a" /* Utils */].getRandomIntegerInRange(0, 1000);
        setTimeout(function () {
            __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addRepeatDelay(delay);
            __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__["a" /* BugTrackUtil */].createEventsCall();
            try {
                var mutexId = _this.getMutexId();
                if (mutexId && mutexId !== __WEBPACK_IMPORTED_MODULE_4__SessionService__["a" /* SessionService */].Instance.PageSessionId) {
                    if (__WEBPACK_IMPORTED_MODULE_5__Utils_DateUtil__["a" /* DateUtil */].daysDiff(_this.getMutexDate()) > 10) {
                        _this.deleteMutex();
                    }
                    else {
                        return;
                    }
                }
                _this.setMutex();
                _this.getFailedEventKeys().forEach(function (expandedKey) {
                    var data = JSON.parse(localStorage.getItem(expandedKey));
                    var options = new __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_models_SendOptionsModel__["a" /* SendOptionsModel */]({ IsAsync: true, IsResend: true });
                    __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].sendEvent(data, options);
                    _this.drop(data);
                });
            }
            catch (e) {
            }
            finally {
                _this.deleteMutex();
            }
        }, delay);
    };
    FailedEventService.prototype.getMutexId = function () {
        var mutexValue = localStorage.getItem(this.mutexKey);
        if (!mutexValue)
            return null;
        var _a = mutexValue.split("__"), id = _a[0], date = _a[1];
        return id;
    };
    FailedEventService.prototype.getMutexDate = function () {
        var mutexValue = localStorage.getItem(this.mutexKey);
        if (!mutexValue)
            return null;
        var _a = mutexValue.split("__"), id = _a[0], date = _a[1];
        return date;
    };
    FailedEventService.prototype.setMutex = function () {
        localStorage.setItem(this.mutexKey, __WEBPACK_IMPORTED_MODULE_4__SessionService__["a" /* SessionService */].Instance.PageSessionId + "__" + new Date().valueOf());
    };
    FailedEventService.prototype.deleteMutex = function () {
        localStorage.removeItem(this.mutexKey);
    };
    FailedEventService.prototype.getFailedEventKey = function (data) {
        return this.failedEventStoragePrefix + data.Id;
    };
    FailedEventService.prototype.getFailedEventKeys = function () {
        var _this = this;
        return Object.keys(localStorage).filter(function (key) { return key.startsWith(_this.failedEventStoragePrefix); });
    };
    return FailedEventService;
}());



/***/ }),
/* 56 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TagManagerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);

var TagManagerService = (function () {
    function TagManagerService() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("TagManagerService", "#d234c3");
    }
    Object.defineProperty(TagManagerService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new TagManagerService();
                this.instance._dataLayer = [];
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    TagManagerService.prototype.getDataLayer = function () {
        return this._dataLayer;
    };
    TagManagerService.prototype.setup = function (containerId) {
        try {
            this.Logger.debug("Initializing TagManager With ContainerId: ", containerId);
            (function (windowArg, documentArg, scriptArg, dataLayerArg, GTMId) {
                var winDataLayer = windowArg["G2Analytics"].DataLayer;
                windowArg[dataLayerArg] = winDataLayer || [];
                windowArg[dataLayerArg].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
                var f = documentArg.getElementsByTagName(scriptArg)[0];
                var j = documentArg.createElement(scriptArg);
                var dl = dataLayerArg !== "dataLayer" ? "&l=" + dataLayerArg : "";
                j.async = true;
                j.src = "https://www.googletagmanager.com/gtm.js?id=" + GTMId + dl;
                f.parentNode.insertBefore(j, f);
            })(window, document, "script", "MG2DL", containerId);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    TagManagerService.prototype.sendTag = function (eventName, eventPayload) {
        try {
            eventPayload["event"] = eventName;
            this.Logger.info("Sending Tag.... ", eventName, eventPayload);
            this._dataLayer.push(eventPayload);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    TagManagerService.prototype.setDLV = function (varName, value) {
        try {
            this.Logger.debug("setDLV", varName, value);
            var obj = {};
            obj[varName] = value;
            this._dataLayer.push(obj);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return TagManagerService;
}());



/***/ }),
/* 57 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BotDetector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__BotModel__ = __webpack_require__(143);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__BotList__ = __webpack_require__(142);


var BotDetector = (function () {
    function BotDetector(userAgentInfo) {
        if (window.DeviceDetector && window.DeviceDetector.Device) {
            this.detectBot = window.DeviceDetector.Device.bot;
            return;
        }
        var userAgent = userAgentInfo || navigator.userAgent;
        var botRegExpLength = __WEBPACK_IMPORTED_MODULE_1__BotList__["a" /* BotList */].length;
        for (var i = 0; i < botRegExpLength; i++) {
            if (new RegExp(__WEBPACK_IMPORTED_MODULE_1__BotList__["a" /* BotList */][i].regex).test(userAgent)) {
                this.detectBot = new __WEBPACK_IMPORTED_MODULE_0__BotModel__["a" /* BotModel */](__WEBPACK_IMPORTED_MODULE_1__BotList__["a" /* BotList */][i]);
                return;
            }
        }
    }
    BotDetector.prototype.getDetectBot = function () {
        return this.detectBot || null;
    };
    return BotDetector;
}());



/***/ }),
/* 58 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MISC_TYPES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return COMMAND_TYPES; });
var MISC_TYPES = {
    Promise: "promise",
    Selector: "selector",
    Javascript: "javascript",
    Command: "command"
};
;
var COMMAND_TYPES = {
    GET_COOKIE_BY_NAME: "get_cookie_by_name"
};


/***/ }),
/* 59 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ConversationManagerClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConversationManager; });
var ConversationManagerClass = (function () {
    function ConversationManagerClass() {
    }
    ConversationManagerClass.prototype.getCurrentConversation = function () {
        if (window.Connext) {
            var currentConversation = void 0;
            if (window.NxtInner) {
                currentConversation = window.NxtInner.Storage.GetCurrentConversation();
                if (currentConversation) {
                    return currentConversation;
                }
            }
            else {
                currentConversation = window.Connext.Storage.GetCurrentConversation();
                if (currentConversation) {
                    return currentConversation;
                }
                else {
                    return window.CnnXt.Storage.GetCurrentConversation();
                }
            }
        }
    };
    ConversationManagerClass.prototype.getVersion = function () {
        var regex = /[+-]?\d+(\.\d+)?/g;
        var findNumbers = window.Connext.GetVersion().match(regex);
        return findNumbers ? findNumbers[0] : null;
    };
    return ConversationManagerClass;
}());

var ConversationManager = new ConversationManagerClass();


/***/ }),
/* 60 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MiscModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_options_models_MiscOptionsInterface__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_JavascriptModel__ = __webpack_require__(155);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_PromiseModel__ = __webpack_require__(156);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_SelectorModel__ = __webpack_require__(157);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_CommandModel__ = __webpack_require__(154);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Data_services_Index__ = __webpack_require__(14);






var MiscModuleClass = (function () {
    function MiscModuleClass() {
        this.models = [];
        this.result = {};
    }
    MiscModuleClass.prototype.process = function (options) {
        if (options === void 0) { options = []; }
        if (!(options === null || options === void 0 ? void 0 : options.length))
            return;
        this.models = [];
        this.result = {};
        this.setup(options);
        this.startCollect();
    };
    MiscModuleClass.prototype.getData = function () {
        return this.result;
    };
    MiscModuleClass.prototype.setup = function (options) {
        var _this = this;
        options.forEach(function (option) {
            var model = null;
            switch (option.type) {
                case __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_options_models_MiscOptionsInterface__["a" /* MISC_TYPES */].Javascript:
                    model = new __WEBPACK_IMPORTED_MODULE_1__models_JavascriptModel__["a" /* JavascriptModel */](option);
                    break;
                case __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_options_models_MiscOptionsInterface__["a" /* MISC_TYPES */].Promise:
                    model = new __WEBPACK_IMPORTED_MODULE_2__models_PromiseModel__["a" /* PromiseModel */](option);
                    break;
                case __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_options_models_MiscOptionsInterface__["a" /* MISC_TYPES */].Selector:
                    model = new __WEBPACK_IMPORTED_MODULE_3__models_SelectorModel__["a" /* SelectorModel */](option);
                    break;
                case __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_options_models_MiscOptionsInterface__["a" /* MISC_TYPES */].Command:
                    model = new __WEBPACK_IMPORTED_MODULE_4__models_CommandModel__["a" /* CommandModel */](option);
                    break;
            }
            if (model) {
                _this.models.push(model);
            }
        });
    };
    MiscModuleClass.prototype.startCollect = function () {
        var _this = this;
        this.models.forEach(function (model) {
            model.getData().then(function (data) {
                var value = typeof data.value === "object" ? JSON.stringify(data.value) : String(data.value);
                _this.result[data.miscKey] = value;
                if (data.enableGA) {
                    __WEBPACK_IMPORTED_MODULE_5__Data_services_Index__["c" /* TagManagerService */].Instance.setDLV(data.miscKey, data.value);
                }
            }).catch(function (e) { });
        });
    };
    return MiscModuleClass;
}());
var MiscModule = new MiscModuleClass();


/***/ }),
/* 61 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__ = __webpack_require__(159);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils_logger_Logger_Core__ = __webpack_require__(1);



var PageModuleClass = (function () {
    function PageModuleClass() {
        this.isCheckedArticleInCdp = false;
        this.Logger = __WEBPACK_IMPORTED_MODULE_2__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("PageModule");
    }
    PageModuleClass.prototype.subscribePageLeave = function () {
        var _this = this;
        var eventName = __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].getPageLeaveEventTrigger();
        __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].addCustomEventListener(window, eventName, function (e) {
            if (!_this.isCheckedArticleInCdp) {
                var articleNotExistApproved = false;
                __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__["a" /* ContentService */].sendContentInCdp(_this.pageContent, articleNotExistApproved);
            }
        });
    };
    PageModuleClass.prototype.sendContentToCdp = function () {
        var _this = this;
        var articleNotExistApproved = false;
        this.subscribePageLeave();
        this.pageContent = __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__["a" /* ContentService */].getPageContent();
        if (this.pageContent.isArticle()) {
            if (this.pageContent.ContentId) {
                __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__["a" /* ContentService */].contentExistsInCdp(this.pageContent.ContentId)
                    .then(function (result) {
                    _this.isCheckedArticleInCdp = true;
                    if (!result.exists) {
                        articleNotExistApproved = true;
                        _this.pageContent["article_id"] = result["article_id"];
                        __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__["a" /* ContentService */].sendContentInCdp(_this.pageContent, articleNotExistApproved);
                    }
                }).catch(function () {
                    _this.isCheckedArticleInCdp = false;
                });
            }
            else {
                this.isCheckedArticleInCdp = true;
                articleNotExistApproved = true;
                __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__["a" /* ContentService */].sendContentInCdp(this.pageContent, articleNotExistApproved);
            }
        }
        else {
            this.isCheckedArticleInCdp = true;
        }
    };
    PageModuleClass.prototype.getArticleStats = function () {
        this.pageContent = __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__["a" /* ContentService */].getPageContent();
        if (this.pageContent.isArticle()) {
            if (this.pageContent.ContentId) {
                return __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__["a" /* ContentService */].getArticleStats(this.pageContent.ContentId);
            }
            else {
                this.Logger.debug("ContentId is not defined");
                return Promise.reject();
            }
        }
        else {
            this.Logger.debug("This page is not article");
            return Promise.reject();
        }
    };
    return PageModuleClass;
}());
var PageModule = new PageModuleClass();


/***/ }),
/* 62 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Logger; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Logger_Core__ = __webpack_require__(1);

var noop = function () { return undefined; };
var Logger = (function () {
    function Logger(className, enabled, logLevel, style) {
        this._logPrefix = "%c<<G2Analytics>>";
        this._className = "General";
        this._enabled = true;
        this._logLevel = __WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Debug;
        this._style = "";
        this._className = className;
        this._enabled = enabled;
        this._logLevel = logLevel;
        this._style = style;
    }
    Logger.prototype.setEnabled = function (val) {
        var clsName = this._className;
        this._enabled = val;
    };
    Logger.prototype.setLogLevel = function (level) {
        this._logLevel = level;
    };
    Logger.prototype.format = function () {
        return this._logPrefix + "[" + this._className + "] ";
    };
    Logger.prototype.getStyle = function (logLevel) {
        var style;
        var bg = "none";
        if (this._style) {
            style = this._style;
            bg = __WEBPACK_IMPORTED_MODULE_0__Logger_Core__["d" /* LOG_LEVEL_STYLE2 */][logLevel].bg;
        }
        else {
            style = __WEBPACK_IMPORTED_MODULE_0__Logger_Core__["e" /* LOG_LEVEL_STYLE */][logLevel];
            bg = __WEBPACK_IMPORTED_MODULE_0__Logger_Core__["d" /* LOG_LEVEL_STYLE2 */][logLevel].bg;
        }
        return ["color:" + style + ";font-weight:bold;"];
    };
    Object.defineProperty(Logger.prototype, "debug", {
        get: function () {
            if (this.isEnabled(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Debug)) {
                return console.debug.bind(console, this.format(), this.getStyle(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Debug));
            }
            else {
                return noop;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Logger.prototype, "info", {
        get: function () {
            if (this.isEnabled(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Info)) {
                return console.info.bind(console, this.format(), this.getStyle(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Info));
            }
            else {
                return noop;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Logger.prototype, "warn", {
        get: function () {
            if (this.isEnabled(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Warn)) {
                return console.warn.bind(console, this.format(), this.getStyle(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Warn));
            }
            else {
                return noop;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Logger.prototype, "error", {
        get: function () {
            if (this.isEnabled(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Error)) {
                return console.error.bind(console, this.format(), this.getStyle(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Error));
            }
            else {
                return noop;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Logger.prototype, "fatal", {
        get: function () {
            if (this.isEnabled(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Fatal)) {
                return console.error.bind(console, this.format(), this.getStyle(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Fatal));
            }
            else {
                return noop;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Logger.prototype, "trace", {
        get: function () {
            if (this.isEnabled(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Trace)) {
                return console.debug.bind(console, this.format(), this.getStyle(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Trace));
            }
            else {
                return noop;
            }
        },
        enumerable: false,
        configurable: true
    });
    Logger.prototype.isEnabled = function (logLevel) {
        if (logLevel >= this._logLevel && this._enabled) {
            return true;
        }
        else {
            return false;
        }
    };
    return Logger;
}());



/***/ }),
/* 63 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin_PublicPlugin__ = __webpack_require__(69);

var pluginInstance = new __WEBPACK_IMPORTED_MODULE_0__plugin_PublicPlugin__["a" /* PublicPlugin */]();
window.G2Analytics = pluginInstance;
window.G2Insights = pluginInstance;
window.MG2Insights = pluginInstance;
var MG2DL = window["G2Analytics"].DataLayer;


/***/ }),
/* 64 */,
/* 65 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommonConfigData; });
var isReplacedByCI = function (replacedCIPattern) { return !replacedCIPattern.startsWith("#") && !replacedCIPattern.endsWith("#"); };
var eventsUrlCI = "https://events.mg2insights.com";
var eventsUrlFallback = "https://events.mg2insights.com";
var eventsUrl = isReplacedByCI(eventsUrlCI) ? eventsUrlCI : eventsUrlFallback;
var apiUrlCI = "https://api.mg2insights.com";
var apiUrlFallback = "https://api.mg2insights.com";
var apiUrl = isReplacedByCI(apiUrlCI) ? apiUrlCI : apiUrlFallback;
var CommonConfigData = {
    eventsUrl: eventsUrl + "/events",
    apiUrl: apiUrl + "/"
};


/***/ }),
/* 66 */,
/* 67 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DLCdpPublic; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Modules_pageModule_PageModule__ = __webpack_require__(61);


var DLCdpPublic = (function () {
    function DLCdpPublic() {
    }
    DLCdpPublic.prototype.getUserData = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getDlInformation();
    };
    DLCdpPublic.prototype.getArticleStats = function () {
        return __WEBPACK_IMPORTED_MODULE_1__Modules_pageModule_PageModule__["a" /* PageModule */].getArticleStats();
    };
    DLCdpPublic.prototype.getRecommendationsStats = function () {
        var isShowCategory = true;
        return __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getRecommendations(isShowCategory);
    };
    DLCdpPublic.prototype.getRecommendations = function () {
        var isShowCategory = false;
        return __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getRecommendations(isShowCategory);
    };
    DLCdpPublic.prototype.getInterestsStats = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getUserInterestsStats();
    };
    DLCdpPublic.prototype.getErStats = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErInterpretation();
    };
    DLCdpPublic.prototype.getApiVersion = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getApiVersion().then(function (versionData) {
            console.log("The version of the platform -" + versionData.version);
        }).catch(function (error) {
            console.log("The version is not get. Error -" + error);
        });
    };
    return DLCdpPublic;
}());



/***/ }),
/* 68 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export PluginClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Plugin; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__collectors_cdp_collectors_CdpCollectorModule__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__modules_cdpModule_CdpModule__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__collectors_gtmTag_collector_GtmTagModule__ = __webpack_require__(114);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data_services_TagManagerService__ = __webpack_require__(56);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__data_services_Index__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__data_services_AzureService__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__data_services_SessionService__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__Core_storages_cookies_CookiesStorage__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__core_constants_Constants__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Modules_pageModule_PageModule__ = __webpack_require__(61);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__Utils_DeviceDetector__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__DLCdpPublic__ = __webpack_require__(67);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__Modules_deviceModule_DeviceModule__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__Modules_miscModule_MiscModule__ = __webpack_require__(60);

















var PluginClass = (function () {
    function PluginClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_4__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("Plugin");
        this.Logger.debug("**** G2Insights Initializing ****");
        this.sessionService = __WEBPACK_IMPORTED_MODULE_8__data_services_SessionService__["a" /* SessionService */].Instance;
        this.azureService = __WEBPACK_IMPORTED_MODULE_7__data_services_AzureService__["a" /* AzureService */].Instance;
        this.tagManagerService = __WEBPACK_IMPORTED_MODULE_5__data_services_TagManagerService__["a" /* TagManagerService */].Instance;
        this.dimensionService = __WEBPACK_IMPORTED_MODULE_6__data_services_Index__["a" /* MetaDataService */].Instance;
    }
    Object.defineProperty(PluginClass.prototype, "DataLayer", {
        get: function () {
            return this.tagManagerService.getDataLayer();
        },
        enumerable: false,
        configurable: true
    });
    PluginClass.prototype.init = function (opts) {
        var _this = this;
        try {
            __WEBPACK_IMPORTED_MODULE_12__Utils_DeviceDetector__["a" /* DeviceDetector */].getDeviceId()
                .then(function (deviceId) {
                _this.tagManagerService.setDLV("fingerPrintId", deviceId);
            }).catch(function () {
                var guid = "guid-" + __WEBPACK_IMPORTED_MODULE_14__Utils_Utils__["a" /* Utils */].createGUID();
                _this.tagManagerService.setDLV("fingerPrintId", guid);
                __WEBPACK_IMPORTED_MODULE_12__Utils_DeviceDetector__["a" /* DeviceDetector */].setCalculatedDeviceId(guid);
                __WEBPACK_IMPORTED_MODULE_6__data_services_Index__["b" /* EventService */].Instance.sendTagCollectedEvents();
            });
            if (!opts) {
                throw "No Options Passed In";
            }
            else {
                this.listenPluginsEvents();
                __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].setInitOptions(opts);
                var initModel = __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getInitConfiguration();
                this.Logger.debug("Initializing G2Analytics with options...", opts);
                __WEBPACK_IMPORTED_MODULE_6__data_services_Index__["b" /* EventService */].Instance.resendFailedEvents();
                if (initModel.debug) {
                    __WEBPACK_IMPORTED_MODULE_9__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].set(__WEBPACK_IMPORTED_MODULE_10__core_constants_Constants__["a" /* Constants */].cookies.LogEnabled, initModel.debug.toString());
                }
                if (!initModel.containerId) {
                    throw "No Container Id Set";
                }
                if (!initModel.collectors) {
                    throw "No Collectors Set";
                }
                if (initModel.sessionId) {
                    this.Logger.debug("Has SessionId PageSessionId XXX....", initModel.sessionId);
                    this.sessionService.PageSessionId = initModel.sessionId;
                }
                this.dimensionService.setup(initModel.dimensions);
                if (initModel.analysis) {
                    this.azureService.setup(initModel.analysis);
                }
                if (initModel.collectors) {
                    if (initModel.cdp && initModel.cdp.enabled) {
                        __WEBPACK_IMPORTED_MODULE_15__Modules_deviceModule_DeviceModule__["a" /* DeviceModule */].setup();
                        __WEBPACK_IMPORTED_MODULE_1__collectors_cdp_collectors_CdpCollectorModule__["a" /* CdpCollectorModule */].setup(initModel.collectors);
                        window.g2i_dl = new __WEBPACK_IMPORTED_MODULE_13__DLCdpPublic__["a" /* DLCdpPublic */]();
                        __WEBPACK_IMPORTED_MODULE_2__modules_cdpModule_CdpModule__["a" /* CdpModule */].setDlInformation();
                        __WEBPACK_IMPORTED_MODULE_11__Modules_pageModule_PageModule__["a" /* PageModule */].sendContentToCdp();
                    }
                    __WEBPACK_IMPORTED_MODULE_3__collectors_gtmTag_collector_GtmTagModule__["a" /* GtmTagModule */].setup(initModel);
                }
                if (initModel.misc) {
                    __WEBPACK_IMPORTED_MODULE_16__Modules_miscModule_MiscModule__["a" /* MiscModule */].process(initModel.misc);
                }
                this.tagManagerService.setup(initModel.containerId);
                this.Logger.info("Done Setting Up Collectors");
            }
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    PluginClass.prototype.SetLoggerEnabled = function (val) {
        __WEBPACK_IMPORTED_MODULE_4__utils_logger_Logger_Core__["a" /* LoggerService */].setEnabled(val);
    };
    Object.defineProperty(PluginClass.prototype, "BrowserSessionId", {
        get: function () {
            return this.sessionService.getDeviceSessionId();
        },
        enumerable: false,
        configurable: true
    });
    PluginClass.prototype.SetLogLevel = function (strLogLevel) {
        __WEBPACK_IMPORTED_MODULE_4__utils_logger_Logger_Core__["a" /* LoggerService */].setLevel(strLogLevel);
    };
    PluginClass.prototype.listenPluginsEvents = function () {
        var _this = this;
        __WEBPACK_IMPORTED_MODULE_14__Utils_Utils__["a" /* Utils */].addCustomEventListener(window, "Loader:Recalculate:SessionId", function (eventData) {
            _this.sessionService.PageSessionId = eventData.detail;
        });
    };
    return PluginClass;
}());

var Plugin = new PluginClass();


/***/ }),
/* 69 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PublicPlugin; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Plugin__ = __webpack_require__(68);

var PublicPlugin = (function () {
    function PublicPlugin() {
    }
    PublicPlugin.prototype.init = function (initOptions) {
        __WEBPACK_IMPORTED_MODULE_0__Plugin__["a" /* Plugin */].init(initOptions);
    };
    Object.defineProperty(PublicPlugin.prototype, "DataLayer", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_0__Plugin__["a" /* Plugin */].DataLayer;
        },
        enumerable: false,
        configurable: true
    });
    PublicPlugin.prototype.setLoggerEnabled = function (val) {
        __WEBPACK_IMPORTED_MODULE_0__Plugin__["a" /* Plugin */].SetLoggerEnabled(val);
    };
    PublicPlugin.prototype.setLogLevel = function (strLogLevel) {
        __WEBPACK_IMPORTED_MODULE_0__Plugin__["a" /* Plugin */].SetLogLevel(strLogLevel);
    };
    PublicPlugin.prototype.getVersion = function () {
        return "Version: " + ("1.8.3" || "local");
    };
    ;
    PublicPlugin.prototype.getVersionInfo = function () {
        return "Version: " + ("1.8.3" || "local") + ", Build: " + ("V.1.8.3-20201221.3" || "local");
    };
    ;
    return PublicPlugin;
}());



/***/ }),
/* 70 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CdpModuleClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CdpCollectorModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CollectorFactory__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_logger_LoggerService__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_commonEvents_CommonEventsCollector__ = __webpack_require__(104);



var CdpModuleClass = (function () {
    function CdpModuleClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_1__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("CdpModule");
        this.CollectMetaTags = false;
        this.firedEvents = [];
        this.sendEventsDelay = 0;
    }
    CdpModuleClass.prototype.setup = function (collectors) {
        var _this = this;
        try {
            var isExcludeCommonPageView_1 = false;
            collectors.forEach(function (item) {
                var collectorType = new __WEBPACK_IMPORTED_MODULE_0__CollectorFactory__["a" /* CollectorFactory */](item).createCollector();
                _this.Logger.info("@ forEach.Collector = collectorType", collectorType);
                if (!collectorType)
                    return;
                collectorType.registerEvents();
                if (collectorType.isHavePageViewEvent()) {
                    isExcludeCommonPageView_1 = true;
                }
            });
            var commonEvents = new __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_commonEvents_CommonEventsCollector__["a" /* CommonEventsCollector */](isExcludeCommonPageView_1);
            commonEvents.registerEvents();
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return CdpModuleClass;
}());

var CdpCollectorModule = new CdpModuleClass();


/***/ }),
/* 71 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CollectorFactory; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants_CollectorTypes__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__collectors_connext_collector_ConnextCollector__ = __webpack_require__(72);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__collectors_sp_collector_SpCollector__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Core_base_factory_Factory__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_logger_Logger_Core__ = __webpack_require__(1);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var CollectorFactory = (function (_super) {
    __extends(CollectorFactory, _super);
    function CollectorFactory(collector) {
        var _this = _super.call(this) || this;
        _this.Logger = __WEBPACK_IMPORTED_MODULE_4__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("CollectorFactory");
        _this.collectMetaTags = false;
        _this.collector = collector;
        return _this;
    }
    CollectorFactory.prototype.createCollector = function () {
        try {
            var collector = this.collector;
            this.Logger.trace("Creating Collector: ", collector);
            switch (collector.toUpperCase()) {
                case __WEBPACK_IMPORTED_MODULE_0__constants_CollectorTypes__["a" /* CollectorTypes */].Connext.toUpperCase():
                    this.collectMetaTags = true;
                    this.collectorType = new __WEBPACK_IMPORTED_MODULE_1__collectors_connext_collector_ConnextCollector__["a" /* ConnextCollector */]();
                    break;
                case __WEBPACK_IMPORTED_MODULE_0__constants_CollectorTypes__["a" /* CollectorTypes */].SP.toUpperCase():
                    this.collectMetaTags = false;
                    this.collectorType = new __WEBPACK_IMPORTED_MODULE_2__collectors_sp_collector_SpCollector__["a" /* SpCollector */]();
                    break;
                case __WEBPACK_IMPORTED_MODULE_0__constants_CollectorTypes__["a" /* CollectorTypes */].Flittz.toUpperCase():
                    this.collectMetaTags = true;
                    break;
                default:
                    throw "Not a valid collector";
            }
            return this.collectorType;
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return CollectorFactory;
}(__WEBPACK_IMPORTED_MODULE_3__Core_base_factory_Factory__["a" /* Factory */]));



/***/ }),
/* 72 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_services_EventService__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Data_services_MetaDataService__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collector__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__events__ = __webpack_require__(82);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var ConnextCollector = (function (_super) {
    __extends(ConnextCollector, _super);
    function ConnextCollector() {
        var _this = _super.call(this) || this;
        _this.metaDataService = __WEBPACK_IMPORTED_MODULE_1__Data_services_MetaDataService__["a" /* MetaDataService */].Instance;
        _this.eventService = __WEBPACK_IMPORTED_MODULE_0__Data_services_EventService__["a" /* EventService */].Instance;
        _this.events = __WEBPACK_IMPORTED_MODULE_3__events__;
        _this.sendMetaData();
        _this.metaDataService.process();
        return _this;
    }
    ConnextCollector.prototype.sendMetaData = function () {
        this.eventService.sendEvent("metaTagsCollected", this.metaDataService.analyticsDimensions);
    };
    ConnextCollector.prototype.isHavePageViewEvent = function () {
        return true;
    };
    return ConnextCollector;
}(__WEBPACK_IMPORTED_MODULE_2__Collector__["a" /* Collector */]));



/***/ }),
/* 73 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ActionShown; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextEvent__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Data_models_connext_ActionModels__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__ = __webpack_require__(4);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var ActionShown = (function (_super) {
    __extends(ActionShown, _super);
    function ActionShown() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onActionShown";
        return _this;
    }
    ActionShown.prototype.updateCustomProperties = function () {
        var actionShowEventData = this.originalEventData.EventData;
        this.eventModel.EventType = "ActionShown";
        this.eventModel.EventName = actionShowEventData.Name;
        var eventData = {
            Type: actionShowEventData.ActionType || __WEBPACK_IMPORTED_MODULE_1__Data_models_connext_ActionModels__["b" /* ActionTypeDict */][this.originalEventData.EventData.ActionTypeId],
            UserER: __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErCode(),
            UserERP: __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErpCode()
        };
        this.transformEventData(eventData);
    };
    return ActionShown;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 74 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ActivateSuccess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextEvent__ = __webpack_require__(8);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var ActivateSuccess = (function (_super) {
    __extends(ActivateSuccess, _super);
    function ActivateSuccess() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onActivationFormClosed";
        return _this;
    }
    ActivateSuccess.prototype.getEventModel = function () {
        this.eventModel = _super.prototype.getEventModel.call(this);
        this.eventModel.EventType = "ActivateSuccess";
        this.eventModel.EventName = "ActivateSuccess";
        if (this.originalEventData.EventData.ActivateStatus === "success") {
            this.transformEventData({});
            return this.eventModel;
        }
        else {
            return null;
        }
    };
    return ActivateSuccess;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 75 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Click; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ConnextEvent__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_connextModule_ConnextModule__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Core_constants_FirstVisitProperties__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Collectors_constants_Events__ = __webpack_require__(23);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var Click = (function (_super) {
    __extends(Click, _super);
    function Click() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.socialType = null;
        return _this;
    }
    Click.prototype.listen = function () {
        var _this = this;
        var eventName = "click";
        __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, eventName, function (event) {
            _this.Logger.debug("Click Event", event, "e.target", event.target);
            _this.clickedElement = event.target;
            _this.clearPreviousData();
            _this.originalEventData = event;
            _this.socialType = null;
            _this.actionType = null;
            if (__WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].getAttributeOfDomOrParents(_this.clickedElement, "data-mg2-tester")) {
                _this.Logger.debug("is tester, ignoring");
                return false;
            }
            _this.actionType = __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].getAttributeOfDomOrParents(_this.clickedElement, "data-mg2-action");
            if (!_this.actionType) {
                var parentA = __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].getParentDomByTagName(_this.clickedElement, "a");
                if (parentA) {
                    _this.Logger.debug("Click Event", "parentA", parentA);
                    _this.socialType = _this.checkForSocialLinks(parentA);
                    _this.Logger.debug("Click Event", "socialActionType", _this.socialType);
                    if (_this.socialType) {
                        _this.Logger.debug("HAS SOCIAL", _this.socialType);
                        _this.actionType = __WEBPACK_IMPORTED_MODULE_5__Collectors_constants_Events__["b" /* ClickEventName */].Social;
                    }
                    else {
                        _this.actionType = __WEBPACK_IMPORTED_MODULE_5__Collectors_constants_Events__["b" /* ClickEventName */].Other;
                    }
                }
                else {
                    _this.actionType = __WEBPACK_IMPORTED_MODULE_5__Collectors_constants_Events__["b" /* ClickEventName */].Other;
                }
            }
            else {
                var name_1 = __WEBPACK_IMPORTED_MODULE_5__Collectors_constants_Events__["b" /* ClickEventName */].Other;
                switch (_this.actionType) {
                    case "login": {
                        name_1 = __WEBPACK_IMPORTED_MODULE_5__Collectors_constants_Events__["b" /* ClickEventName */].Login;
                        break;
                    }
                    case "activation":
                        {
                            name_1 = __WEBPACK_IMPORTED_MODULE_5__Collectors_constants_Events__["b" /* ClickEventName */].Activate;
                            break;
                        }
                        ;
                    case "register":
                        {
                            name_1 = __WEBPACK_IMPORTED_MODULE_5__Collectors_constants_Events__["b" /* ClickEventName */].Register;
                            break;
                        }
                        ;
                    case "logout":
                        {
                            name_1 = __WEBPACK_IMPORTED_MODULE_5__Collectors_constants_Events__["b" /* ClickEventName */].Logout;
                            break;
                        }
                        ;
                    case "upgrade":
                        {
                            name_1 = __WEBPACK_IMPORTED_MODULE_5__Collectors_constants_Events__["b" /* ClickEventName */].Upgrade;
                            break;
                        }
                        ;
                    case "click": {
                        if (__WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].checkForNewsletterSignUpClick(event.target)) {
                            name_1 = __WEBPACK_IMPORTED_MODULE_5__Collectors_constants_Events__["b" /* ClickEventName */].SignUp;
                        }
                        break;
                    }
                    default: {
                        name_1 = __WEBPACK_IMPORTED_MODULE_5__Collectors_constants_Events__["b" /* ClickEventName */].Other;
                        break;
                    }
                }
                _this.actionType = name_1;
            }
            _this.Logger.debug("******** Click Event ", "actionType=>", _this.actionType, " el=> ", _this.clickedElement);
            __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].eventFire(_this);
        });
    };
    Click.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "Click";
        var payload = this.createDomTargetPayload(this.clickedElement);
        if (this.socialType) {
            payload["TargetSocialNetwork"] = this.socialType;
        }
        var actionData = __WEBPACK_IMPORTED_MODULE_2__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getActionDataFromElement(this.clickedElement);
        if (actionData) {
            payload["ActionId"] = actionData["ActionId"];
            payload["ActionName"] = actionData["ActionName"];
            payload["IsActionClick"] = true;
        }
        ;
        this.transformEventData(payload);
        this.eventModel.EventName = __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].toTitleCase(this.actionType);
    };
    Click.prototype.createDomTargetPayload = function (target) {
        var tagName = target.tagName.toLowerCase();
        var targetAttribute;
        var targetValue;
        if (target.id && target.id !== "") {
            targetAttribute = "Id";
            targetValue = target.id;
        }
        else if (target.name && target.name !== "") {
            targetAttribute = "Name";
            targetValue = target.name;
        }
        else if (target.className && target.className !== "") {
            targetAttribute = "Class";
            targetValue = target.className;
        }
        else {
            targetAttribute = "Label";
            targetValue = target.textContent || target.innerText;
            switch (tagName) {
                case "img":
                case "audio":
                case "video":
                    targetAttribute = "src";
                    targetValue = target.getAttribute("src");
                    break;
            }
        }
        if (tagName === "html") {
            targetValue = "html";
        }
        var payload = {
            "TargetType": tagName,
            "TargetAttribute": targetAttribute,
            "TargetValue": targetValue
        };
        return payload;
    };
    Click.prototype.checkForSocialLinks = function (el) {
        this.Logger.debug("checkForSocialLinks", "el", el);
        var cls = el.className.toLowerCase();
        if (cls) {
            if (cls.includes("facebook")) {
                return "Facebook";
            }
            else if (cls.includes("twitter")) {
                return "Twitter";
            }
            else {
                return false;
            }
        }
        else {
            return false;
        }
    };
    Click.prototype.useInCalculateFirstVisitModel = function () {
        return true;
    };
    Click.prototype.getFirstVisitProperty = function () {
        return __WEBPACK_IMPORTED_MODULE_4__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountClick;
    };
    return Click;
}(__WEBPACK_IMPORTED_MODULE_1__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 76 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextPageView; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ConnextEvent__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Core_constants_FirstVisitProperties__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_models_pageView_ConnextPageViewDataModel__ = __webpack_require__(110);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Collectors_constants_Events__ = __webpack_require__(23);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var ConnextPageView = (function (_super) {
    __extends(ConnextPageView, _super);
    function ConnextPageView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onFinish";
        return _this;
    }
    ConnextPageView.prototype.updateCustomProperties = function () {
        this.eventModel.EventName = __WEBPACK_IMPORTED_MODULE_4__Collectors_constants_Events__["a" /* EventNames */].PageView;
        this.eventModel.EventType = __WEBPACK_IMPORTED_MODULE_4__Collectors_constants_Events__["a" /* EventNames */].PageView;
        __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].setLayoutCode(this.eventModel.SiteCode);
        var eventData = new __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_models_pageView_ConnextPageViewDataModel__["a" /* ConnextPageViewDataModel */](this.originalEventData);
        this.transformEventData(eventData);
    };
    ConnextPageView.prototype.useInCalculateFirstVisitModel = function () {
        return true;
    };
    ConnextPageView.prototype.getFirstVisitProperty = function () {
        return __WEBPACK_IMPORTED_MODULE_2__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountPageview;
    };
    return ConnextPageView;
}(__WEBPACK_IMPORTED_MODULE_1__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 77 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateAccount; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextEvent__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__ = __webpack_require__(16);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var CreateAccount = (function (_super) {
    __extends(CreateAccount, _super);
    function CreateAccount() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventNames = ["onActivationAccountCreated", "onRegistrationSuccessRegister"];
        return _this;
    }
    CreateAccount.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "CreateAccount";
        this.eventModel.EventName = "CreateAccount";
        var eventData = {};
        this.transformEventData(eventData);
    };
    CreateAccount.prototype.useInCalculateFirstVisitModel = function () {
        return true;
    };
    CreateAccount.prototype.getFirstVisitProperty = function () {
        return __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountCreateAccountEvents;
    };
    return CreateAccount;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 78 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CtrlC; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextEvent__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__ = __webpack_require__(0);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CtrlC = (function (_super) {
    __extends(CtrlC, _super);
    function CtrlC() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "copy";
        return _this;
    }
    CtrlC.prototype.listen = function () {
        var _this = this;
        try {
            this.Logger.trace("addEventListener...", this.originalEventName);
            __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, this.originalEventName, function (e) {
                _this.Logger.trace("Firing", _this.eventModel.EventName);
                _this.originalEventData = e;
                __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].eventFire(_this);
            });
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    CtrlC.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "CtrlC";
        this.eventModel.EventName = "CtrlC";
        this.transformEventData({});
    };
    return CtrlC;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 79 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Login; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextEvent__ = __webpack_require__(8);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var Login = (function (_super) {
    __extends(Login, _super);
    function Login() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onLoginSuccess";
        return _this;
    }
    Login.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "Login";
        this.eventModel.EventName = "Login";
        var eventData = {};
        this.transformEventData(eventData);
    };
    return Login;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 80 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewsletterArrival; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextEvent__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__ = __webpack_require__(0);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var NewsletterArrival = (function (_super) {
    __extends(NewsletterArrival, _super);
    function NewsletterArrival() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onNewsletterArrival";
        return _this;
    }
    NewsletterArrival.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "NewsletterArrival";
        this.eventModel.EventName = "NewsletterArrival";
        var eventData = {
            Email: this.originalEventData.EventData.Email
        };
        this.transformEventData(eventData);
        this.fillEventDataByPreferences();
    };
    NewsletterArrival.prototype.fillEventDataByPreferences = function () {
        var _this = this;
        var eventData = this.originalEventData.EventData;
        if (eventData && Array.isArray(eventData.EmailPreferences)) {
            eventData.EmailPreferences.forEach(function (emailPreference) {
                _this.eventModel.EventData.push({ 'Key': 'EmailPreferences', 'Value': __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].objectToBigQueryString(emailPreference) });
            });
        }
    };
    return NewsletterArrival;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 81 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewsletterSignup; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ConnextEvent__ = __webpack_require__(8);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var NewsletterSignup = (function (_super) {
    __extends(NewsletterSignup, _super);
    function NewsletterSignup() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onNewsletterSignUp";
        return _this;
    }
    NewsletterSignup.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "NewsletterSignup";
        this.eventModel.EventName = "NewsletterSignup";
        this.fillEventDataByPreferences();
    };
    NewsletterSignup.prototype.fillEventDataByPreferences = function () {
        var _this = this;
        var eventData = Object.assign({}, this.originalEventData.EventData);
        this.eventModel.EventData.push({ "Key": "Email", "Value": eventData.Email });
        if (eventData.EmailPreferences) {
            if (Array.isArray(eventData.EmailPreferences)) {
                eventData.EmailPreferences.forEach(function (emailPreference) {
                    _this.eventModel.EventData.push({ "Key": "EmailPreferences", "Value": __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].objectToBigQueryString(emailPreference) });
                });
            }
        }
        else {
            return this.fillEventModelNxtV1_7(eventData);
        }
    };
    NewsletterSignup.prototype.fillEventModelNxtV1_7 = function (eventData) {
        var sendEventData = {};
        if (eventData.EmailPreferenceId) {
            sendEventData = {
                PreferenceId: eventData.EmailPreferenceId,
            };
        }
        ;
        this.transformEventData(sendEventData);
        return this.eventModel;
    };
    return NewsletterSignup;
}(__WEBPACK_IMPORTED_MODULE_1__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 82 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ActionShown__ = __webpack_require__(73);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ActionShown", function() { return __WEBPACK_IMPORTED_MODULE_0__ActionShown__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ActivateSuccess__ = __webpack_require__(74);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ActivateSuccess", function() { return __WEBPACK_IMPORTED_MODULE_1__ActivateSuccess__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Click__ = __webpack_require__(75);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Click", function() { return __WEBPACK_IMPORTED_MODULE_2__Click__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__CreateAccount__ = __webpack_require__(77);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CreateAccount", function() { return __WEBPACK_IMPORTED_MODULE_3__CreateAccount__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__CtrlC__ = __webpack_require__(78);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CtrlC", function() { return __WEBPACK_IMPORTED_MODULE_4__CtrlC__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Login__ = __webpack_require__(79);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Login", function() { return __WEBPACK_IMPORTED_MODULE_5__Login__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__NewsletterSignup__ = __webpack_require__(81);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "NewsletterSignup", function() { return __WEBPACK_IMPORTED_MODULE_6__NewsletterSignup__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ConnextPageView__ = __webpack_require__(76);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ConnextPageView", function() { return __WEBPACK_IMPORTED_MODULE_7__ConnextPageView__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__NewsletterArrival__ = __webpack_require__(80);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "NewsletterArrival", function() { return __WEBPACK_IMPORTED_MODULE_8__NewsletterArrival__["a"]; });











/***/ }),
/* 83 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextUserModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__ = __webpack_require__(4);

var ConnextUserModel = (function () {
    function ConnextUserModel() {
        this.Id = this.getConnextUserId();
        this.Status = this.getConnextUserStatus();
        this.ER = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErCode();
        this.ERP = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErpCode();
        this.Id = this.getConnextUserId();
        this.Status = this.getConnextUserStatus();
        this.ER = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErCode();
        this.ERP = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErpCode();
    }
    ConnextUserModel.prototype.getConnextUserStatus = function () {
        if (window.CnnXt && window.CnnXt.User) {
            return window.CnnXt.User.getUserState() || "";
        }
        if (window.Connext) {
            return window.Connext.Storage.GetUserState() || "";
        }
        return "";
    };
    ConnextUserModel.prototype.getConnextUserId = function () {
        if (window.CnnXt && window.CnnXt.User) {
            return window.CnnXt.User.getMasterId() || "";
        }
        if (window.Connext) {
            var userData = window.Connext.Storage.GetUserData();
            if (userData) {
                return userData.MasterId || "";
            }
        }
        return "";
    };
    return ConnextUserModel;
}());



/***/ }),
/* 84 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SpCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collector__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__events__ = __webpack_require__(95);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var SpCollector = (function (_super) {
    __extends(SpCollector, _super);
    function SpCollector() {
        var _this = _super.call(this) || this;
        _this.events = __WEBPACK_IMPORTED_MODULE_1__events__;
        return _this;
    }
    return SpCollector;
}(__WEBPACK_IMPORTED_MODULE_0__Collector__["a" /* Collector */]));



/***/ }),
/* 85 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AbandonClosed; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpEvent__ = __webpack_require__(2);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AbandonClosed = (function (_super) {
    __extends(AbandonClosed, _super);
    function AbandonClosed() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "abandon_closed_e";
        return _this;
    }
    AbandonClosed.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "AbandonClosed";
        this.eventModel.EventName = "AbandonClosed";
        this.transformEventData({});
    };
    return AbandonClosed;
}(__WEBPACK_IMPORTED_MODULE_0__SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 86 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AbandonPresented; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpEvent__ = __webpack_require__(2);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AbandonPresented = (function (_super) {
    __extends(AbandonPresented, _super);
    function AbandonPresented() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "abandon_presented_e";
        return _this;
    }
    AbandonPresented.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "AbandonPresented";
        this.eventModel.EventName = "AbandonPresented";
        this.transformEventData({});
    };
    return AbandonPresented;
}(__WEBPACK_IMPORTED_MODULE_0__SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 87 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CheckoutStart; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpEvent__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__ = __webpack_require__(4);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CheckoutStart = (function (_super) {
    __extends(CheckoutStart, _super);
    function CheckoutStart() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "presentation_loaded_e";
        return _this;
    }
    CheckoutStart.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "CheckoutStart";
        this.eventModel.EventName = "CheckoutStart";
        this.transformEventData({
            Url: this.originalEventData.url,
            UserER: __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErCode(),
            UserERP: __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErpCode()
        });
    };
    CheckoutStart.prototype.useInCalculateFirstVisitModel = function () {
        return true;
    };
    CheckoutStart.prototype.getFirstVisitProperty = function () {
        return __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountCheckoutStartEvents;
    };
    return CheckoutStart;
}(__WEBPACK_IMPORTED_MODULE_0__SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 88 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreatedNewUser; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_models_UserInformationModel__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_collectors_sp_collector_models_ShortOfferModel__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__ = __webpack_require__(2);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CreatedNewUser = (function (_super) {
    __extends(CreatedNewUser, _super);
    function CreatedNewUser() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "created_new_user_e";
        return _this;
    }
    CreatedNewUser.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "CreatedNewUser";
        this.eventModel.EventName = "CreatedNewUser";
        var eventData = {
            User: new __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_models_UserInformationModel__["a" /* UserInformationModel */](this.originalEventData.userInformation),
            Offer: new __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_collectors_sp_collector_models_ShortOfferModel__["a" /* ShortOfferModel */](this.originalEventData.offer),
            CustomerRegistrationId: this.originalEventData.customerRegistrationId
        };
        this.transformEventData(eventData);
    };
    return CreatedNewUser;
}(__WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 89 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormCompleted; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_AddressModel__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_ShortOfferModel__ = __webpack_require__(18);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var FormCompleted = (function (_super) {
    __extends(FormCompleted, _super);
    function FormCompleted() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "billing_address_completed_e";
        return _this;
    }
    FormCompleted.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "FormCompleted";
        this.eventModel.EventName = "BillingAddress";
        var eventData = {
            Billing: new __WEBPACK_IMPORTED_MODULE_1__models_AddressModel__["a" /* AddressModel */](this.originalEventData.billingAddress),
            Offer: new __WEBPACK_IMPORTED_MODULE_2__models_ShortOfferModel__["a" /* ShortOfferModel */](this.originalEventData.offer)
        };
        this.transformEventData(eventData);
    };
    return FormCompleted;
}(__WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 90 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormCompletedDeliveryAddress; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_collectors_sp_collector_models_AddressModel__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_collectors_sp_collector_models_ShortOfferModel__ = __webpack_require__(18);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var FormCompletedDeliveryAddress = (function (_super) {
    __extends(FormCompletedDeliveryAddress, _super);
    function FormCompletedDeliveryAddress() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "delivery_address_completed_e";
        return _this;
    }
    FormCompletedDeliveryAddress.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "FormCompleted";
        this.eventModel.EventName = "DeliveryAddress";
        var eventData = {
            Delivery: new __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_collectors_sp_collector_models_AddressModel__["a" /* AddressModel */](this.originalEventData.deliveryAddress),
            Offer: new __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_collectors_sp_collector_models_ShortOfferModel__["a" /* ShortOfferModel */](this.originalEventData.offer)
        };
        this.transformEventData(eventData);
    };
    return FormCompletedDeliveryAddress;
}(__WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 91 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormCompletedPayment; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_constants_PaymentTypes__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_ShortOfferModel__ = __webpack_require__(18);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var FormCompletedPayment = (function (_super) {
    __extends(FormCompletedPayment, _super);
    function FormCompletedPayment() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventNames = Object.keys(__WEBPACK_IMPORTED_MODULE_1__Collectors_constants_PaymentTypes__["a" /* PaymentTypes */]);
        return _this;
    }
    FormCompletedPayment.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "FormCompleted";
        this.eventModel.EventName = "Payment";
        var eventData = {
            Offer: new __WEBPACK_IMPORTED_MODULE_2__models_ShortOfferModel__["a" /* ShortOfferModel */](this.originalEventData.offer),
            PaymentMethodName: __WEBPACK_IMPORTED_MODULE_1__Collectors_constants_PaymentTypes__["a" /* PaymentTypes */][this.currentEventName]
        };
        this.transformEventData(eventData);
    };
    return FormCompletedPayment;
}(__WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 92 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormCompletedUserInfo; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_models_UserInformationModel__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_collectors_sp_collector_models_ShortOfferModel__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__ = __webpack_require__(2);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var FormCompletedUserInfo = (function (_super) {
    __extends(FormCompletedUserInfo, _super);
    function FormCompletedUserInfo() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "user_info_completed_e";
        return _this;
    }
    FormCompletedUserInfo.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "FormCompleted";
        this.eventModel.EventName = "UserInfo";
        if (this.originalEventData) {
            var eventDataObject = {
                User: new __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_models_UserInformationModel__["a" /* UserInformationModel */](this.originalEventData.userInformation),
                Offer: new __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_collectors_sp_collector_models_ShortOfferModel__["a" /* ShortOfferModel */](this.originalEventData.offer)
            };
            this.transformEventData(eventDataObject);
        }
    };
    return FormCompletedUserInfo;
}(__WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 93 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IdleClosed; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpEvent__ = __webpack_require__(2);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var IdleClosed = (function (_super) {
    __extends(IdleClosed, _super);
    function IdleClosed() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "idle_closed_e";
        return _this;
    }
    IdleClosed.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "IdleClosed";
        this.eventModel.EventName = "IdleClosed";
        this.transformEventData({});
    };
    return IdleClosed;
}(__WEBPACK_IMPORTED_MODULE_0__SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 94 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IdlePresented; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpEvent__ = __webpack_require__(2);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var IdlePresented = (function (_super) {
    __extends(IdlePresented, _super);
    function IdlePresented() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "idle_presented_e";
        return _this;
    }
    IdlePresented.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "IdlePresented";
        this.eventModel.EventName = "IdlePresented";
        this.transformEventData({});
    };
    return IdlePresented;
}(__WEBPACK_IMPORTED_MODULE_0__SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 95 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CheckoutStart__ = __webpack_require__(87);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CheckoutStart", function() { return __WEBPACK_IMPORTED_MODULE_0__CheckoutStart__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AbandonClosed__ = __webpack_require__(85);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AbandonClosed", function() { return __WEBPACK_IMPORTED_MODULE_1__AbandonClosed__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AbandonPresented__ = __webpack_require__(86);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AbandonPresented", function() { return __WEBPACK_IMPORTED_MODULE_2__AbandonPresented__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__IdleClosed__ = __webpack_require__(93);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "IdleClosed", function() { return __WEBPACK_IMPORTED_MODULE_3__IdleClosed__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__IdlePresented__ = __webpack_require__(94);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "IdlePresented", function() { return __WEBPACK_IMPORTED_MODULE_4__IdlePresented__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__offerEventData_index__ = __webpack_require__(100);
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "UpsellRemoved", function() { return __WEBPACK_IMPORTED_MODULE_5__offerEventData_index__["a"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "FormCompletedPayment", function() { return __WEBPACK_IMPORTED_MODULE_5__offerEventData_index__["b"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "FormCompleted", function() { return __WEBPACK_IMPORTED_MODULE_5__offerEventData_index__["c"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "CreatedNewUser", function() { return __WEBPACK_IMPORTED_MODULE_5__offerEventData_index__["d"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "FormCompletedDeliveryAddress", function() { return __WEBPACK_IMPORTED_MODULE_5__offerEventData_index__["e"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "FormCompletedUserInfo", function() { return __WEBPACK_IMPORTED_MODULE_5__offerEventData_index__["f"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "OfferSelected", function() { return __WEBPACK_IMPORTED_MODULE_5__offerEventData_index__["g"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "SubscriptionSuccess", function() { return __WEBPACK_IMPORTED_MODULE_5__offerEventData_index__["h"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "UpsellSelected", function() { return __WEBPACK_IMPORTED_MODULE_5__offerEventData_index__["i"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__offersEventData_index__ = __webpack_require__(103);
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "OffersPresented", function() { return __WEBPACK_IMPORTED_MODULE_6__offersEventData_index__["a"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "ApplePayPresented", function() { return __WEBPACK_IMPORTED_MODULE_6__offersEventData_index__["b"]; });









/***/ }),
/* 96 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferSelected; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var OfferSelected = (function (_super) {
    __extends(OfferSelected, _super);
    function OfferSelected() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "offer_selected_e";
        return _this;
    }
    OfferSelected.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "OfferSelected";
        this.eventModel.EventName = this.originalEventData.offer.Name;
    };
    return OfferSelected;
}(__WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__["a" /* OfferEventDataEvent */]));



/***/ }),
/* 97 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubscriptionSuccess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_AddressModel__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_UserInformationModel__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Modules_cdpModule_CdpModule__ = __webpack_require__(4);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var SubscriptionSuccess = (function (_super) {
    __extends(SubscriptionSuccess, _super);
    function SubscriptionSuccess() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "add_subscription_success_e";
        return _this;
    }
    SubscriptionSuccess.prototype.updateCustomProperties = function () {
        try {
            this.eventModel.EventType = "SubscriptionSuccess";
            this.eventModel.EventName = "SubscriptionSuccess";
            var subscription = this.originalEventData.subscription || {};
            var eventData = {
                Delivery: new __WEBPACK_IMPORTED_MODULE_1__models_AddressModel__["a" /* AddressModel */](this.originalEventData.deliveryAddress),
                Billing: new __WEBPACK_IMPORTED_MODULE_1__models_AddressModel__["a" /* AddressModel */](this.originalEventData.billingAddress),
                PaymentMethodName: this.originalEventData.paymentOption,
                User: new __WEBPACK_IMPORTED_MODULE_2__models_UserInformationModel__["a" /* UserInformationModel */](this.originalEventData.userInformation),
                UserER: __WEBPACK_IMPORTED_MODULE_3__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErCode(),
                UserERP: __WEBPACK_IMPORTED_MODULE_3__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErpCode(),
                CustomerRegistrationId: this.getCustomerRegistrationId(),
                SubscriberId: subscription.SubscriberID,
                SubscriptionId: subscription.SubscriptionID,
                AccountNumber: subscription.AccountNumber
            };
            this.transformEventData(eventData);
        }
        catch (error) {
            this.Logger.error("SubscriptionSuccess", error);
        }
    };
    SubscriptionSuccess.prototype.getCustomerRegistrationId = function () {
        if (this.originalEventData.userInformation) {
            return this.originalEventData.userInformation.customerRegistrationId;
        }
        else {
            return this.originalEventData.customerRegistrationId;
        }
    };
    return SubscriptionSuccess;
}(__WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__["a" /* OfferEventDataEvent */]));



/***/ }),
/* 98 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UpsellRemoved; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var UpsellRemoved = (function (_super) {
    __extends(UpsellRemoved, _super);
    function UpsellRemoved() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "upsell_removed_e";
        return _this;
    }
    UpsellRemoved.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "UpsellRemoved";
        this.eventModel.EventName = this.originalEventData.offer.Name;
    };
    return UpsellRemoved;
}(__WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__["a" /* OfferEventDataEvent */]));



/***/ }),
/* 99 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UpsellSelected; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var UpsellSelected = (function (_super) {
    __extends(UpsellSelected, _super);
    function UpsellSelected() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "upsell_selected_e";
        return _this;
    }
    UpsellSelected.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "UpsellSelected";
        this.eventModel.EventName = this.originalEventData.offer.Name;
    };
    return UpsellSelected;
}(__WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__["a" /* OfferEventDataEvent */]));



/***/ }),
/* 100 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__UpsellRemoved__ = __webpack_require__(98);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__UpsellRemoved__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__FormCompletedPayment__ = __webpack_require__(91);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__FormCompletedPayment__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__FormCompleted__ = __webpack_require__(89);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_2__FormCompleted__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__CreatedNewUser__ = __webpack_require__(88);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_3__CreatedNewUser__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__FormCompletedDeliveryAddress__ = __webpack_require__(90);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return __WEBPACK_IMPORTED_MODULE_4__FormCompletedDeliveryAddress__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__FormCompletedUserInfo__ = __webpack_require__(92);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return __WEBPACK_IMPORTED_MODULE_5__FormCompletedUserInfo__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__OfferSelected__ = __webpack_require__(96);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return __WEBPACK_IMPORTED_MODULE_6__OfferSelected__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__SubscriptionSuccess__ = __webpack_require__(97);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return __WEBPACK_IMPORTED_MODULE_7__SubscriptionSuccess__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__UpsellSelected__ = __webpack_require__(99);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return __WEBPACK_IMPORTED_MODULE_8__UpsellSelected__["a"]; });











/***/ }),
/* 101 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ApplePayPresented; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OffersEventDataEvent__ = __webpack_require__(39);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var ApplePayPresented = (function (_super) {
    __extends(ApplePayPresented, _super);
    function ApplePayPresented() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "apple_pay_presented_e";
        return _this;
    }
    ApplePayPresented.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "ApplePayPresented";
        this.eventModel.EventName = "ApplePayPresented";
    };
    return ApplePayPresented;
}(__WEBPACK_IMPORTED_MODULE_0__OffersEventDataEvent__["a" /* OffersEventDataEvent */]));



/***/ }),
/* 102 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OffersPresented; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OffersEventDataEvent__ = __webpack_require__(39);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var OffersPresented = (function (_super) {
    __extends(OffersPresented, _super);
    function OffersPresented() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "offers_presented_e";
        return _this;
    }
    OffersPresented.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "OffersPresented";
        this.eventModel.EventName = "OffersPresented";
    };
    return OffersPresented;
}(__WEBPACK_IMPORTED_MODULE_0__OffersEventDataEvent__["a" /* OffersEventDataEvent */]));



/***/ }),
/* 103 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OffersPresented__ = __webpack_require__(102);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__OffersPresented__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ApplePayPresented__ = __webpack_require__(101);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__ApplePayPresented__["a"]; });




/***/ }),
/* 104 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommonEventsCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collector__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__events__ = __webpack_require__(108);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_constants_Events__ = __webpack_require__(23);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CommonEventsCollector = (function (_super) {
    __extends(CommonEventsCollector, _super);
    function CommonEventsCollector(isExcludePageView) {
        var _this = _super.call(this) || this;
        _this.events = [];
        _this.events = __WEBPACK_IMPORTED_MODULE_1__events__;
        _this.isExcludePageView = isExcludePageView;
        return _this;
    }
    CommonEventsCollector.prototype.registerEvents = function () {
        var _this = this;
        var events = Object.keys(this.events);
        if (events && this.isExcludePageView) {
            events = events.filter(function (eventName) { return eventName != __WEBPACK_IMPORTED_MODULE_2__Collectors_constants_Events__["a" /* EventNames */].PageView; });
        }
        events.forEach(function (eventName) {
            try {
                var eventListener = new _this.events[eventName]();
                _this.listeners[eventName] = eventListener;
                eventListener.listen();
            }
            catch (e) {
                _this.Logger.fatal(e);
            }
        });
    };
    ;
    return CommonEventsCollector;
}(__WEBPACK_IMPORTED_MODULE_0__Collector__["a" /* Collector */]));



/***/ }),
/* 105 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeviceIdChange; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_CdpEvent__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Core_constants_Constants__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Modules_deviceModule_DeviceModule__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Modules_cdpModule_CdpModule__ = __webpack_require__(4);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var DeviceIdChange = (function (_super) {
    __extends(DeviceIdChange, _super);
    function DeviceIdChange() {
        var _this = _super.call(this) || this;
        _this.originalEventName = "onDeviceIdChange";
        return _this;
    }
    DeviceIdChange.prototype.listenEvent = function (eventName) {
        var _this = this;
        try {
            this.Logger.trace("addEventListener...", eventName);
            if (window.Fingerprint !== undefined && typeof window.Fingerprint.onChangedDeviceId == 'function') {
                return window.Fingerprint.onChangedDeviceId()
                    .then(function (deviceInfo) {
                    _this.clearPreviousData();
                    _this.setOriginalEventData(deviceInfo);
                    _this.currentEventName = eventName;
                    __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].eventFire(_this);
                    __WEBPACK_IMPORTED_MODULE_3__Modules_deviceModule_DeviceModule__["a" /* DeviceModule */].deviceIChanged(deviceInfo);
                }).catch(function () {
                    __WEBPACK_IMPORTED_MODULE_3__Modules_deviceModule_DeviceModule__["a" /* DeviceModule */].deviceIdIsNotChanged();
                });
            }
            else {
                this.Logger.warn("Fingerprint is undefined... or version is not support regenerate onChangedDeviceId", eventName);
            }
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    DeviceIdChange.prototype.setOriginalData = function (eventData) {
        this.originalEventData = eventData;
    };
    DeviceIdChange.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "OnDeviceIdChange";
        this.eventModel.EventName = this.eventModel.EventType;
        this.eventModel.EventSource = __WEBPACK_IMPORTED_MODULE_2__Core_constants_Constants__["a" /* Constants */].EventsSources.G2Insights;
        this.eventModel.DeviceId = this.originalEventData.id;
        var eventData = {
            NewDeviceId: this.originalEventData.newId,
            G2iDeviceId: __WEBPACK_IMPORTED_MODULE_4__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getG2iDeviceId()
        };
        this.transformEventData(eventData);
    };
    return DeviceIdChange;
}(__WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_CdpEvent__["a" /* CdpEvent */]));



/***/ }),
/* 106 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LeavePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_CdpEvent__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Core_constants_Constants__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Collectors_cdp_collectors_models_pageView_DeviceModel__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Modules_miscModule_MiscModule__ = __webpack_require__(60);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var LeavePage = (function (_super) {
    __extends(LeavePage, _super);
    function LeavePage() {
        var _this = _super.call(this) || this;
        _this.IsAsync = false;
        _this.originalEventName = __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].getPageLeaveEventTrigger();
        return _this;
    }
    LeavePage.prototype.listenEvent = function (eventName) {
        var _this = this;
        try {
            this.Logger.trace("addEventListener...", eventName);
            __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].addCustomEventListener(window, eventName, function (e) {
                _this.Logger.trace("Firing eventName", _this.eventModel.EventName);
                _this.clearPreviousData();
                _this.setOriginalEventData(e.detail);
                _this.currentEventName = eventName;
                __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].setClosePageFlag(true);
                __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].eventFire(_this);
            }, false);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    LeavePage.prototype.setOriginalData = function (eventData) {
        this.originalEventData = eventData;
    };
    LeavePage.prototype.getEndPageSession = function () {
        return Math.floor(Date.now() / 1000);
    };
    LeavePage.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "PageLeave";
        this.eventModel.EventName = this.eventModel.EventType;
        this.eventModel.EventSource = __WEBPACK_IMPORTED_MODULE_3__Core_constants_Constants__["a" /* Constants */].EventsSources.G2Insights;
        var startPageSession = this.sessionService.getStartPageSession();
        var endPageSession = this.getEndPageSession();
        this.eventModel.EventTimestamp = endPageSession;
        var eventData = {
            StartSession: startPageSession,
            EndSession: endPageSession,
            LengthSession: endPageSession - startPageSession,
            Device: new __WEBPACK_IMPORTED_MODULE_4__Collectors_cdp_collectors_models_pageView_DeviceModel__["a" /* DeviceModel */]()
        };
        eventData = this.addMiscInfo(eventData);
        this.transformEventData(eventData);
    };
    LeavePage.prototype.addMiscInfo = function (eventData) {
        eventData.Misc = __WEBPACK_IMPORTED_MODULE_5__Modules_miscModule_MiscModule__["a" /* MiscModule */].getData();
        return eventData;
    };
    return LeavePage;
}(__WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_CdpEvent__["a" /* CdpEvent */]));



/***/ }),
/* 107 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PageView; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_CdpEvent__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_models_pageView_PageViewDataModel__ = __webpack_require__(111);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Core_constants_FirstVisitProperties__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Collectors_constants_Events__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Core_constants_Constants__ = __webpack_require__(6);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();








var PageView = (function (_super) {
    __extends(PageView, _super);
    function PageView() {
        var _this = _super.call(this) || this;
        _this.IsAsync = false;
        _this.originalEventName = __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].getPageLeaveEventTrigger();
        return _this;
    }
    PageView.prototype.listenEvent = function (eventName) {
        var _this = this;
        if (this.isStopListen)
            return;
        __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].getUserPosition().then(function (position) {
            _this.userPosition = position;
        });
        try {
            this.Logger.trace("addEventListener...", eventName);
            __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].addCustomEventListener(window, eventName, function (e) {
                if (_this.isStopListen)
                    return;
                _this.Logger.trace("Firing eventName", _this.eventModel.EventName);
                _this.clearPreviousData();
                _this.setOriginalEventData(e.detail);
                _this.currentEventName = eventName;
                __WEBPACK_IMPORTED_MODULE_5__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].eventFire(_this);
            }, false);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    PageView.prototype.setOriginalData = function (eventData) {
        this.originalEventData = eventData;
    };
    PageView.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = __WEBPACK_IMPORTED_MODULE_4__Collectors_constants_Events__["a" /* EventNames */].PageView;
        this.eventModel.EventName = __WEBPACK_IMPORTED_MODULE_4__Collectors_constants_Events__["a" /* EventNames */].PageView;
        this.eventModel.EventSource = __WEBPACK_IMPORTED_MODULE_7__Core_constants_Constants__["a" /* Constants */].EventsSources.G2Insights;
        this.eventModel.EventTimestamp = __WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__["a" /* DateUtil */].getTimestamp(this.sessionService.getStartPageSession());
        var eventData = new __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_models_pageView_PageViewDataModel__["a" /* PageViewDataModel */]({ Location: this.userPosition });
        this.transformEventData(eventData);
    };
    PageView.prototype.useInCalculateFirstVisitModel = function () {
        return true;
    };
    PageView.prototype.getFirstVisitProperty = function () {
        return __WEBPACK_IMPORTED_MODULE_3__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountPageview;
    };
    PageView.prototype.stopListen = function () {
        this.isStopListen = true;
    };
    return PageView;
}(__WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_CdpEvent__["a" /* CdpEvent */]));



/***/ }),
/* 108 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__LeavePage__ = __webpack_require__(106);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "LeavePage", function() { return __WEBPACK_IMPORTED_MODULE_0__LeavePage__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__PageView__ = __webpack_require__(107);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "PageView", function() { return __WEBPACK_IMPORTED_MODULE_1__PageView__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__DeviceIdChange__ = __webpack_require__(105);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceIdChange", function() { return __WEBPACK_IMPORTED_MODULE_2__DeviceIdChange__["a"]; });





/***/ }),
/* 109 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CampaignModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_connextModule_ConnextModule__ = __webpack_require__(26);

var CampaignModel = (function () {
    function CampaignModel(connextEventData) {
        this.Id = connextEventData.CampaignId;
        this.MeterLevel = connextEventData.MeterLevel;
        this.ConversationId = this.getConversationId(connextEventData);
        this.ConversationName = this.getConversationName(connextEventData);
    }
    CampaignModel.prototype.getConversationId = function (connextEventData) {
        if (connextEventData.Conversation && connextEventData.Conversation.Id) {
            return connextEventData.Conversation.Id;
        }
        else {
            var storageConversation = __WEBPACK_IMPORTED_MODULE_0__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getCurrentConversation();
            if (storageConversation) {
                return storageConversation.Id;
            }
        }
    };
    CampaignModel.prototype.getConversationName = function (connextEventData) {
        if (connextEventData.Conversation && connextEventData.Conversation.Name) {
            return connextEventData.Conversation.Name;
        }
        else {
            var storageConversation = __WEBPACK_IMPORTED_MODULE_0__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getCurrentConversation();
            if (storageConversation) {
                return storageConversation.Name;
            }
        }
    };
    return CampaignModel;
}());



/***/ }),
/* 110 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextPageViewDataModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__PageModel__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__DeviceModel__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__LocationModel__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_collectors_connext_collector_models_ConnextUserModel__ = __webpack_require__(83);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__CampaignModel__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Modules_dimensionsModule_DimensionsModule__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Utils_Utils__ = __webpack_require__(0);







var ConnextPageViewDataModel = (function () {
    function ConnextPageViewDataModel(data) {
        if (!data)
            return;
        var eventData = data.EventData ? data.EventData : {};
        this.Location = new __WEBPACK_IMPORTED_MODULE_2__LocationModel__["a" /* LocationModel */](eventData.Location);
        this.Device = new __WEBPACK_IMPORTED_MODULE_1__DeviceModel__["a" /* DeviceModel */]();
        this.DeviceBrowserUserAgent = navigator.userAgent;
        this.Page = new __WEBPACK_IMPORTED_MODULE_0__PageModel__["a" /* PageModel */](__WEBPACK_IMPORTED_MODULE_5__Modules_dimensionsModule_DimensionsModule__["a" /* DimensionsModule */].getDimensions());
        this.User = new __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_collectors_connext_collector_models_ConnextUserModel__["a" /* ConnextUserModel */]();
        this.Campaign = new __WEBPACK_IMPORTED_MODULE_4__CampaignModel__["a" /* CampaignModel */](data);
        this.LoaderVersionInfo = __WEBPACK_IMPORTED_MODULE_6__Utils_Utils__["a" /* Utils */].getLoaderVersionInfo();
        this.FingerprintVersionInfo = __WEBPACK_IMPORTED_MODULE_6__Utils_Utils__["a" /* Utils */].getFingerprintVersionInfo();
        this.DemoMode = __WEBPACK_IMPORTED_MODULE_6__Utils_Utils__["a" /* Utils */].getDemoMode();
    }
    return ConnextPageViewDataModel;
}());



/***/ }),
/* 111 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PageViewDataModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__PageModel__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__DeviceModel__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__LocationModel__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__UserModel__ = __webpack_require__(112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Modules_dimensionsModule_DimensionsModule__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Utils_Utils__ = __webpack_require__(0);






var PageViewDataModel = (function () {
    function PageViewDataModel(data) {
        this.Location = new __WEBPACK_IMPORTED_MODULE_2__LocationModel__["a" /* LocationModel */](data.Location);
        this.Device = new __WEBPACK_IMPORTED_MODULE_1__DeviceModel__["a" /* DeviceModel */]();
        this.DeviceBrowserUserAgent = navigator.userAgent;
        this.Page = new __WEBPACK_IMPORTED_MODULE_0__PageModel__["a" /* PageModel */](__WEBPACK_IMPORTED_MODULE_4__Modules_dimensionsModule_DimensionsModule__["a" /* DimensionsModule */].getDimensions());
        this.User = new __WEBPACK_IMPORTED_MODULE_3__UserModel__["a" /* UserModel */]();
        this.LoaderVersionInfo = __WEBPACK_IMPORTED_MODULE_5__Utils_Utils__["a" /* Utils */].getLoaderVersionInfo();
        this.FingerprintVersionInfo = __WEBPACK_IMPORTED_MODULE_5__Utils_Utils__["a" /* Utils */].getFingerprintVersionInfo();
        this.DemoMode = __WEBPACK_IMPORTED_MODULE_5__Utils_Utils__["a" /* Utils */].getDemoMode();
    }
    return PageViewDataModel;
}());



/***/ }),
/* 112 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__ = __webpack_require__(4);

var UserModel = (function () {
    function UserModel() {
        this.ER = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErCode();
        this.ERP = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErpCode();
    }
    return UserModel;
}());



/***/ }),
/* 113 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GtmTagCollectorFactory; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants_CollectorTypes__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_base_factory_Factory__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__tag_collectors_sp_tags_SpGtmTagCollector__ = __webpack_require__(126);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__tag_collectors_connext_tags_ConnextGtmTagCollector__ = __webpack_require__(115);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_logger_Logger_Core__ = __webpack_require__(1);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var GtmTagCollectorFactory = (function (_super) {
    __extends(GtmTagCollectorFactory, _super);
    function GtmTagCollectorFactory(collector) {
        var _this = _super.call(this) || this;
        _this.Logger = __WEBPACK_IMPORTED_MODULE_4__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("CollectorFactory");
        _this.collectMetaTags = false;
        _this.collector = collector;
        return _this;
    }
    GtmTagCollectorFactory.prototype.createCollector = function () {
        try {
            var collector = this.collector;
            this.Logger.trace("Creating Collector: ", collector);
            switch (collector.toUpperCase()) {
                case __WEBPACK_IMPORTED_MODULE_0__constants_CollectorTypes__["a" /* CollectorTypes */].Connext.toUpperCase():
                    this.collectorType = new __WEBPACK_IMPORTED_MODULE_3__tag_collectors_connext_tags_ConnextGtmTagCollector__["a" /* ConnextGtmTagCollector */]();
                    break;
                case __WEBPACK_IMPORTED_MODULE_0__constants_CollectorTypes__["a" /* CollectorTypes */].SP.toUpperCase():
                    this.collectorType = new __WEBPACK_IMPORTED_MODULE_2__tag_collectors_sp_tags_SpGtmTagCollector__["a" /* SpGtmTagCollector */]();
                    break;
                default:
                    throw "Not a valid collector";
            }
            return this.collectorType;
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return GtmTagCollectorFactory;
}(__WEBPACK_IMPORTED_MODULE_1__Core_base_factory_Factory__["a" /* Factory */]));



/***/ }),
/* 114 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export GtmTagClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GtmTagModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__GtmTagCollectorFactory__ = __webpack_require__(113);


var GtmTagClass = (function () {
    function GtmTagClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("GtmTagModule");
    }
    GtmTagClass.prototype.setup = function (options) {
        var _this = this;
        try {
            var collectors = options.collectors;
            collectors.forEach(function (item) {
                var collectorType = new __WEBPACK_IMPORTED_MODULE_1__GtmTagCollectorFactory__["a" /* GtmTagCollectorFactory */](item).createCollector();
                _this.Logger.info("@ forEach.Collector = collectorType", collectorType);
                if (!collectorType)
                    return;
                collectorType.registerTagEvents();
            });
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return GtmTagClass;
}());

var GtmTagModule = new GtmTagClass();


/***/ }),
/* 115 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextGtmTagCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__GtmTagCollector__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__events__ = __webpack_require__(125);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ConnextGtmTagCollector = (function (_super) {
    __extends(ConnextGtmTagCollector, _super);
    function ConnextGtmTagCollector() {
        var _this = _super.call(this) || this;
        _this.events = __WEBPACK_IMPORTED_MODULE_1__events__;
        return _this;
    }
    return ConnextGtmTagCollector;
}(__WEBPACK_IMPORTED_MODULE_0__GtmTagCollector__["a" /* GtmTagCollector */]));



/***/ }),
/* 116 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ActionShownTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__MeterStopTagEvent__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Data_models_connext_ActionModels__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ConnextGtmTagEvent__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var ActionShownTagEvent = (function (_super) {
    __extends(ActionShownTagEvent, _super);
    function ActionShownTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onActionShown";
        _this.sendTagName = "actionShown";
        return _this;
    }
    ActionShownTagEvent.prototype.setOriginalEventData = function (data) {
        this.sendTagName = "actionShown";
        _super.prototype.setOriginalEventData.call(this, data);
        var eventData = this.originalEventData.EventData;
        this.actionType = this.getActionType(eventData ? eventData.ActionTypeId : "");
        this.actionShowTag = this.getActionShowTag();
        if (this.actionType === __WEBPACK_IMPORTED_MODULE_2__Data_models_connext_ActionModels__["a" /* ActionTypes */].Paywall) {
            this.Logger.warn("Is Paywall");
            new __WEBPACK_IMPORTED_MODULE_0__MeterStopTagEvent__["a" /* MeterStopTagEvent */]().sendTagToAnalitcs(null, Object.assign({}, this.actionShowTag));
        }
        this.sendData = this.actionShowTag;
    };
    ;
    ActionShownTagEvent.prototype.getSendTagData = function () {
        return this.sendData;
    };
    ActionShownTagEvent.prototype.getTagName = function () {
        if (this.actionType !== __WEBPACK_IMPORTED_MODULE_2__Data_models_connext_ActionModels__["a" /* ActionTypes */].Paywall) {
            this.Logger.warn("NOT Paywall");
            return this.sendTagName;
        }
        else {
            return null;
        }
    };
    ActionShownTagEvent.prototype.getActionShowTag = function () {
        try {
            var eventData = this.originalEventData.EventData;
            this.Logger.debug("processing...", eventData);
            this.actionType = eventData.ActionType || this.getActionType(eventData.ActionTypeId);
            this.Logger.warn("ActionType", this.actionType);
            var parsedUserDefinedData = __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].parseJson(eventData.UserDefinedData);
            var userDefinedData = void 0;
            if (parsedUserDefinedData.success) {
                userDefinedData = parsedUserDefinedData.data;
            }
            var baseActionShownTag = {
                actionName: eventData.Name,
                actionDescription: eventData.Description,
                actionType: this.actionType,
                userDefinedData: JSON.stringify(userDefinedData)
            };
            this.Logger.warn("Base Action Shown Tag", baseActionShownTag);
            return baseActionShownTag;
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    ActionShownTagEvent.prototype.getActionType = function (type) {
        try {
            this.Logger.trace("getActionType", type);
            return __WEBPACK_IMPORTED_MODULE_2__Data_models_connext_ActionModels__["b" /* ActionTypeDict */][type];
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return ActionShownTagEvent;
}(__WEBPACK_IMPORTED_MODULE_3__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 117 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthorizedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_models_common_UserModel__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Data_services_UserService__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_gtmTag_collector_tag_collectors_connext_tags_ConnextGtmTagEvent__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var AuthorizedTagEvent = (function (_super) {
    __extends(AuthorizedTagEvent, _super);
    function AuthorizedTagEvent() {
        var _this = _super.call(this) || this;
        _this.originalEventName = "onAuthorized";
        _this.sendTagName = __WEBPACK_IMPORTED_MODULE_0__Data_models_common_UserModel__["a" /* ConnextUserState */].authorized;
        _this.userService = __WEBPACK_IMPORTED_MODULE_1__Data_services_UserService__["a" /* UserService */].Instance;
        return _this;
    }
    AuthorizedTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {
        try {
            this.Logger.debug("handleUserState", "event", "data", this.originalEventData);
            this.userService.setUserState(this.sendTagName, this.originalEventData);
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    return AuthorizedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_2__Collectors_gtmTag_collector_tag_collectors_connext_tags_ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 118 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConversationDeterminedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__MeterStartTagEvent__ = __webpack_require__(48);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ConversationDeterminedTagEvent = (function (_super) {
    __extends(ConversationDeterminedTagEvent, _super);
    function ConversationDeterminedTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onConversationDetermined";
        _this.sendTagName = "conversationDetermined";
        return _this;
    }
    ConversationDeterminedTagEvent.prototype.setOriginalEventData = function (data) {
        _super.prototype.setOriginalEventData.call(this, data);
        try {
            this.Logger.debug("processing...", this.originalEventData);
            this.setConversationTag();
            if (this.isMeterStart()) {
                this.sendMeterStartTag();
            }
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    ConversationDeterminedTagEvent.prototype.getSendTagData = function () {
        return this.conversationTag;
    };
    ConversationDeterminedTagEvent.prototype.setConversationTag = function () {
        try {
            this.conversation = this.originalEventData.Conversation;
            this.properties = this.conversation ? (this.conversation.Props || this.conversation.Properties) : {};
            this.Logger.debug("handleConversationDetermined", "conversationData", this.originalEventData);
            var dateStarted = void 0, dateExpiration = void 0;
            var dateProperties = this.properties.Date;
            if (dateProperties) {
                dateStarted = new Date(dateProperties.Started).toISOString().slice(0, -5) + "Z";
                dateExpiration = new Date(dateProperties.Expiration).toISOString().slice(0, -5) + "Z";
            }
            this.conversationTag = {
                conversationName: this.conversation.Name,
                conversationViews: (this.properties.Views === 0) ? 1 : this.properties.Views,
                conversationViewsLeft: this.properties.ArticleLeft,
                conversationPaywallLimit: parseInt(this.properties.PaywallLimit),
                conversationDateStarted: dateStarted,
                conversationDateExpiratation: dateExpiration,
                conversationDateEnded: dateProperties.Ended
            };
            this.Logger.info("ConversationTag", this.conversationTag);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    ConversationDeterminedTagEvent.prototype.isMeterStart = function () {
        try {
            if (this.properties) {
                var views = this.properties.Views;
                return ((views === 1 || views === 0) && this.originalEventData.MeterLevelId === 2) ? true : false;
            }
        }
        catch (e) {
            this.Logger.fatal(e);
            return false;
        }
    };
    ConversationDeterminedTagEvent.prototype.sendMeterStartTag = function () {
        try {
            this.Logger.debug("handleMeterStart");
            new __WEBPACK_IMPORTED_MODULE_1__MeterStartTagEvent__["a" /* MeterStartTagEvent */]().sendTagToAnalitcs();
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return ConversationDeterminedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 119 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HasAccessTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__data_models_common_UserModel__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__data_services_UserService__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ConnextGtmTagEvent__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var HasAccessTagEvent = (function (_super) {
    __extends(HasAccessTagEvent, _super);
    function HasAccessTagEvent() {
        var _this = _super.call(this) || this;
        _this.originalEventName = "onHasAccess";
        _this.sendTagName = __WEBPACK_IMPORTED_MODULE_0__data_models_common_UserModel__["a" /* ConnextUserState */].hasAccess;
        _this.userService = __WEBPACK_IMPORTED_MODULE_1__data_services_UserService__["a" /* UserService */].Instance;
        return _this;
    }
    HasAccessTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {
        try {
            this.Logger.debug("handleUserState", "event", "data", this.originalEventData);
            this.userService.setUserState(this.sendTagName, this.originalEventData);
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    return HasAccessTagEvent;
}(__WEBPACK_IMPORTED_MODULE_2__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 120 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MeterLevelSetTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var MeterLevelSetTagEvent = (function (_super) {
    __extends(MeterLevelSetTagEvent, _super);
    function MeterLevelSetTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onMeterLevelSet";
        _this.sendTagName = "meterLevelSet";
        return _this;
    }
    MeterLevelSetTagEvent.prototype.getSendTagData = function () {
        var data = this.originalEventData.EventData;
        try {
            this.Logger.debug("++++ processing...", data);
            return {
                meterLevel: this.originalEventData.MeterLevel,
                meterLevelDetermineMethod: data.Method,
                meterRuleName: (data.Rule) ? data.Rule.Name : "No Rule"
            };
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return MeterLevelSetTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 121 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewsletterSignUpTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var NewsletterSignUpTagEvent = (function (_super) {
    __extends(NewsletterSignUpTagEvent, _super);
    function NewsletterSignUpTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onNewsletterSignUp";
        _this.sendTagName = "newsletterSignup";
        return _this;
    }
    NewsletterSignUpTagEvent.prototype.getSendTagData = function () {
        var data = this.originalEventData;
        try {
            return {
                emailPreferenceId: this.getEmailPreferenceIds(data.EventData)
            };
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    NewsletterSignUpTagEvent.prototype.getEmailPreferenceIds = function (eventData) {
        if (eventData.EmailPreferenceId) {
            return eventData.EmailPreferenceId;
        }
        else {
            var emailPreferencesIds_1 = [];
            if (Array.isArray(eventData.EmailPreferences)) {
                eventData.EmailPreferences.forEach(function (emailPreference) {
                    emailPreferencesIds_1.push(emailPreference.Id);
                });
            }
            return emailPreferencesIds_1.join(",");
        }
    };
    return NewsletterSignUpTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 122 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotAuthorizedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__data_models_common_UserModel__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__data_services_UserService__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ConnextGtmTagEvent__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var NotAuthorizedTagEvent = (function (_super) {
    __extends(NotAuthorizedTagEvent, _super);
    function NotAuthorizedTagEvent() {
        var _this = _super.call(this) || this;
        _this.originalEventName = "onNotAuthorized";
        _this.sendTagName = __WEBPACK_IMPORTED_MODULE_0__data_models_common_UserModel__["a" /* ConnextUserState */].notAuthorized;
        _this.userService = __WEBPACK_IMPORTED_MODULE_1__data_services_UserService__["a" /* UserService */].Instance;
        return _this;
    }
    NotAuthorizedTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {
        try {
            this.Logger.debug("handleUserState", "data", this.originalEventData);
            this.userService.setUserState(this.sendTagName, this.originalEventData);
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    return NotAuthorizedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_2__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 123 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OnInitTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var OnInitTagEvent = (function (_super) {
    __extends(OnInitTagEvent, _super);
    function OnInitTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onInit";
        _this.sendTagName = "onInit";
        return _this;
    }
    return OnInitTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 124 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PageViewTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var PageViewTagEvent = (function (_super) {
    __extends(PageViewTagEvent, _super);
    function PageViewTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onFinish";
        _this.sendTagName = "pageView";
        return _this;
    }
    return PageViewTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 125 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__MeterLevelSetTagEvent__ = __webpack_require__(120);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "MeterLevelSetTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_0__MeterLevelSetTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ActionShownTagEvent__ = __webpack_require__(116);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ActionShownTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_1__ActionShownTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ConversationDeterminedTagEvent__ = __webpack_require__(118);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ConversationDeterminedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_2__ConversationDeterminedTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__MeterStartTagEvent__ = __webpack_require__(48);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "MeterStartTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_3__MeterStartTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__MeterStopTagEvent__ = __webpack_require__(49);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "MeterStopTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_4__MeterStopTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__OnInitTagEvent__ = __webpack_require__(123);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "OnInitTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_5__OnInitTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__PageViewTagEvent__ = __webpack_require__(124);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "PageViewTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_6__PageViewTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__NewsletterSignUpTagEvent__ = __webpack_require__(121);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "NewsletterSignUpTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_7__NewsletterSignUpTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__HasAccessTagEvent__ = __webpack_require__(119);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "HasAccessTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_8__HasAccessTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__AuthorizedTagEvent__ = __webpack_require__(117);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AuthorizedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_9__AuthorizedTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__NotAuthorizedTagEvent__ = __webpack_require__(122);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "NotAuthorizedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_10__NotAuthorizedTagEvent__["a"]; });













/***/ }),
/* 126 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SpGtmTagCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__GtmTagCollector__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__events__ = __webpack_require__(136);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var SpGtmTagCollector = (function (_super) {
    __extends(SpGtmTagCollector, _super);
    function SpGtmTagCollector() {
        var _this = _super.call(this) || this;
        _this.events = __WEBPACK_IMPORTED_MODULE_1__events__;
        return _this;
    }
    return SpGtmTagCollector;
}(__WEBPACK_IMPORTED_MODULE_0__GtmTagCollector__["a" /* GtmTagCollector */]));



/***/ }),
/* 127 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BillingAddressCompletedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(9);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var BillingAddressCompletedTagEvent = (function (_super) {
    __extends(BillingAddressCompletedTagEvent, _super);
    function BillingAddressCompletedTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "billing_address_completed_e";
        _this.sendTagName = "sp.BillingAddressCompleted";
        return _this;
    }
    return BillingAddressCompletedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 128 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CheckoutStartTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(9);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var CheckoutStartTagEvent = (function (_super) {
    __extends(CheckoutStartTagEvent, _super);
    function CheckoutStartTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "presentation_loaded_e";
        _this.sendTagName = "sp.CheckoutStart";
        return _this;
    }
    CheckoutStartTagEvent.prototype.getSendTagData = function () {
        var fnName = "getSendTagData";
        var pid;
        var data = this.originalEventData;
        this.Logger.debug(fnName, "event", "data", data);
        if (data.promotionsList) {
            this.Logger.debug(fnName, "Has PromotionsList");
            pid = Array.prototype.map.call(data.promotionsList, function (s) { return s.pid; }).toString();
            this.Logger.debug(fnName, "Has PromotionsList.pidList", pid);
        }
        var tagData = {
            sp_pid: pid
        };
        if (data.params && data.params.presentationName) {
            this.Logger.debug("CreateCheckoutStartTag", "Has Presentation Params");
            tagData["sp_presentationName"] = data.params.presentationName;
        }
        this.Logger.debug(fnName, "tagData =>", tagData);
        return tagData;
    };
    return CheckoutStartTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 129 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreatedNewUsertagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(9);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var CreatedNewUsertagEvent = (function (_super) {
    __extends(CreatedNewUsertagEvent, _super);
    function CreatedNewUsertagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "created_new_user_e";
        _this.sendTagName = "sp.CreatedNewUser";
        return _this;
    }
    return CreatedNewUsertagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 130 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeleveryAddressCompleted; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(9);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var DeleveryAddressCompleted = (function (_super) {
    __extends(DeleveryAddressCompleted, _super);
    function DeleveryAddressCompleted() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "delivery_address_completed_e";
        _this.sendTagName = "sp.DeliveryAddressCompleted";
        return _this;
    }
    return DeleveryAddressCompleted;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 131 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferSelectedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_models_sp_OfferTagModel__ = __webpack_require__(33);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var OfferSelectedTagEvent = (function (_super) {
    __extends(OfferSelectedTagEvent, _super);
    function OfferSelectedTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "offer_selected_e";
        _this.sendTagName = "sp.OfferSelected";
        return _this;
    }
    OfferSelectedTagEvent.prototype.getSendTagData = function () {
        var fnName = "[process...OfferSelected]";
        try {
            this.Logger.debug(fnName, "data", this.originalEventData);
            var offerTagData = new __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_models_sp_OfferTagModel__["a" /* OfferTagModel */](this.originalEventData.offer);
            return {
                sp_offerId: offerTagData.Id,
                sp_offerPlanName: offerTagData.PlanName,
                sp_offerPrice: offerTagData.TotalPrice,
                sp_offerType: offerTagData.Type
            };
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return OfferSelectedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 132 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OffersPresentedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_models_sp_OfferTagModel__ = __webpack_require__(33);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var OffersPresentedTagEvent = (function (_super) {
    __extends(OffersPresentedTagEvent, _super);
    function OffersPresentedTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "offers_presented_e";
        _this.sendTagName = "sp.OffersPresented";
        return _this;
    }
    OffersPresentedTagEvent.prototype.getSendTagData = function () {
        var planData = this.getPlanIds(this.originalEventData.offers);
        try {
            return {
                sp_offerIds: planData.planIds,
                sp_offerPlanNames: planData.planNames,
                sp_offerPlanConcat: planData.plansConcat
            };
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    OffersPresentedTagEvent.prototype.getPlanIds = function (offers) {
        var planIds = [], planNames = [], plansConcat = [];
        if (offers) {
            offers.forEach(function (offer) {
                var tagOffer = new __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_models_sp_OfferTagModel__["a" /* OfferTagModel */](offer);
                planIds.push(tagOffer.Id),
                    planNames.push(tagOffer.PlanName),
                    plansConcat.push(tagOffer.Id + ":" + tagOffer.PlanName);
            });
        }
        return {
            planIds: planIds.toString(),
            planNames: planNames.toString(),
            plansConcat: plansConcat.toString()
        };
    };
    return OffersPresentedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 133 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PaymentCompletedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants_PaymentTypes__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__SpGtmTagEvent__ = __webpack_require__(9);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var PaymentCompletedTagEvent = (function (_super) {
    __extends(PaymentCompletedTagEvent, _super);
    function PaymentCompletedTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventNames = Object.keys(__WEBPACK_IMPORTED_MODULE_0__constants_PaymentTypes__["a" /* PaymentTypes */]);
        _this.sendTagName = "sp.PaymentCompleted";
        return _this;
    }
    PaymentCompletedTagEvent.prototype.getSendTagData = function () {
        var fnName = "[process...PaymentCompleted]";
        try {
            var paymentMethod = __WEBPACK_IMPORTED_MODULE_0__constants_PaymentTypes__["a" /* PaymentTypes */][this.currentEventName];
            this.Logger.debug(fnName, "paymentMethod", paymentMethod);
            return {
                sp_paymentType: paymentMethod
            };
        }
        catch (e) {
            this.Logger.fatal(e);
            return null;
        }
    };
    return PaymentCompletedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_1__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 134 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubscriptionSuccessTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_models_sp_OfferTagModel__ = __webpack_require__(33);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var SubscriptionSuccessTagEvent = (function (_super) {
    __extends(SubscriptionSuccessTagEvent, _super);
    function SubscriptionSuccessTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "add_subscription_success_e";
        _this.sendTagName = "sp.SubscriptionSuccess";
        return _this;
    }
    SubscriptionSuccessTagEvent.prototype.getSendTagData = function () {
        try {
            var offerTag = new __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_models_sp_OfferTagModel__["a" /* OfferTagModel */](this.originalEventData.offer);
            var subscription = this.originalEventData.subscription || {};
            return {
                sp_offerId: offerTag.Id,
                sp_offerPlanName: offerTag.PlanName,
                sp_offerPrice: offerTag.TotalPrice,
                sp_subEventId: subscription.EventId,
                sp_accountNumber: subscription.AccountNumber,
                sp_paymentAuthorizationCode: subscription.PaymentAuthorizationCode,
                sp_subSubscriptionId: subscription.SubscriptionID,
                sp_subSubscriberId: subscription.SubscriberID,
                sp_redirectUrl: subscription.RedirectUrl
            };
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return SubscriptionSuccessTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 135 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserInfoCompletedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(9);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var UserInfoCompletedTagEvent = (function (_super) {
    __extends(UserInfoCompletedTagEvent, _super);
    function UserInfoCompletedTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "user_info_completed_e";
        _this.sendTagName = "sp.UserInfoCompleted";
        return _this;
    }
    return UserInfoCompletedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 136 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__BillingAddressCompletedTagEvent__ = __webpack_require__(127);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "BillingAddressCompletedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_0__BillingAddressCompletedTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__CheckoutStartTagEvent__ = __webpack_require__(128);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CheckoutStartTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_1__CheckoutStartTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__CreatedNewUsertagEvent__ = __webpack_require__(129);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CreatedNewUsertagEvent", function() { return __WEBPACK_IMPORTED_MODULE_2__CreatedNewUsertagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__DeleveryAddressCompleted__ = __webpack_require__(130);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "DeleveryAddressCompleted", function() { return __WEBPACK_IMPORTED_MODULE_3__DeleveryAddressCompleted__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__OfferSelectedTagEvent__ = __webpack_require__(131);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "OfferSelectedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_4__OfferSelectedTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__OffersPresentedTagEvent__ = __webpack_require__(132);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "OffersPresentedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_5__OffersPresentedTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__PaymentCompletedTagEvent__ = __webpack_require__(133);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentCompletedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_6__PaymentCompletedTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__SubscriptionSuccessTagEvent__ = __webpack_require__(134);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "SubscriptionSuccessTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_7__SubscriptionSuccessTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__UserInfoCompletedTagEvent__ = __webpack_require__(135);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "UserInfoCompletedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_8__UserInfoCompletedTagEvent__["a"]; });











/***/ }),
/* 137 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export DomClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Dom; });
var DomClass = (function () {
    function DomClass() {
    }
    DomClass.prototype.findAncestor = function (element, className) {
        if (!element)
            return;
        if (element.classList.contains(className)) {
            return element;
        }
        while ((element = element.parentElement) && !element.classList.contains(className))
            ;
        return element;
    };
    return DomClass;
}());

var Dom = new DomClass();


/***/ }),
/* 138 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return cookieDublicator; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_DeviceDetector__ = __webpack_require__(11);

var CookieDublicator = (function () {
    function CookieDublicator() {
        this.safariCookieMaxAge = 604800000;
        this.prefix = "Cookie_";
    }
    CookieDublicator.prototype.dublicateCookieToLocalStorageIfItNeed = function (key, value, attributes) {
        if (!this.isDublicateToLocalStorage(key, value, attributes) || !value) {
            localStorage.removeItem(this.prefix + key);
            return false;
        }
        var cookie = Object.assign({}, attributes);
        cookie["key"] = key;
        cookie["value"] = value;
        localStorage.setItem(this.prefix + key, JSON.stringify(cookie));
    };
    CookieDublicator.prototype.dublicateLocalStorageToCookieIfItNeed = function (key) {
        if (!this.isDublicateToCookie(key)) {
            return false;
        }
        var cookie, cookieAge;
        try {
            cookie = JSON.parse(localStorage.getItem(this.prefix + key));
            cookieAge = new Date(cookie.expires);
        }
        catch (e) {
            localStorage.removeItem(this.prefix + key);
            return false;
        }
        if (this.isOutDatedLocalStorage(cookieAge)) {
            localStorage.removeItem(this.prefix + key);
            return false;
        }
        document.cookie = this.stringifyAttributes(cookie);
    };
    CookieDublicator.prototype.isDublicateToCookie = function (key) {
        return this.isSafari();
    };
    CookieDublicator.prototype.isDublicateToLocalStorage = function (key, value, attributes) {
        if (this.isSafari()) {
            return this.isDublicateSafari(new Date(attributes.expires));
        }
        return false;
    };
    CookieDublicator.prototype.isDublicateSafari = function (cookieAge) {
        return cookieAge.getTime() > (new Date()).getTime() + this.safariCookieMaxAge;
    };
    CookieDublicator.prototype.stringifyAttributes = function (attributes) {
        var stringifiedAttributes = attributes.key + "=" + attributes.value;
        delete attributes.key;
        delete attributes.value;
        for (var attributeName in attributes) {
            if (!attributes[attributeName]) {
                continue;
            }
            stringifiedAttributes += "; " + attributeName;
            if (attributes[attributeName] === true) {
                continue;
            }
            stringifiedAttributes += "=" + attributes[attributeName];
        }
        return stringifiedAttributes;
    };
    CookieDublicator.prototype.isOutDatedLocalStorage = function (cookieAge) {
        return (new Date).getTime() >= cookieAge.getTime();
    };
    CookieDublicator.prototype.isSafari = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Utils_DeviceDetector__["a" /* DeviceDetector */].getBrowser() === "Safari";
    };
    ;
    return CookieDublicator;
}());
;
var cookieDublicator = new CookieDublicator();


/***/ }),
/* 139 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return JsCookie; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CookieDublicator__ = __webpack_require__(138);

var JsCookie = (function () {
    function JsCookie() {
        this.defaults = {};
    }
    JsCookie.getInstance = function () {
        if (!JsCookie.instance) {
            JsCookie.instance = new JsCookie();
        }
        return JsCookie.instance;
    };
    JsCookie.prototype.extend = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var i = 0;
        var result = {};
        for (; i < args.length; i++) {
            var attributes = args[i];
            for (var key in attributes) {
                result[key] = attributes[key];
            }
        }
        return result;
    };
    JsCookie.prototype.set = function (key, value, attributes, converter) {
        if (converter === void 0) { converter = {}; }
        var result;
        if (typeof document === "undefined") {
            return;
        }
        attributes = this.extend({
            path: "/"
        }, this.defaults, attributes);
        if (typeof attributes.expires === "number") {
            var expires = new Date();
            expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);
            attributes.expires = expires;
        }
        attributes.expires = attributes.expires ? attributes.expires.toUTCString() : "";
        try {
            result = JSON.stringify(value);
            if (/^[\{\[]/.test(result)) {
                value = result;
            }
        }
        catch (e) { }
        if (!converter.write) {
            value = encodeURIComponent(String(value))
                .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);
        }
        else {
            value = converter.write(value, key);
        }
        key = encodeURIComponent(String(key));
        key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);
        key = key.replace(/[\(\)]/g, escape);
        var stringifiedAttributes = "";
        for (var attributeName in attributes) {
            if (!attributes[attributeName]) {
                continue;
            }
            stringifiedAttributes += "; " + attributeName;
            if (attributes[attributeName] === true) {
                continue;
            }
            stringifiedAttributes += "=" + attributes[attributeName];
        }
        __WEBPACK_IMPORTED_MODULE_0__CookieDublicator__["a" /* cookieDublicator */].dublicateCookieToLocalStorageIfItNeed(key, value, attributes);
        return (document.cookie = key + "=" + value + stringifiedAttributes);
    };
    JsCookie.prototype.get = function (key, converter, json) {
        if (converter === void 0) { converter = {}; }
        if (json === void 0) { json = false; }
        var result;
        if (typeof document === "undefined") {
            return;
        }
        if (!key) {
            result = {};
        }
        __WEBPACK_IMPORTED_MODULE_0__CookieDublicator__["a" /* cookieDublicator */].dublicateLocalStorageToCookieIfItNeed(key);
        var cookies = document.cookie ? document.cookie.split("; ") : [];
        var rdecode = /(%[0-9A-Z]{2})+/g;
        var i = 0;
        for (; i < cookies.length; i++) {
            var parts = cookies[i].split("=");
            var cookie = parts.slice(1).join("=");
            if (!json && cookie.charAt(0) === "\"") {
                cookie = cookie.slice(1, -1);
            }
            try {
                var name_1 = parts[0].replace(rdecode, decodeURIComponent);
                cookie = converter.read ? converter.read(cookie, name_1) : cookie.replace(rdecode, decodeURIComponent);
                if (json) {
                    try {
                        cookie = JSON.parse(cookie);
                    }
                    catch (e) { }
                }
                if (key === name_1) {
                    result = cookie;
                    break;
                }
                if (!key) {
                    result[name_1] = cookie;
                }
            }
            catch (e) { }
        }
        return result;
    };
    JsCookie.prototype.getJson = function (key, converter) {
        if (converter === void 0) { converter = {}; }
        return this.get(key, converter, true);
    };
    JsCookie.prototype.remove = function (key, attributes) {
        this.set(key, "", this.extend(attributes, {
            expires: -1
        }));
    };
    ;
    return JsCookie;
}());

;


/***/ }),
/* 140 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocalStorage; });
var LocalStorage = (function () {
    function LocalStorage() {
    }
    LocalStorage.prototype.isSupported = function () {
        return typeof window.localStorage !== "undefined";
    };
    LocalStorage.prototype.get = function (key) {
        try {
            var data = window.localStorage.getItem(key);
            return JSON.parse(data);
        }
        catch (ex) {
            return null;
        }
    };
    LocalStorage.prototype.set = function (key, object) {
        try {
            localStorage.setItem(key, JSON.stringify(object));
        }
        catch (ex) { }
    };
    LocalStorage.prototype.delete = function (key) {
        try {
            localStorage.removeItem(key);
        }
        catch (ex) { }
    };
    LocalStorage.prototype.clear = function () {
        try {
            localStorage.clear();
        }
        catch (ex) { }
    };
    return LocalStorage;
}());



/***/ }),
/* 141 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppInsightsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__MetaDataService__ = __webpack_require__(24);


var AppInsightsService = (function () {
    function AppInsightsService() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("AppInsightsService");
        this.aiAvailable = true;
        this.dimensionService = __WEBPACK_IMPORTED_MODULE_1__MetaDataService__["a" /* MetaDataService */].Instance;
    }
    Object.defineProperty(AppInsightsService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new AppInsightsService();
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    AppInsightsService.prototype.trackEvent = function (eventName, eventPayload) {
        try {
            if (window["g2iAppInsights"]) {
                this.Logger.info("^^^^^^^^^^^^^^^^^^^^^", eventPayload);
                window["g2iAppInsights"].trackEvent(eventName, eventPayload);
            }
            if (this.aiAvailable) {
            }
        }
        catch (e) {
            this.aiAvailable = false;
            this.Logger.fatal(e);
        }
    };
    AppInsightsService.prototype.trackPageView = function (pageName, pageData) {
        try {
            this.Logger.debug("trackPageView", pageName);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return AppInsightsService;
}());



/***/ }),
/* 142 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BotList; });
var BotList = [
    {
        regex: "360Spider(-Image|-Video)?",
        name: "360Spider",
        category: "Search bot"
    },
    {
        regex: "Googlebot(-Mobile|-Image|-Video|-News)?|Feedfetcher-Google|Google-Test|Google-Site-Verification|Google Web Preview|AdsBot-Google(-Mobile)?|Google-Adwords-Instant|Mediapartners-Google|Google.*/\+/web/snippet|GoogleProducer|Google[ -]Publisher[ -]Plugin|Google-Shopping-Quality|Google-Adwords-DisplayAds|Google-Assess|Google-AdWords-Express|Google-speakr|GoogleDocs",
        name: "Googlebot",
        category: "Search bot"
    },
    {
        regex: "googleweblight|Google Page Speed Insights|Google PP Default|Google Search Console|Google Web Preview|Google Web Preview Analytics|Google_Analytics_Snippet_Validator|Google-Adwords-DisplayAds-WebRender|Google-AdWords-Express|Google-Adwords-Instant|Google-Calendar-Importer",
        name: "Google",
        category: "Scraping"
    },
    {
        regex: "Google-SearchByImage|Googlebot-Image",
        name: "Google-SearchByImage",
        category: "Scraping"
    },
    {
        regex: "Google-Site-Verification",
        name: "Google-Site-Verification",
        category: "Crawler"
    },
    {
        regex: "Google Desktop",
        name: "Google Desktop",
        category: "Crawler"
    },
    {
        regex: "Mozilla/5.0 (Windows NT 6.1; rv:6.0) Gecko/20110814 Firefox/6.0",
        name: "Google Plus Share",
        category: "Service Agent"
    },
    {
        regex: "Mozilla/5.0 (iPad; CPU OS 5_0_1 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Version/5.1 Mobile/9A405 Safari/7534.48.3,gzip(gfe) (via translate.google.com)",
        name: "Google Translate",
        category: "Service Agent"
    },
    {
        regex: "Google-Structured-Data-Testing-Tool",
        name: "Google-Structured-Data-Testing-Tool",
        category: "Scraping"
    },
    {
        regex: "Google Favicon",
        name: "Google Favicon",
        category: "Scraping"
    },
    {
        regex: "Neustar WPM",
        name: "Neustar WPM",
        category: "Scraping"
    },
    {
        regex: "Google Keyword Suggestion",
        name: "Google Keyword Suggestion",
        category: "Scraping"
    },
    {
        regex: "InbyBot",
        name: "InbyBot",
        category: "Scraping"
    },
    {
        regex: "GetLinkInfo",
        name: "GetLinkInfo",
        category: "Scraping"
    },
    {
        regex: "downforeveryoneorjustme",
        name: "downforeveryoneorjustme",
        category: "Site Monitor"
    },
    {
        regex: "DNS-Digger-Explorer",
        name: "DNS-Digger-Explorer",
        category: "Scraping"
    },
    {
        regex: "NetSeer",
        name: "NetSeer",
        category: "Scraping"
    },
    {
        regex: "Blekkobot",
        name: "Blekkobot",
        category: "Search Engine"
    },
    {
        regex: "https://developers.google.com/+/web/snippet",
        name: "Googlebot snippet",
        category: "Scraping"
    },
    {
        regex: "Google-Publisher-Plugin",
        name: "Google",
        category: "Crawler"
    },
    {
        regex: "proximic",
        name: "Comscore Crawler",
        category: "Search bot"
    },
    {
        regex: "SirdataBot",
        name: "SirdataBot",
    },
    {
        regex: "Clickagy Intelligence Bot v2|Clickagy",
        name: "Clickagy Intelligence Bot v2",
        category: "Bad Bot"
    },
    {
        regex: "baiduspider(-image)?|baidu Transcoder|baidu.*spider",
        name: "Baidu Spider",
        category: "Bad Bot"
    },
    {
        regex: "dotbot",
        name: "DotBot",
        category: "Crawler"
    },
    {
        regex: "GiftGhostBot",
        name: "GiftGhostBot",
        category: "Scraping"
    },
    {
        regex: "GrapeshotCrawler|grapeFX|grapeshot",
        name: "Grapeshot",
        category: "Crawler"
    },
    {
        regex: "SeznamBot|SklikBot|Seznam screenshot-generator",
        name: "Seznam Bot",
        category: "Search Engine"
    },
    {
        regex: "MetaURI",
        name: "MetaURI",
        category: "Crawler"
    },
    {
        regex: "PaperLiBot",
        name: "PaperLiBot",
        category: "Crawler"
    },
    {
        regex: "Genieo",
        name: "Genieo Web filter",
        category: "Crawler"
    },
    {
        regex: "a.pr-cy.ru",
        name: "a.pr-cy.ru",
        category: "Crawler"
    },
    {
        regex: "Cliqzbot|Cliqz",
        name: "Cliqzbot",
        category: "Crawler"
    },
    {
        regex: "BomboraBot|bombora",
        name: "BomboraBot",
        category: "Crawler"
    },
    {
        regex: "A6-Indexer|bombora",
        name: "A6-Indexer",
        category: "Crawler"
    },
    {
        regex: "Ahrefs(Bot|SiteAudit)",
        name: "AhrefsBot",
        category: "Search Engine"
    },
    {
        regex: "Genieo",
        name: "Genieo",
        category: "Crawler"
    },
    {
        regex: "Baiduspider",
        name: "Baiduspider",
        category: "Search Engine"
    },
    {
        regex: "bingbot|BingPreview",
        name: "Bing",
        category: "Search Engine"
    },
    {
        regex: "Yandex(SpravBot|ScreenshotBot|MobileBot|AccessibilityBot|ForDomain|Vertis|Market|Catalog|Calendar|Sitelinks|AdNet|Pagechecker|Webmaster|Media|Video|Bot|Images|Antivirus|Direct|Blogs|Favicons|ImageResizer|Verticals|News(links)?|Metrika|\.Gazeta Bot)|YaDirectFetcher",
        name: "YandexBot",
        category: "Search Engine"
    },
    {
        regex: "CCBot",
        name: "CCBot",
        category: "Web Scraper"
    },
    {
        regex: "YisouSpider",
        name: "YisouSpider",
        category: "Search Engine"
    },
    {
        regex: "Slurp|Yahoo!-AdCrawler",
        name: "Yahoo! Slurp",
        category: "Search Engine"
    },
    {
        regex: "Yahoo Pipes",
        name: "Yahoo Pipes",
        category: "Feed Fetcher"
    },
    {
        regex: "Y!J",
        name: "Y!J-BRJ/YATS Crawler",
        category: "Search Engine"
    },
    {
        regex: "008/0.85",
        name: "008/0.85",
        category: "Web Scraper"
    },
    {
        regex: "Sogou",
        name: "Sogou",
        category: "Search Engine"
    },
    {
        regex: "URLAppendBot",
        name: "URLAppendBot",
        category: "Crawler"
    },
    {
        regex: "DomainAppender",
        name: "DomainAppender",
        category: "Scraping"
    },
    {
        regex: "msnbot",
        name: "msnbot",
        category: "Search Engine"
    },
    {
        regex: "DuckDuckBot|DuckDuckGo-Favicons-Bot",
        name: "DuckDuckBot",
        category: "Scraping"
    },
    {
        regex: "acebookexternalhit|facebookexternalhit",
        name: "facebookexternalhit",
        category: "Web Scraper"
    },
    {
        regex: "facebookplatform|Facebot|Visionutils|datagnionbot",
        name: "Facebook",
        category: "Scraping"
    },
    {
        regex: "Exabot|Exabot-Images|Exabot-Thumbnails|Konqueror|ExaleadCloudview",
        name: "ExaLead by Dassault Systemes",
        category: "Search Engine"
    },
    {
        regex: "ia_archiver|alexabot|verifybot",
        name: "Internet Archive",
        category: "Scraping"
    },
    {
        regex: "linkdexbot",
        name: "Linkdex Limited",
        category: "Crawler"
    },
    {
        regex: "contxbot",
        name: "Contxbot",
        category: "Crawler"
    },
    {
        regex: "YodaoBot",
        name: "Youdao ",
        category: "Search Engine"
    },
    {
        regex: "spbot",
        name: "Link Profiler ",
        category: "Crawler"
    },
    {
        regex: "MJ12bot",
        name: "MJ12bot ",
        category: "Search Engine"
    },
    {
        regex: "Mail.RU_Bot",
        name: "Mail.RU_Bot ",
        category: "Search Engine"
    },
    {
        regex: "BUbiNG",
        name: "Universita Delgi Studi Di Milano ",
        category: "Web Scraper"
    },
    {
        regex: "SputnikBot",
        name: "OJSC Rostelecom ",
        category: "Search Engine"
    },
    {
        regex: "NerdyBot",
        name: "NerdyBot",
        category: "Search Engine"
    },
    {
        regex: "NerdyBot",
        name: "NerdyBot",
        category: "Search Engine"
    },
    {
        regex: "Opebot",
        name: "Opebot",
        category: "Crawler"
    },
    {
        regex: "Scrapy",
        name: "Scrapy",
        category: "Crawler"
    },
    {
        regex: "Gigabot",
        name: "Gigabot",
        category: "Search Engine"
    },
    {
        regex: "CatchBot",
        name: "CatchBot",
        category: "Web Scraper"
    },
    {
        regex: "Zeus 32297",
        name: "Zeus 32297",
        category: "Web Scraper"
    },
    {
        regex: "SafetyNet",
        name: "SafetyNet",
        category: "Crawler"
    },
    {
        regex: "linklooker",
        name: "linklooker",
        category: "Crawler"
    },
    {
        regex: "INGRID",
        name: "INGRID",
        category: "Crawler"
    },
    {
        regex: "EnigmaBot",
        name: "EnigmaBot",
        category: "Crawler"
    },
    {
        regex: "adidxbot",
        name: "Advertising",
        category: "Crawler"
    },
    {
        regex: "AMZNKAssocBot",
        name: "Advertising",
        category: "Crawler"
    },
    {
        regex: "YandexDirect",
        name: "Advertising",
        category: "Crawler"
    },
    {
        regex: "aolbuild",
        name: "aolbuild",
        category: "Search Engine"
    },
    {
        regex: "Butterfly",
        name: "Butterfly",
        category: "Search Engine"
    },
    {
        regex: "cg-eye",
        name: "cg-eye",
        category: "Search Engine"
    },
    {
        regex: "changedetection",
        name: "changedetection",
        category: "Search Engine"
    },
    {
        regex: "CligooRobot",
        name: "CligooRobot",
        category: "Search Engine"
    },
    {
        regex: "coccoc",
        name: "coccoc",
        category: "Search Engine"
    },
    {
        regex: "Daumoa",
        name: "Daumoa",
        category: "Search Engine"
    },
    {
        regex: "DealGates",
        name: "DealGates",
        category: "Search Engine"
    },
    {
        regex: "DeuSu",
        name: "DeuSu",
        category: "Search Engine"
    },
    {
        regex: "Elefent",
        name: "Elefent",
        category: "Search Engine"
    },
    {
        regex: "enlle",
        name: "enlle",
        category: "Search Engine"
    },
    {
        regex: "Findxbot",
        name: "Findxbot",
        category: "Search Engine"
    },
    {
        regex: "GigablastOpenSource",
        name: "GigablastOpenSource",
        category: "Search Engine"
    },
    {
        regex: "VoilaBot",
        name: "VoilaBot",
        category: "Crawler"
    },
    {
        regex: "panscient.com",
        name: "panscient.com",
        category: "Search Engine"
    },
    {
        regex: "Pinterest/\d\.\d.*www\.pinterest\.com.*",
        name: "Pinterest",
        category: "Web Scraper"
    },
    {
        regex: "Charlotte",
        name: "Charlotte",
        category: "Search Engine"
    },
    {
        regex: "Twitterbot",
        name: "Twitterbot",
        category: "Search Engine"
    },
    {
        regex: "MonTools",
        name: "Site Monitor",
        category: "Site Monitor"
    },
    {
        regex: "LinkWalker",
        name: "LinkWalker",
        category: "Crawler"
    },
    {
        regex: "Slackbot|Slack-ImgProxy",
        name: "Slackbot",
        category: "Crawler"
    },
    {
        regex: "AdMantX.*admantx\.com",
        name: "ADMantX",
        category: "Crawler"
    },
    {
        regex: "Envolk",
        name: "Envolk",
        category: "Scraping"
    },
    {
        regex: "FlightDeckReportsBot",
        name: "FlightDeckReportsBot",
        category: "Scraping"
    },
    {
        regex: "AddSearchBot",
        name: "AddSearchBot",
        category: "Scraping"
    },
    {
        regex: "findlink",
        name: "findlink",
        category: "Scraping"
    },
    {
        regex: "JikeSpider",
        name: "People's Daily Newspaper",
        category: "Crawler"
    },
    {
        regex: "TelegramBot",
        name: "TelegramBot",
        category: "Crawler"
    },
    {
        regex: "yacybot",
        name: "yacybot",
        category: "Crawler"
    },
    {
        regex: "Caliperbot",
        name: "Caliperbot",
        category: "Crawler"
    },
    {
        regex: "AnyEvent",
        name: "AnyEvent",
        category: "Crawler"
    },
    {
        regex: "awesomecrawler",
        name: "awesomecrawler",
        category: "Crawler"
    },
    {
        regex: "/bot|crawler|spider|crawling/i",
        name: "Generic Bot",
        category: "Generic Bot"
    }
];


/***/ }),
/* 143 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BotModel; });
var BotModel = (function () {
    function BotModel(data) {
        if (!data)
            return;
        this.category = data.category;
        this.name = data.name;
    }
    return BotModel;
}());



/***/ }),
/* 144 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export DataLayerClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CdpDataLayer; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_dataCollector_DataCollector__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Core_constants_PluginInnerEvents__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Core_constants_Constants__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Data_services_Index__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__Data_modules_LocalStorageService__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__ = __webpack_require__(21);










var DataLayerClass = (function () {
    function DataLayerClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_1__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("Data Layer");
        this.dlStorageKey = "cdp-dl";
        this.sessionService = __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__["a" /* SessionService */].Instance;
    }
    DataLayerClass.prototype.setInformation = function (deviceId) {
        var _this = this;
        return this.getCdpDl(deviceId)
            .then(function (apiDlData) {
            __WEBPACK_IMPORTED_MODULE_2__Modules_dataCollector_DataCollector__["a" /* DataCollector */].listenErCode();
            _this.handleCdpDlResponce(apiDlData, deviceId);
        }).catch(function (error) {
            var customEvent = new CustomEvent(__WEBPACK_IMPORTED_MODULE_3__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].DlCdpGetFail, { detail: error });
            document.dispatchEvent(customEvent);
        });
    };
    DataLayerClass.prototype.handleCdpDlResponce = function (apiDlData, deviceId) {
        this.dlData = apiDlData;
        this.setCdpDlToStorage(apiDlData, deviceId);
        var customEvent = new CustomEvent(__WEBPACK_IMPORTED_MODULE_3__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].DlCdpGetSuccess, { detail: apiDlData });
        document.dispatchEvent(customEvent);
        __WEBPACK_IMPORTED_MODULE_7__Data_services_Index__["c" /* TagManagerService */].Instance.setDLV("setCdpDl", apiDlData.er + "");
    };
    DataLayerClass.prototype.getDlData = function () {
        return this.dlData;
    };
    DataLayerClass.prototype.getG2iDeviceId = function () {
        if (this.dlData && this.dlData.g2ideviceid) {
            return this.dlData.g2ideviceid;
        }
        else {
            var localDl = this.getCdpDlFromStorage();
            if (localDl && localDl.apiDl) {
                return localDl.apiDl.g2ideviceid;
            }
            return null;
        }
    };
    DataLayerClass.prototype.isValidLocalInformation = function (localDl) {
        var isInCurrentDeviceSession = localDl && (localDl.browserSession == this.sessionService.getDeviceSessionId());
        if (isInCurrentDeviceSession && this.isActualCdpDlStorage) {
            if (localDl.apiDl && localDl.apiDl.er != __WEBPACK_IMPORTED_MODULE_4__Core_constants_Constants__["a" /* Constants */].NoErInformation) {
                return true;
            }
        }
        return false;
    };
    DataLayerClass.prototype.getCdpDl = function (deviceId) {
        var localDl = this.getCdpDlFromStorage();
        if (this.isValidLocalInformation(localDl)) {
            return Promise.resolve(localDl.apiDl);
        }
        return this.getCdpDlFromApi(deviceId);
    };
    DataLayerClass.prototype.getCdpDlFromStorage = function () {
        return __WEBPACK_IMPORTED_MODULE_8__Data_modules_LocalStorageService__["a" /* LocalStorageService */].get(this.dlStorageKey);
    };
    DataLayerClass.prototype.updateDeviceIdInCdpDlStorage = function (deviceId) {
        var dlData = __WEBPACK_IMPORTED_MODULE_8__Data_modules_LocalStorageService__["a" /* LocalStorageService */].get(this.dlStorageKey);
        if (dlData) {
            dlData.deviceId = deviceId;
            __WEBPACK_IMPORTED_MODULE_8__Data_modules_LocalStorageService__["a" /* LocalStorageService */].set(this.dlStorageKey, dlData);
        }
    };
    DataLayerClass.prototype.setCdpDlToStorage = function (dlInformation, deviceId) {
        if (!dlInformation.er_expire_date) {
            dlInformation.er_expire_date = __WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__["a" /* DateUtil */].addDays(new Date(), 1);
        }
        var saveDl = {
            apiDl: dlInformation,
            deviceId: deviceId,
            browserSession: this.sessionService.getDeviceSessionId()
        };
        __WEBPACK_IMPORTED_MODULE_8__Data_modules_LocalStorageService__["a" /* LocalStorageService */].set(this.dlStorageKey, saveDl);
    };
    DataLayerClass.prototype.isActualCdpDlStorage = function (cdpStorage) {
        return (Date.now() - __WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__["a" /* DateUtil */].getDateValueFromTimestamp(cdpStorage.apiDl.er_expire_date) < 0);
    };
    DataLayerClass.prototype.getCdpDlFromApi = function (deviceId) {
        var options = __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addBotInfoHeader();
        options = __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addInitSettingsHeader(options);
        return __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__["a" /* HttpService */].get("user", {}, options);
    };
    return DataLayerClass;
}());

var CdpDataLayer = new DataLayerClass();


/***/ }),
/* 145 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ErInterpretationClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ErInterpretation; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Data_modules_HttpService__ = __webpack_require__(13);



var ErInterpretationClass = (function () {
    function ErInterpretationClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("UserData");
    }
    ErInterpretationClass.prototype.setInformation = function () {
        var _this = this;
        return this.getInformationFromApi()
            .then(function (information) {
            if (information) {
                console.log("Er Interpretation:", information);
                _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].GetErInterpretation, information);
            }
            return Promise.resolve(information);
        });
    };
    ErInterpretationClass.prototype.fireEvent = function (name, data) {
        var customEvent = new CustomEvent(name, { detail: data });
        document.dispatchEvent(customEvent);
    };
    ErInterpretationClass.prototype.getInformationFromApi = function () {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_2__Data_modules_HttpService__["a" /* HttpService */].get("user/er/stats")
            .catch(function (error) {
            _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].GetErInterpretationError, error);
        });
    };
    return ErInterpretationClass;
}());

var ErInterpretation = new ErInterpretationClass();


/***/ }),
/* 146 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export RecommendationsClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Recommendations; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_dimensionsModule_DimensionsModule__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Data_modules_HttpService__ = __webpack_require__(13);




var RecommendationsClass = (function () {
    function RecommendationsClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("Recommendations");
    }
    RecommendationsClass.prototype.getArticlesWithCategories = function () {
        var _this = this;
        return this.getInformationFromApi("user/recommendations/stats")
            .then(function (information) {
            if (information) {
                console.log("List of recommended articles with user’s categories of interest:", information);
                _this.Logger.info(information);
                window["g2i_dl_recommendations_stats"] = information;
                _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].DlRecommendationsStatsFinished, information);
            }
            return Promise.resolve(information);
        })
            .catch(function (error) {
            _this.Logger.error(error);
            _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].DlRecommendationsStatsError, error);
        });
    };
    RecommendationsClass.prototype.getListArticles = function (isAddCategoryInfo) {
        var _this = this;
        if (isAddCategoryInfo) {
            return this.getArticlesWithCategories();
        }
        else {
            return this.getInformationFromApi("user/recommendations")
                .then(function (information) {
                if (information) {
                    console.log("Get a list of recommended articles:", information);
                    _this.Logger.info(information);
                    window["g2i_dl_recommendations"] = information;
                    _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].DlRecommendationsFinished, information);
                }
                return Promise.resolve(information);
            });
        }
    };
    RecommendationsClass.prototype.fireEvent = function (name, data) {
        var customEvent = new CustomEvent(name, { detail: data });
        document.dispatchEvent(customEvent);
    };
    RecommendationsClass.prototype.getInformationFromApi = function (url) {
        var _this = this;
        var contentId = __WEBPACK_IMPORTED_MODULE_2__Modules_dimensionsModule_DimensionsModule__["a" /* DimensionsModule */].getContentId();
        return __WEBPACK_IMPORTED_MODULE_3__Data_modules_HttpService__["a" /* HttpService */].get(url, { content_id: contentId })
            .catch(function (error) {
            _this.Logger.error(error);
            _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].DlRecommendationsError, error);
        });
    };
    return RecommendationsClass;
}());

var Recommendations = new RecommendationsClass();


/***/ }),
/* 147 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export UserInterestsClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserInterests; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Data_modules_HttpService__ = __webpack_require__(13);



var UserInterestsClass = (function () {
    function UserInterestsClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("InterestsStats");
    }
    UserInterestsClass.prototype.getDebugData = function () {
        var _this = this;
        return this.getInformationFromApi()
            .then(function (information) {
            if (information) {
                console.info("Get debug data for Interests calculation:", information);
                _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].GetInterestsStats, information);
            }
            return Promise.resolve(information);
        });
    };
    UserInterestsClass.prototype.fireEvent = function (name, data) {
        var customEvent = new CustomEvent(name, { detail: data });
        document.dispatchEvent(customEvent);
    };
    UserInterestsClass.prototype.getInformationFromApi = function () {
        var _this = this;
        var fnName = "[getUserInterestsByDeviceId]";
        return __WEBPACK_IMPORTED_MODULE_2__Data_modules_HttpService__["a" /* HttpService */].get("user/interests/stats")
            .catch(function (error) {
            _this.Logger.error(fnName, error);
            _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].GetInterestsStatsError, error);
        });
    };
    return UserInterestsClass;
}());

var UserInterests = new UserInterestsClass();


/***/ }),
/* 148 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OptionsModel; });
var OptionsModel = (function () {
    function OptionsModel(data) {
        this.cdp = {
            enabled: false
        };
        this.detectBot = true;
        this.clientCode = "dfm";
        if (!data)
            return;
        this.debug = data.debug;
        this.logLevel = data.logLevel;
        this.containerId = data.containerId;
        this.collectors = data.collectors;
        this.dimensions = data.dimensions;
        this.analysis = data.analysis || true;
        this.cdp = data.cdp;
        this.sessionId = data.sessionId;
        this.detectBot = data.detectBot || true;
        this.layoutCode = data.layoutCode;
        this.environment = data.environment || "Unknown";
        this.siteCode = data.siteCode || null;
        this.misc = data.misc || null;
        this.clientCode = data.clientCode || this.clientCode;
    }
    OptionsModel.prototype.setLayoutCode = function (layoutCode) {
        this.layoutCode = layoutCode;
    };
    OptionsModel.prototype.extendModel = function (object) {
        for (var name_1 in object) {
            if (object.hasOwnProperty(name_1)) {
                this[name_1] = object[name_1];
            }
        }
        return this;
    };
    return OptionsModel;
}());



/***/ }),
/* 149 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ActionManagerClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ActionManager; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConversationManager__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_dom_Dom__ = __webpack_require__(137);


var ActionManagerClass = (function () {
    function ActionManagerClass() {
    }
    ActionManagerClass.prototype.getInfoFromClickedElement = function (clickedElement) {
        var parent = __WEBPACK_IMPORTED_MODULE_1__Core_dom_Dom__["a" /* Dom */].findAncestor(clickedElement, "Mg2-connext"), actionInfo = {};
        if (parent) {
            var elementId = parent.getAttribute("id");
            if (elementId) {
                var actionId = parseInt(elementId.split("-")[1]);
                var actionName = void 0;
                var conversation = __WEBPACK_IMPORTED_MODULE_0__ConversationManager__["a" /* ConversationManager */].getCurrentConversation();
                if (conversation) {
                    var actions = conversation.Actions;
                    var actionLength = actions.length;
                    for (var i = 0; i < actionLength; i++) {
                        var action = actions[i];
                        if (action.Id == actionId) {
                            actionName = action.Name;
                            break;
                        }
                    }
                }
                if (actionId) {
                    actionInfo["ActionId"] = actionId;
                }
                if (actionName) {
                    actionInfo["ActionName"] = actionName;
                }
                return actionInfo;
            }
        }
        return null;
    };
    return ActionManagerClass;
}());

var ActionManager = new ActionManagerClass();


/***/ }),
/* 150 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export FirstVisitDataCollectorClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FirstVisitDataCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_FirstVisitDataModel__ = __webpack_require__(152);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_DataTimerModel__ = __webpack_require__(151);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Data_modules_LocalStorageService__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Modules_configModule_ConfigModule__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Modules_dataCollector_DataCollector__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__Data_modules_HttpService__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__Utils_DeviceDetector__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Utils_logger_LoggerService__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Utils_BugTrackUtil__ = __webpack_require__(21);












var FirstVisitDataCollectorClass = (function () {
    function FirstVisitDataCollectorClass() {
        this.iterationMaxEventCount = 20;
        this.iterationMaxTimeCollect = 3 * 60 * 1000;
        this.collectData = new __WEBPACK_IMPORTED_MODULE_2__models_FirstVisitDataModel__["a" /* FirstVisitDataModel */](null);
        this.collectedEvents = [];
        this.startSaveCollectData = false;
        this.Logger = __WEBPACK_IMPORTED_MODULE_10__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("FirstVisitDataCollector");
        this.pageLeaveHandler = null;
        this.hasValidEr = false;
    }
    FirstVisitDataCollectorClass.prototype.setCollectData = function (data) {
        this.collectData = new __WEBPACK_IMPORTED_MODULE_2__models_FirstVisitDataModel__["a" /* FirstVisitDataModel */](data);
    };
    FirstVisitDataCollectorClass.prototype.collectCdpEvent = function (event) {
        if (this.startSaveCollectData) {
            this.processCdpEvent(event);
        }
        else {
            this.collectedEvents.push(event);
        }
    };
    FirstVisitDataCollectorClass.prototype.process = function () {
        this.startSaveCollectData = true;
        var savedFirstVisitData = this.getFirstVisitFromStorage();
        if (savedFirstVisitData) {
            this.setCollectData(savedFirstVisitData);
            var restOfTime = this.collectData.IterationNumber * this.iterationMaxTimeCollect - savedFirstVisitData.CollectTime;
            this.setTimer(restOfTime);
        }
        else {
            this.setTimer(this.iterationMaxTimeCollect);
        }
        this.processAlreadyCollectedCdpEvents();
        this.saveTimeVisitIfLeavePage();
    };
    FirstVisitDataCollectorClass.prototype.isCollectedFirstVisit = function (collectedByCondition) {
        var savedFirstVisitData = this.getFirstVisitFromStorage();
        this.setCollectData(savedFirstVisitData);
        if (savedFirstVisitData) {
            if (this.isDataCollected(collectedByCondition)) {
                return true;
            }
        }
        return false;
    };
    FirstVisitDataCollectorClass.prototype.getCollectedData = function () {
        return this.collectData;
    };
    FirstVisitDataCollectorClass.prototype.clearData = function () {
        this.hasValidEr = true;
        this.setCollectData(null);
        this.setFirstVisitToStorage(null);
        this.dispose();
    };
    FirstVisitDataCollectorClass.prototype.processCdpEvent = function (event) {
        var savedFirstVisitData = this.getFirstVisitFromStorage();
        if (savedFirstVisitData) {
            this.setCollectData(savedFirstVisitData);
        }
        if (this.isDataCollected() && !this.hasValidEr) {
            this.sendData();
        }
        var collectAttr = event.getFirstVisitProperty();
        switch (collectAttr) {
            case __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountCreateAccountEvents:
                this.collectData.CountCreateAccountEvents++;
                break;
            case __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountCheckoutStartEvents:
                this.collectData.CountCheckoutStartEvents++;
                break;
            case __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountClick:
                this.collectData.CountClick++;
                break;
            case __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountPageview:
                this.collectData.CountPageview++;
                break;
        }
        this.setTimerLeft();
        this.setFirstVisitToStorage(this.collectData);
    };
    FirstVisitDataCollectorClass.prototype.processAlreadyCollectedCdpEvents = function () {
        var _this = this;
        this.collectedEvents.forEach(function (cdpEvent) {
            _this.processCdpEvent(cdpEvent);
        });
        this.collectedEvents = [];
    };
    FirstVisitDataCollectorClass.prototype.isDataCollected = function (isPageLoadCondition) {
        return this.isDataCollectedByTime(isPageLoadCondition) || this.isDataCollectedByEvents(isPageLoadCondition);
    };
    FirstVisitDataCollectorClass.prototype.setTimer = function (timerTime) {
        var _this = this;
        if (!this.timer) {
            this.timer = new __WEBPACK_IMPORTED_MODULE_3__models_DataTimerModel__["a" /* DataTimerModel */]({});
        }
        this.timer.IsTimeUp = true;
        this.timer.StartTime = new Date().valueOf();
        this.timer.Id = setTimeout(function () {
            _this.timer.IsTimeUp = true;
            _this.collectData.CollectTime = _this.iterationMaxTimeCollect * _this.collectData.IterationNumber;
            _this.setFirstVisitToStorage(_this.collectData);
            _this.sendData();
        }, timerTime);
    };
    FirstVisitDataCollectorClass.prototype.isDataCollectedByTime = function (isPageLoadCondition) {
        var iterationNumber = isPageLoadCondition ? 1 : this.collectData.IterationNumber;
        return this.collectData.CollectTime >= (this.iterationMaxTimeCollect * iterationNumber);
    };
    FirstVisitDataCollectorClass.prototype.isDataCollectedByEvents = function (isPageLoadCondition) {
        var iterationNumber = isPageLoadCondition ? 1 : this.collectData.IterationNumber;
        return this.collectData.getSumEvents() >= (this.iterationMaxEventCount * iterationNumber);
    };
    FirstVisitDataCollectorClass.prototype.sendData = function () {
        this.setTimerLeft();
        this.collectData.IterationNumber++;
        this.setFirstVisitToStorage(this.collectData);
        this.setDlCollectedInformation(this.collectData);
    };
    FirstVisitDataCollectorClass.prototype.setDlCollectedInformation = function (collectedData) {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_9__Utils_DeviceDetector__["a" /* DeviceDetector */].getDeviceId()
            .then(function (deviceId) {
            return _this.getFirstVisitCdpDlFromApi(deviceId, _this.isNeedCollectFirstVisitData(collectedData));
        }).then(function (data) {
            return __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].setDlCollectedInformation(data);
        }).catch(function (error) { return _this.Logger.error("setDlCollectedInformation", error); });
    };
    FirstVisitDataCollectorClass.prototype.isNeedCollectFirstVisitData = function (collectedData) {
        return collectedData ? collectedData : __WEBPACK_IMPORTED_MODULE_7__Modules_dataCollector_DataCollector__["a" /* DataCollector */].getCollectedFirstVisitData();
    };
    FirstVisitDataCollectorClass.prototype.getFirstVisitCdpDlFromApi = function (deviceId, fVcollectedData) {
        var collectedData = this.getMappedCollectedData(fVcollectedData);
        collectedData["deviceid"] = deviceId;
        collectedData["sitecode"] = __WEBPACK_IMPORTED_MODULE_6__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getSiteCode();
        collectedData["clientcode"] = __WEBPACK_IMPORTED_MODULE_6__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getClientCode();
        var options = __WEBPACK_IMPORTED_MODULE_11__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addBotInfoHeader();
        options = __WEBPACK_IMPORTED_MODULE_11__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addInitSettingsHeader(options);
        return __WEBPACK_IMPORTED_MODULE_8__Data_modules_HttpService__["a" /* HttpService */].post("user", collectedData, options);
    };
    FirstVisitDataCollectorClass.prototype.getMappedCollectedData = function (firstVisitData) {
        if (firstVisitData) {
            return {
                "ts_diff": firstVisitData.CollectTime,
                "cnt_pageview": firstVisitData.CountPageview,
                "cnt_click": firstVisitData.CountClick,
                "cnt_checkoutstart": firstVisitData.CountCheckoutStartEvents,
                "cnt_createaccount": firstVisitData.CountCreateAccountEvents
            };
        }
        return {};
    };
    FirstVisitDataCollectorClass.prototype.getFirstVisitFromStorage = function () {
        return __WEBPACK_IMPORTED_MODULE_5__Data_modules_LocalStorageService__["a" /* LocalStorageService */].get(FirstVisitDataCollectorClass.firstVisitKey);
    };
    FirstVisitDataCollectorClass.prototype.setFirstVisitToStorage = function (visitData) {
        __WEBPACK_IMPORTED_MODULE_5__Data_modules_LocalStorageService__["a" /* LocalStorageService */].set(FirstVisitDataCollectorClass.firstVisitKey, visitData);
    };
    FirstVisitDataCollectorClass.prototype.saveTimeVisitIfLeavePage = function () {
        var _this = this;
        if (!this.pageLeaveHandler) {
            var callback = function (event) {
                _this.Logger.trace("Event PageLeaveEvent fired");
                _this.clearTimer();
                _this.setTimerLeft();
                _this.setFirstVisitToStorage(_this.collectData);
            };
            this.pageLeaveHandler = this.addPageLeaveEventListener(callback);
        }
    };
    FirstVisitDataCollectorClass.prototype.addPageLeaveEventListener = function (callback) {
        var eventName = __WEBPACK_IMPORTED_MODULE_4__Utils_Utils__["a" /* Utils */].getPageLeaveEventTrigger();
        return __WEBPACK_IMPORTED_MODULE_4__Utils_Utils__["a" /* Utils */].addCustomEventListener(window, eventName, callback);
    };
    FirstVisitDataCollectorClass.prototype.removePageLeaveEventListener = function () {
        var eventName = __WEBPACK_IMPORTED_MODULE_4__Utils_Utils__["a" /* Utils */].getPageLeaveEventTrigger();
        window.removeEventListener(eventName, this.pageLeaveHandler);
    };
    FirstVisitDataCollectorClass.prototype.clearTimer = function () {
        if (this.timer && this.timer.Id) {
            clearTimeout(this.timer.Id);
        }
    };
    FirstVisitDataCollectorClass.prototype.dispose = function () {
        this.clearTimer();
        this.removePageLeaveEventListener();
    };
    FirstVisitDataCollectorClass.prototype.setTimerLeft = function () {
        var timerWork = new Date().valueOf() - this.timer.StartTime;
        this.collectData.CollectTime = timerWork;
    };
    FirstVisitDataCollectorClass.prototype.getPageLoadCollectedData = function () {
        var savedFirstVisitData = this.getFirstVisitFromStorage();
        this.setCollectData(savedFirstVisitData);
        if (savedFirstVisitData) {
            var isPageLoadCondition = true;
            if (this.isDataCollected(isPageLoadCondition)) {
                return savedFirstVisitData;
            }
        }
        return null;
    };
    FirstVisitDataCollectorClass.firstVisitKey = "frstVisit";
    return FirstVisitDataCollectorClass;
}());

var FirstVisitDataCollector = new FirstVisitDataCollectorClass();


/***/ }),
/* 151 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DataTimerModel; });
var DataTimerModel = (function () {
    function DataTimerModel(data) {
        if (!data)
            return;
        this.Id = data.Id;
        this.IsTimeUp = data.IsTimeUp;
        this.StartTime = data.StartTime;
    }
    return DataTimerModel;
}());



/***/ }),
/* 152 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FirstVisitDataModel; });
var FirstVisitDataModel = (function () {
    function FirstVisitDataModel(data) {
        this.CollectTime = 0;
        this.CountClick = 0;
        this.CountPageview = 0;
        this.CountCreateAccountEvents = 0;
        this.CountCheckoutStartEvents = 0;
        this.IterationNumber = 1;
        if (!data)
            return;
        this.CountClick = data.CountClick;
        this.CollectTime = data.CollectTime;
        this.CountCheckoutStartEvents = data.CountCheckoutStartEvents;
        this.CountPageview = data.CountPageview;
        this.IterationNumber = data.IterationNumber;
        this.CountCreateAccountEvents = data.CountCreateAccountEvents;
    }
    FirstVisitDataModel.prototype.getSumEvents = function () {
        return this.CountCheckoutStartEvents + this.CountClick + this.CountCreateAccountEvents + this.CountPageview;
    };
    return FirstVisitDataModel;
}());



/***/ }),
/* 153 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CommonMetaDataClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommonMetaData; });
var CommonMetaDataClass = (function () {
    function CommonMetaDataClass() {
    }
    CommonMetaDataClass.prototype.getKeywords = function () {
        return this.getMetaInformation(["keywords", "og:keywords", "bt:keywords"]);
    };
    CommonMetaDataClass.prototype.getTitle = function () {
        return this.getMetaInformation(["title", "og:title"]);
    };
    CommonMetaDataClass.prototype.getUrl = function () {
        return location.origin + location.pathname;
    };
    CommonMetaDataClass.prototype.getSection = function () {
        return this.getMetaInformation(["section", "og:section"]);
    };
    CommonMetaDataClass.prototype.getAuthor = function () {
        return this.getMetaInformation(["byline", "author", "bt:author"]);
    };
    CommonMetaDataClass.prototype.getTags = function () {
        return this.getMetaInformation(["tags"]);
    };
    CommonMetaDataClass.prototype.getContentId = function () {
        return this.getMetaInformation(["contentid"]);
    };
    CommonMetaDataClass.prototype.getPublishDate = function () {
        return this.getMetaInformation(["publishDate", "pubdate", "og:pers_rec_first_pub_date", "bt:pubDate"]);
    };
    CommonMetaDataClass.prototype.getContentType = function () {
        return this.getMetaInformation(["type", "og:type"]);
    };
    CommonMetaDataClass.prototype.getDefaultMeta = function () {
        var _this = this;
        return {
            Keywords: function () { return _this.getKeywords(); },
            Title: function () { return _this.getTitle(); },
            Url: function () { return _this.getUrl(); },
            Section: function () { return _this.getSection(); },
            Author: function () { return _this.getAuthor(); },
            Tags: function () { return _this.getTags(); },
            ContentId: function () { return _this.getContentId(); },
            PublishDate: function () { return _this.getPublishDate(); },
            ContentType: function () { return _this.getContentType(); },
        };
    };
    CommonMetaDataClass.prototype.getMetaInformation = function (metaData) {
        var metaDataLength = metaData.length;
        for (var i = 0; i < metaDataLength; i++) {
            var metaName = metaData[i];
            var metaValue = this.getMetaContent(metaName);
            if (metaValue) {
                return metaValue;
            }
        }
        return null;
    };
    CommonMetaDataClass.prototype.getMetaContent = function (metaName) {
        var metas = document.querySelectorAll("meta[name ='" + metaName + "'], meta[property='" + metaName + "']");
        var i = 0;
        var mLength = metas.length;
        for (i; i < mLength; i++) {
            var content = metas[i].getAttribute("content");
            if (content) {
                return content;
            }
        }
        return "";
    };
    return CommonMetaDataClass;
}());

var CommonMetaData = new CommonMetaDataClass();


/***/ }),
/* 154 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommandModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_options_models_MiscOptionsInterface__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__CalculationResultModel__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__commandModels_CookieGetterModel__ = __webpack_require__(158);



var CommandModel = (function () {
    function CommandModel(data) {
        if (!data)
            return;
        this.MiscKey = data.key;
        this.EnableGA = data.enableGA;
        this.setup(data.value);
    }
    CommandModel.prototype.setup = function (value) {
        var parsedValue = value;
        switch (parsedValue.name) {
            case __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_options_models_MiscOptionsInterface__["b" /* COMMAND_TYPES */].GET_COOKIE_BY_NAME:
                this.executingModel = new __WEBPACK_IMPORTED_MODULE_2__commandModels_CookieGetterModel__["a" /* CookieGetterModel */](parsedValue.args);
                break;
        }
    };
    CommandModel.prototype.getData = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (!_this.executingModel)
                reject();
            try {
                _this.executingModel.execute().then(function (value) {
                    var result = new __WEBPACK_IMPORTED_MODULE_1__CalculationResultModel__["a" /* CalculationResultModel */](_this.MiscKey, value, _this.EnableGA);
                    resolve(result);
                }).catch(reject);
            }
            catch (e) {
                reject();
            }
        });
    };
    return CommandModel;
}());



/***/ }),
/* 155 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return JavascriptModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CalculationResultModel__ = __webpack_require__(27);

var JavascriptModel = (function () {
    function JavascriptModel(data) {
        if (!data)
            return;
        this.MiscKey = data.key;
        this.Expression = data.value;
        this.EnableGA = data.enableGA;
    }
    JavascriptModel.prototype.getData = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            try {
                var value = eval(_this.Expression);
                var result = new __WEBPACK_IMPORTED_MODULE_0__CalculationResultModel__["a" /* CalculationResultModel */](_this.MiscKey, value, _this.EnableGA);
                resolve(result);
            }
            catch (e) {
                reject();
            }
        });
    };
    return JavascriptModel;
}());



/***/ }),
/* 156 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PromiseModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CalculationResultModel__ = __webpack_require__(27);

var PromiseModel = (function () {
    function PromiseModel(data) {
        if (!data)
            return;
        this.MiscKey = data.key;
        this.PromiseName = data.value;
        this.EnableGA = data.enableGA;
    }
    PromiseModel.prototype.getData = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            try {
                var promise = window[_this.PromiseName];
                promise.then(function (value) {
                    var result = new __WEBPACK_IMPORTED_MODULE_0__CalculationResultModel__["a" /* CalculationResultModel */](_this.MiscKey, value, _this.EnableGA);
                    resolve(result);
                }).catch(reject);
            }
            catch (e) {
                reject();
            }
        });
    };
    return PromiseModel;
}());



/***/ }),
/* 157 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SelectorModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CalculationResultModel__ = __webpack_require__(27);

var SelectorModel = (function () {
    function SelectorModel(data) {
        if (!data)
            return;
        this.MiscKey = data.key;
        var parsedValue = data.value;
        this.Selector = parsedValue.sel;
        this.Attribute = parsedValue.attr;
        this.EnableGA = data.enableGA;
    }
    SelectorModel.prototype.getData = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            try {
                var element = document.querySelector(_this.Selector);
                var value = null;
                if (_this.Attribute) {
                    value = element.getAttribute(_this.Attribute);
                }
                else {
                    value = element.textContent;
                }
                var result = new __WEBPACK_IMPORTED_MODULE_0__CalculationResultModel__["a" /* CalculationResultModel */](_this.MiscKey, value, _this.EnableGA);
                resolve(result);
            }
            catch (e) {
                reject();
            }
        });
    };
    return SelectorModel;
}());



/***/ }),
/* 158 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CookieGetterModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_cookie_Cookie__ = __webpack_require__(162);

var CookieGetterModel = (function () {
    function CookieGetterModel(cookieName) {
        this.cookieName = cookieName;
    }
    CookieGetterModel.prototype.execute = function () {
        var result = __WEBPACK_IMPORTED_MODULE_0__Utils_cookie_Cookie__["a" /* Cookie */].get(this.cookieName) || "";
        return Promise.resolve(result);
    };
    return CookieGetterModel;
}());



/***/ }),
/* 159 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ContentServiceClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContentService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Modules_dimensionsModule_DimensionsModule__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_ApiContentModel__ = __webpack_require__(160);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_ContentModel__ = __webpack_require__(161);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__ = __webpack_require__(13);






var ContentServiceClass = (function () {
    function ContentServiceClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_4__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("ArticleStorage");
    }
    ContentServiceClass.prototype.getPageContent = function () {
        this.pageContent = new __WEBPACK_IMPORTED_MODULE_3__models_ContentModel__["a" /* ContentModel */](__WEBPACK_IMPORTED_MODULE_1__Modules_dimensionsModule_DimensionsModule__["a" /* DimensionsModule */].getDimensions());
        return this.pageContent;
    };
    ContentServiceClass.prototype.contentExistsInCdp = function (contentId) {
        return __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__["a" /* HttpService */].get("article/exists", { content_id: contentId });
    };
    ContentServiceClass.prototype.sendContentInCdp = function (article, articleNotExistApproved) {
        var _this = this;
        var sendData = new __WEBPACK_IMPORTED_MODULE_2__models_ApiContentModel__["a" /* ApiContentModel */](article);
        sendData["article_not_exists_approved"] = articleNotExistApproved;
        sendData["site_code"] = __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getSiteCode();
        sendData["client_code"] = __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getClientCode();
        return __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__["a" /* HttpService */].post("article", sendData)
            .catch(function (error) {
            _this.Logger.error(error);
        });
    };
    ContentServiceClass.prototype.getArticleStats = function (contentId) {
        return __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__["a" /* HttpService */].get("article/stats", { content_id: contentId });
    };
    return ContentServiceClass;
}());

var ContentService = new ContentServiceClass();


/***/ }),
/* 160 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ApiContentModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__ = __webpack_require__(0);

var ApiContentModel = (function () {
    function ApiContentModel(data) {
        this.tags = [];
        if (!data)
            return;
        this.content_id = this.toString(data.ContentId);
        this.article_id = this.toString(data.article_id);
        this.title = this.toString(data.Title);
        this.keywords = this.toString(data.Keywords);
        this.section = this.toString(data.Section);
        this.url = data.Url;
        this.author = this.toString(data.Author);
        this.tags = data.Tags ? data.Tags.split(",") : this.tags;
        this.content_type = this.toString(data.ContentType);
        this.publish_date = data.PublishDate;
        this.lead_text = this.toString(data.LeadText);
        this.text = this.toString(data.Text);
        this.description = this.toString(data.Description);
        this.pictures = +data.Pictures;
        this.video = +data.Video;
        this.likes = +data.Likes;
        this.shares = +data.Shares;
        this.breaking_news = data.BreakingNews;
        this.premium = data.Premium;
        this.language = data.Language;
        this.lead_image_url = data.LeadImageUrl;
    }
    ApiContentModel.prototype.toString = function (value) {
        if (__WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].isset(value)) {
            return value.toString();
        }
        return null;
    };
    return ApiContentModel;
}());



/***/ }),
/* 161 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContentModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_DateUtil__ = __webpack_require__(17);

var ContentModel = (function () {
    function ContentModel(data) {
        if (!data)
            return;
        this.Title = data.Title;
        this.Keywords = data.Keywords;
        this.Section = data.Section;
        this.Url = data.Url;
        this.ContentType = data.ContentType;
        this.Author = data.Author;
        this.Tags = data.Tags;
        this.ContentId = data.ContentId;
        this.PublishDate = __WEBPACK_IMPORTED_MODULE_0__Utils_DateUtil__["a" /* DateUtil */].getISOFormat(data.PublishDate) || data.PublishDate;
        this.LeadText = data.LeadText;
        this.Text = data.Text;
        this.Description = data.Description;
        this.Pictures = data.Pictures;
        this.Video = data.Video;
        this.Likes = data.Likes;
        this.Shares = data.Shares;
        this.BreakingNews = data.BreakingNews;
        this.Premium = data.Premium;
        this.Language = data.Language;
        this.LeadImageUrl = data.LeadImageUrl;
    }
    ContentModel.prototype.isArticle = function () {
        return /article/i.test(this.ContentType);
    };
    return ContentModel;
}());



/***/ }),
/* 162 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Cookie; });
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var Cookie = (function () {
    function Cookie() {
    }
    Cookie.getStoredLogLevel = function () {
        console.log("getStoredLogLevel");
    };
    Cookie.stringifyAttribute = function (name, value) {
        if (!value) {
            return "";
        }
        var stringified = "; " + name;
        if (value === true) {
            return stringified;
        }
        return stringified + "=" + value;
    };
    Cookie.stringifyAttributes = function (attributes) {
        if (typeof attributes.expires === "number") {
            var expires = new Date();
            expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);
            attributes.expires = expires;
        }
        return this.stringifyAttribute("Expires", attributes.expires ? attributes.expires.toUTCString() : "")
            + this.stringifyAttribute("Domain", attributes.domain)
            + this.stringifyAttribute("Path", attributes.path)
            + this.stringifyAttribute("Secure", attributes.secure)
            + this.stringifyAttribute("SameSite", attributes.sameSite);
    };
    Cookie.encode = function (name, value, attributes) {
        return encodeURIComponent(name)
            .replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)
            .replace(/\(/g, "%28").replace(/\)/g, "%29")
            + "=" + encodeURIComponent(value)
            .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent)
            + this.stringifyAttributes(attributes);
    };
    Cookie.parse = function (cookieString) {
        var result = {};
        var cookies = cookieString ? cookieString.split("; ") : [];
        var rdecode = /(%[0-9A-Z]{2})+/g;
        for (var i = 0; i < cookies.length; i++) {
            var parts = cookies[i].split("=");
            var cookie = parts.slice(1).join("=");
            if (cookie.charAt(0) === "\"") {
                cookie = cookie.slice(1, -1);
            }
            try {
                var name_1 = parts[0].replace(rdecode, decodeURIComponent);
                result[name_1] = cookie.replace(rdecode, decodeURIComponent);
            }
            catch (e) {
            }
        }
        return result;
    };
    Cookie.getAll = function () {
        return this.parse(document.cookie);
    };
    Cookie.get = function (name) {
        return this.getAll()[name];
    };
    Cookie.set = function (name, value, attributes) {
        document.cookie = this.encode(name, value, __assign({ path: "/" }, attributes));
    };
    Cookie.remove = function (name, attributes) {
        this.set(name, "", __assign(__assign({}, attributes), { expires: -1 }));
    };
    return Cookie;
}());



/***/ }),
/* 163 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LogLevel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return LOG_LEVEL_STYLE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return LOG_LEVEL_STYLE2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return LogLevels; });
var LogLevel;
(function (LogLevel) {
    LogLevel[LogLevel["Trace"] = 0] = "Trace";
    LogLevel[LogLevel["Debug"] = 1] = "Debug";
    LogLevel[LogLevel["Warn"] = 2] = "Warn";
    LogLevel[LogLevel["Info"] = 3] = "Info";
    LogLevel[LogLevel["Error"] = 4] = "Error";
    LogLevel[LogLevel["Fatal"] = 5] = "Fatal";
})(LogLevel || (LogLevel = {}));
var LOG_LEVEL_STYLE = {
    0: "green",
    1: "#90be90",
    2: "#f1ce7a",
    3: "#009fdf",
    4: "red",
    5: "red"
};
var LOG_LEVEL_STYLE2 = {
    0: { color: "green", bg: "#f7fbf7" },
    1: { color: "green", bg: "#f7fbf7" },
    2: { color: "green", bg: "#f7fbf7" },
    3: { color: "green", bg: "#e5f2e5" },
    4: { color: "green", bg: "#e5f2e5" },
    5: { color: "green", bg: "#e5f2e5" }
};
var LogLevels = (function () {
    function LogLevels() {
    }
    LogLevels.FromString = function (val) {
        if (val == null) {
            throw new Error("LogLevel string must be set.");
        }
        switch (val.toUpperCase()) {
            case "TRACE":
                return LogLevel.Trace;
            case "DEBUG":
                return LogLevel.Debug;
            case "INFO":
                return LogLevel.Info;
            case "WARN":
                return LogLevel.Warn;
            case "ERROR":
                return LogLevel.Error;
            case "FATAL":
                return LogLevel.Fatal;
            default:
                throw new Error("Unsupported Log Level");
        }
    };
    return LogLevels;
}());



/***/ }),
/* 164 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_RESULT__;/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
/*jslint bitwise: true */
(function () {
  'use strict';

  var ERROR = 'input is invalid type';
  var WINDOW = typeof window === 'object';
  var root = WINDOW ? window : {};
  if (root.JS_SHA256_NO_WINDOW) {
    WINDOW = false;
  }
  var WEB_WORKER = !WINDOW && typeof self === 'object';
  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;
  if (NODE_JS) {
    root = global;
  } else if (WEB_WORKER) {
    root = self;
  }
  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;
  var AMD = "function" === 'function' && __webpack_require__(167);
  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';
  var HEX_CHARS = '0123456789abcdef'.split('');
  var EXTRA = [-2147483648, 8388608, 32768, 128];
  var SHIFT = [24, 16, 8, 0];
  var K = [
    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,
    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,
    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,
    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,
    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,
    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,
    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,
    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2
  ];
  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];

  var blocks = [];

  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {
    Array.isArray = function (obj) {
      return Object.prototype.toString.call(obj) === '[object Array]';
    };
  }

  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {
    ArrayBuffer.isView = function (obj) {
      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;
    };
  }

  var createOutputMethod = function (outputType, is224) {
    return function (message) {
      return new Sha256(is224, true).update(message)[outputType]();
    };
  };

  var createMethod = function (is224) {
    var method = createOutputMethod('hex', is224);
    if (NODE_JS) {
      method = nodeWrap(method, is224);
    }
    method.create = function () {
      return new Sha256(is224);
    };
    method.update = function (message) {
      return method.create().update(message);
    };
    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {
      var type = OUTPUT_TYPES[i];
      method[type] = createOutputMethod(type, is224);
    }
    return method;
  };

  var nodeWrap = function (method, is224) {
    var crypto = eval("require('crypto')");
    var Buffer = eval("require('buffer').Buffer");
    var algorithm = is224 ? 'sha224' : 'sha256';
    var nodeMethod = function (message) {
      if (typeof message === 'string') {
        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');
      } else {
        if (message === null || message === undefined) {
          throw new Error(ERROR);
        } else if (message.constructor === ArrayBuffer) {
          message = new Uint8Array(message);
        }
      }
      if (Array.isArray(message) || ArrayBuffer.isView(message) ||
        message.constructor === Buffer) {
        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');
      } else {
        return method(message);
      }
    };
    return nodeMethod;
  };

  var createHmacOutputMethod = function (outputType, is224) {
    return function (key, message) {
      return new HmacSha256(key, is224, true).update(message)[outputType]();
    };
  };

  var createHmacMethod = function (is224) {
    var method = createHmacOutputMethod('hex', is224);
    method.create = function (key) {
      return new HmacSha256(key, is224);
    };
    method.update = function (key, message) {
      return method.create(key).update(message);
    };
    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {
      var type = OUTPUT_TYPES[i];
      method[type] = createHmacOutputMethod(type, is224);
    }
    return method;
  };

  function Sha256(is224, sharedMemory) {
    if (sharedMemory) {
      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =
        blocks[4] = blocks[5] = blocks[6] = blocks[7] =
        blocks[8] = blocks[9] = blocks[10] = blocks[11] =
        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;
      this.blocks = blocks;
    } else {
      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
    }

    if (is224) {
      this.h0 = 0xc1059ed8;
      this.h1 = 0x367cd507;
      this.h2 = 0x3070dd17;
      this.h3 = 0xf70e5939;
      this.h4 = 0xffc00b31;
      this.h5 = 0x68581511;
      this.h6 = 0x64f98fa7;
      this.h7 = 0xbefa4fa4;
    } else { // 256
      this.h0 = 0x6a09e667;
      this.h1 = 0xbb67ae85;
      this.h2 = 0x3c6ef372;
      this.h3 = 0xa54ff53a;
      this.h4 = 0x510e527f;
      this.h5 = 0x9b05688c;
      this.h6 = 0x1f83d9ab;
      this.h7 = 0x5be0cd19;
    }

    this.block = this.start = this.bytes = this.hBytes = 0;
    this.finalized = this.hashed = false;
    this.first = true;
    this.is224 = is224;
  }

  Sha256.prototype.update = function (message) {
    if (this.finalized) {
      return;
    }
    var notString, type = typeof message;
    if (type !== 'string') {
      if (type === 'object') {
        if (message === null) {
          throw new Error(ERROR);
        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {
          message = new Uint8Array(message);
        } else if (!Array.isArray(message)) {
          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {
            throw new Error(ERROR);
          }
        }
      } else {
        throw new Error(ERROR);
      }
      notString = true;
    }
    var code, index = 0, i, length = message.length, blocks = this.blocks;

    while (index < length) {
      if (this.hashed) {
        this.hashed = false;
        blocks[0] = this.block;
        blocks[16] = blocks[1] = blocks[2] = blocks[3] =
          blocks[4] = blocks[5] = blocks[6] = blocks[7] =
          blocks[8] = blocks[9] = blocks[10] = blocks[11] =
          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;
      }

      if (notString) {
        for (i = this.start; index < length && i < 64; ++index) {
          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];
        }
      } else {
        for (i = this.start; index < length && i < 64; ++index) {
          code = message.charCodeAt(index);
          if (code < 0x80) {
            blocks[i >> 2] |= code << SHIFT[i++ & 3];
          } else if (code < 0x800) {
            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];
            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];
          } else if (code < 0xd800 || code >= 0xe000) {
            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];
            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];
            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];
          } else {
            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));
            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];
            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];
            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];
            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];
          }
        }
      }

      this.lastByteIndex = i;
      this.bytes += i - this.start;
      if (i >= 64) {
        this.block = blocks[16];
        this.start = i - 64;
        this.hash();
        this.hashed = true;
      } else {
        this.start = i;
      }
    }
    if (this.bytes > 4294967295) {
      this.hBytes += this.bytes / 4294967296 << 0;
      this.bytes = this.bytes % 4294967296;
    }
    return this;
  };

  Sha256.prototype.finalize = function () {
    if (this.finalized) {
      return;
    }
    this.finalized = true;
    var blocks = this.blocks, i = this.lastByteIndex;
    blocks[16] = this.block;
    blocks[i >> 2] |= EXTRA[i & 3];
    this.block = blocks[16];
    if (i >= 56) {
      if (!this.hashed) {
        this.hash();
      }
      blocks[0] = this.block;
      blocks[16] = blocks[1] = blocks[2] = blocks[3] =
        blocks[4] = blocks[5] = blocks[6] = blocks[7] =
        blocks[8] = blocks[9] = blocks[10] = blocks[11] =
        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;
    }
    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;
    blocks[15] = this.bytes << 3;
    this.hash();
  };

  Sha256.prototype.hash = function () {
    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,
      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;

    for (j = 16; j < 64; ++j) {
      // rightrotate
      t1 = blocks[j - 15];
      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);
      t1 = blocks[j - 2];
      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);
      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;
    }

    bc = b & c;
    for (j = 0; j < 64; j += 4) {
      if (this.first) {
        if (this.is224) {
          ab = 300032;
          t1 = blocks[0] - 1413257819;
          h = t1 - 150054599 << 0;
          d = t1 + 24177077 << 0;
        } else {
          ab = 704751109;
          t1 = blocks[0] - 210244248;
          h = t1 - 1521486534 << 0;
          d = t1 + 143694565 << 0;
        }
        this.first = false;
      } else {
        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));
        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));
        ab = a & b;
        maj = ab ^ (a & c) ^ bc;
        ch = (e & f) ^ (~e & g);
        t1 = h + s1 + ch + K[j] + blocks[j];
        t2 = s0 + maj;
        h = d + t1 << 0;
        d = t1 + t2 << 0;
      }
      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));
      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));
      da = d & a;
      maj = da ^ (d & b) ^ ab;
      ch = (h & e) ^ (~h & f);
      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];
      t2 = s0 + maj;
      g = c + t1 << 0;
      c = t1 + t2 << 0;
      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));
      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));
      cd = c & d;
      maj = cd ^ (c & a) ^ da;
      ch = (g & h) ^ (~g & e);
      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];
      t2 = s0 + maj;
      f = b + t1 << 0;
      b = t1 + t2 << 0;
      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));
      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));
      bc = b & c;
      maj = bc ^ (b & d) ^ cd;
      ch = (f & g) ^ (~f & h);
      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];
      t2 = s0 + maj;
      e = a + t1 << 0;
      a = t1 + t2 << 0;
    }

    this.h0 = this.h0 + a << 0;
    this.h1 = this.h1 + b << 0;
    this.h2 = this.h2 + c << 0;
    this.h3 = this.h3 + d << 0;
    this.h4 = this.h4 + e << 0;
    this.h5 = this.h5 + f << 0;
    this.h6 = this.h6 + g << 0;
    this.h7 = this.h7 + h << 0;
  };

  Sha256.prototype.hex = function () {
    this.finalize();

    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,
      h6 = this.h6, h7 = this.h7;

    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +
      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +
      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +
      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +
      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +
      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +
      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +
      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +
      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +
      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +
      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +
      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +
      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +
      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +
      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +
      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +
      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +
      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +
      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +
      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +
      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +
      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +
      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +
      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +
      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +
      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +
      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +
      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];
    if (!this.is224) {
      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +
        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +
        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +
        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];
    }
    return hex;
  };

  Sha256.prototype.toString = Sha256.prototype.hex;

  Sha256.prototype.digest = function () {
    this.finalize();

    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,
      h6 = this.h6, h7 = this.h7;

    var arr = [
      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,
      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,
      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,
      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,
      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,
      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,
      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF
    ];
    if (!this.is224) {
      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);
    }
    return arr;
  };

  Sha256.prototype.array = Sha256.prototype.digest;

  Sha256.prototype.arrayBuffer = function () {
    this.finalize();

    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);
    var dataView = new DataView(buffer);
    dataView.setUint32(0, this.h0);
    dataView.setUint32(4, this.h1);
    dataView.setUint32(8, this.h2);
    dataView.setUint32(12, this.h3);
    dataView.setUint32(16, this.h4);
    dataView.setUint32(20, this.h5);
    dataView.setUint32(24, this.h6);
    if (!this.is224) {
      dataView.setUint32(28, this.h7);
    }
    return buffer;
  };

  function HmacSha256(key, is224, sharedMemory) {
    var i, type = typeof key;
    if (type === 'string') {
      var bytes = [], length = key.length, index = 0, code;
      for (i = 0; i < length; ++i) {
        code = key.charCodeAt(i);
        if (code < 0x80) {
          bytes[index++] = code;
        } else if (code < 0x800) {
          bytes[index++] = (0xc0 | (code >> 6));
          bytes[index++] = (0x80 | (code & 0x3f));
        } else if (code < 0xd800 || code >= 0xe000) {
          bytes[index++] = (0xe0 | (code >> 12));
          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));
          bytes[index++] = (0x80 | (code & 0x3f));
        } else {
          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));
          bytes[index++] = (0xf0 | (code >> 18));
          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));
          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));
          bytes[index++] = (0x80 | (code & 0x3f));
        }
      }
      key = bytes;
    } else {
      if (type === 'object') {
        if (key === null) {
          throw new Error(ERROR);
        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {
          key = new Uint8Array(key);
        } else if (!Array.isArray(key)) {
          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {
            throw new Error(ERROR);
          }
        }
      } else {
        throw new Error(ERROR);
      }
    }

    if (key.length > 64) {
      key = (new Sha256(is224, true)).update(key).array();
    }

    var oKeyPad = [], iKeyPad = [];
    for (i = 0; i < 64; ++i) {
      var b = key[i] || 0;
      oKeyPad[i] = 0x5c ^ b;
      iKeyPad[i] = 0x36 ^ b;
    }

    Sha256.call(this, is224, sharedMemory);

    this.update(iKeyPad);
    this.oKeyPad = oKeyPad;
    this.inner = true;
    this.sharedMemory = sharedMemory;
  }
  HmacSha256.prototype = new Sha256();

  HmacSha256.prototype.finalize = function () {
    Sha256.prototype.finalize.call(this);
    if (this.inner) {
      this.inner = false;
      var innerHash = this.array();
      Sha256.call(this, this.is224, this.sharedMemory);
      this.update(this.oKeyPad);
      this.update(innerHash);
      Sha256.prototype.finalize.call(this);
    }
  };

  var exports = createMethod();
  exports.sha256 = exports;
  exports.sha224 = createMethod(true);
  exports.sha256.hmac = createHmacMethod();
  exports.sha224.hmac = createHmacMethod(true);

  if (COMMON_JS) {
    module.exports = exports;
  } else {
    root.sha256 = exports.sha256;
    root.sha224 = exports.sha224;
    if (AMD) {
      !(__WEBPACK_AMD_DEFINE_RESULT__ = function () {
        return exports;
      }.call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    }
  }
})();

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(165), __webpack_require__(166)))

/***/ }),
/* 165 */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),
/* 166 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1,eval)("this");
} catch(e) {
	// This works if the window reference is available
	if(typeof window === "object")
		g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 167 */
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(exports, {}))

/***/ }),
/* 168 */,
/* 169 */
/***/ (function(module, exports) {

window.g2ExtendInits = {
    default: {
        cdp: {
            enabled: false
        },
        dimensions: {}
    },
};


/***/ }),
/* 170 */,
/* 171 */,
/* 172 */,
/* 173 */,
/* 174 */,
/* 175 */,
/* 176 */,
/* 177 */,
/* 178 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(169);
module.exports = __webpack_require__(63);


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgODkxYmIxYzQ0MTU3ZGM0YTYzYTE/MjBlYyoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3V0aWxzL1V0aWxzLnRzPzQ2MDQqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi91dGlscy9sb2dnZXIvTG9nZ2VyLkNvcmUudHM/ODAzNCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvU3BFdmVudC50cz9hMTczKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9Db25uZXh0R3RtVGFnRXZlbnQudHM/Yjg3NioqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvY2RwTW9kdWxlL0NkcE1vZHVsZS50cz81NGI3KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlLnRzP2YyOTIqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb3JlL2NvbnN0YW50cy9Db25zdGFudHMudHM/MmIwZCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3V0aWxzL2xvZ2dlci9Mb2dnZXJTZXJ2aWNlLnRzPzlkYmUqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvQ29ubmV4dEV2ZW50LnRzPzBhZmMqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9TcEd0bVRhZ0V2ZW50LnRzP2MwZDMqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL1Nlc3Npb25TZXJ2aWNlLnRzPzc0NzEqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi91dGlscy9EZXZpY2VEZXRlY3Rvci50cz9lYWE5KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudHNNYW5hZ2VyLnRzPzRiNjUqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9kYXRhL21vZHVsZXMvSHR0cFNlcnZpY2UudHM/YjhjNyoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvSW5kZXgudHM/MmY3MioqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnQudHM/MGIwMCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvcmUvY29uc3RhbnRzL0ZpcnN0VmlzaXRQcm9wZXJ0aWVzLnRzP2E0ZDYqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi91dGlscy9EYXRlVXRpbC50cz9mZmI2KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9tb2RlbHMvU2hvcnRPZmZlck1vZGVsLnRzPzA5ODcqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb3JlL2NvbnN0YW50cy9QbHVnaW5Jbm5lckV2ZW50cy50cz8wZjNmKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9kaW1lbnNpb25zTW9kdWxlL0RpbWVuc2lvbnNNb2R1bGUudHM/NWI1MSoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3V0aWxzL0J1Z1RyYWNrVXRpbC50cz81NGYxKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvT2ZmZXJFdmVudERhdGFFdmVudC50cz9hNjZmKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jb25zdGFudHMvRXZlbnRzLnRzP2I5YTQqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL01ldGFEYXRhU2VydmljZS50cz84MTgxKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9Vc2VyU2VydmljZS50cz9kNzEzKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25uZXh0TW9kdWxlL0Nvbm5leHRNb2R1bGUudHM/OTViYyoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9tb2RlbHMvQ2FsY3VsYXRpb25SZXN1bHRNb2RlbC50cz8zZWI0KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9Db2xsZWN0b3IudHM/NzA5MCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL0FkZHJlc3NNb2RlbC50cz80MzcxKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9tb2RlbHMvVXNlckluZm9ybWF0aW9uTW9kZWwudHM/ZDBkNyoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL0NkcEV2ZW50TW9kZWwudHM/MzdkZCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L0RldmljZU1vZGVsLnRzPzM1YjcqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9zcC9PZmZlclRhZ01vZGVsLnRzPzFjOWYqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb3JlL3N0b3JhZ2VzL2Nvb2tpZXMvQ29va2llc1N0b3JhZ2UudHM/ODZjYSoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2RhdGEvbW9kZWxzL2NvbW1vbi9Vc2VyTW9kZWwudHM/YzM0YyoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvRXZlbnRTZXJ2aWNlLnRzP2RhZTMqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tb2R1bGVzL2RhdGFDb2xsZWN0b3IvRGF0YUNvbGxlY3Rvci50cz85ZjRkKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9kZXZpY2VNb2R1bGUvRGV2aWNlTW9kdWxlLnRzPzU5NzgqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9PZmZlcnNFdmVudERhdGFFdmVudC50cz9lYWViKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9tb2RlbHMvT2ZmZXJNb2RlbC50cz9mMjcxKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvU2VuZE9wdGlvbnNNb2RlbC50cz82ZWVlKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvTG9jYXRpb25Nb2RlbC50cz9iOGQ2KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvUGFnZU1vZGVsLnRzPzkwYzUqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NvbnN0YW50cy9Db2xsZWN0b3JUeXBlcy50cz9jYjdkKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jb25zdGFudHMvUGF5bWVudFR5cGVzLnRzPzg5ZTcqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvR3RtVGFnQ29sbGVjdG9yLnRzPzk1ZGIqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvR3RtVGFnRXZlbnQudHM/OGJjYioqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL01ldGVyU3RhcnRUYWdFdmVudC50cz80YTQ3KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvTWV0ZXJTdG9wVGFnRXZlbnQudHM/NjMxNCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvcmUvYmFzZS9mYWN0b3J5L0ZhY3RvcnkudHM/MDM1OCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvcmUvc3RvcmFnZXMvaHR0cC9IdHRwLnRzPzk2NDgqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9kYXRhL21vZGVscy9jb25uZXh0L0FjdGlvbk1vZGVscy50cz83M2Q4KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vZGF0YS9tb2R1bGVzL0xvY2FsU3RvcmFnZVNlcnZpY2UudHM/MDRlMCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvQXp1cmVTZXJ2aWNlLnRzPzA1NjkqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL0ZhaWxlZEV2ZW50U2VydmljZS50cz9kY2VkKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9UYWdNYW5hZ2VyU2VydmljZS50cz81MWJlKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9ib3REZXRlY3Rpb24vQm90RGV0ZWN0b3IudHM/OTllMyoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvY29uZmlnTW9kdWxlL29wdGlvbnMvbW9kZWxzL01pc2NPcHRpb25zSW50ZXJmYWNlLnRzP2JmOTMqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tb2R1bGVzL2Nvbm5leHRNb2R1bGUvY2xhc3Nlcy9Db252ZXJzYXRpb25NYW5hZ2VyLnRzPzk2ZDkqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tb2R1bGVzL21pc2NNb2R1bGUvTWlzY01vZHVsZS50cz83NDcwKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9wYWdlTW9kdWxlL1BhZ2VNb2R1bGUudHM/NGNjNSoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3V0aWxzL2xvZ2dlci9Mb2dnZXIudHM/ZjI3ZCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHM/NzM1MyoqKioqKiIsIndlYnBhY2s6Ly8vLi9jb25maWcvQ29tbW9uQ29uZmlnRGF0YS50cz85M2I1KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vRExDZHBQdWJsaWMudHM/YWI2ZSoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1BsdWdpbi50cz9lMzM5KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vUHVibGljUGx1Z2luLnRzPzkxZWMqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcENvbGxlY3Rvck1vZHVsZS50cz81NjQxKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9Db2xsZWN0b3JGYWN0b3J5LnRzPzc1NTgqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvQ29ubmV4dENvbGxlY3Rvci50cz82N2NkKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9BY3Rpb25TaG93bi50cz9hMGFlKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9BY3RpdmF0ZVN1Y2Nlc3MudHM/NjI2OCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvQ2xpY2sudHM/Yzk0YyoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvQ29ubmV4dFBhZ2VWaWV3LnRzPzM2Y2EqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvZXZlbnRzL0NyZWF0ZUFjY291bnQudHM/OTMxZCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvQ3RybEMudHM/ODdiNSoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvTG9naW4udHM/YWZlMyoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvTmV3c2xldHRlckFycml2YWwudHM/NTIzYyoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvTmV3c2xldHRlclNpZ251cC50cz8wNGFiKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9pbmRleC50cz9jYzlhKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL21vZGVscy9Db25uZXh0VXNlck1vZGVsLnRzPzEzODAqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL1NwQ29sbGVjdG9yLnRzPzRiMDcqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9BYmFuZG9uQ2xvc2VkLnRzP2E3NjIqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9BYmFuZG9uUHJlc2VudGVkLnRzPzNkMWYqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9DaGVja291dFN0YXJ0LnRzPzEwZTMqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9DcmVhdGVkTmV3VXNlci50cz8zZTljKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvRm9ybUNvbXBsZXRlZC50cz8xNTUxKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvRm9ybUNvbXBsZXRlZERlbGl2ZXJ5QWRkcmVzcy50cz9jZDY3KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvRm9ybUNvbXBsZXRlZFBheW1lbnQudHM/OWI4MyoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL0Zvcm1Db21wbGV0ZWRVc2VySW5mby50cz9kMmU5KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvSWRsZUNsb3NlZC50cz9lMDBjKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvSWRsZVByZXNlbnRlZC50cz8xYTU2KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvaW5kZXgudHM/NTA5ZSoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyRXZlbnREYXRhL09mZmVyU2VsZWN0ZWQudHM/ZDc1ZioqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyRXZlbnREYXRhL1N1YnNjcmlwdGlvblN1Y2Nlc3MudHM/NzUwNioqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyRXZlbnREYXRhL1Vwc2VsbFJlbW92ZWQudHM/NzVhNioqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyRXZlbnREYXRhL1Vwc2VsbFNlbGVjdGVkLnRzPzVkY2QqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9vZmZlckV2ZW50RGF0YS9pbmRleC50cz8yNzUzKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvb2ZmZXJzRXZlbnREYXRhL0FwcGxlUGF5UHJlc2VudGVkLnRzP2Y5MzMqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9vZmZlcnNFdmVudERhdGEvT2ZmZXJzUHJlc2VudGVkLnRzPzJhNDkqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9vZmZlcnNFdmVudERhdGEvaW5kZXgudHM/Yjk4NSoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29tbW9uRXZlbnRzL0NvbW1vbkV2ZW50c0NvbGxlY3Rvci50cz82YWY0KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvZXZlbnRzL0RldmljZUlkQ2hhbmdlLnRzPzQ1OTMqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbW1vbkV2ZW50cy9ldmVudHMvTGVhdmVQYWdlLnRzPzBhODAqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbW1vbkV2ZW50cy9ldmVudHMvUGFnZVZpZXcudHM/YzBlOSoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29tbW9uRXZlbnRzL2V2ZW50cy9pbmRleC50cz84NjBmKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvQ2FtcGFpZ25Nb2RlbC50cz80OTEzKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvQ29ubmV4dFBhZ2VWaWV3RGF0YU1vZGVsLnRzPzljYzgqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9wYWdlVmlldy9QYWdlVmlld0RhdGFNb2RlbC50cz81ZjI1KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvVXNlck1vZGVsLnRzP2RmYjYqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvR3RtVGFnQ29sbGVjdG9yRmFjdG9yeS50cz80NjRhKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL0d0bVRhZ01vZHVsZS50cz8wMzAyKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9Db25uZXh0R3RtVGFnQ29sbGVjdG9yLnRzPzk1ODIqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9BY3Rpb25TaG93blRhZ0V2ZW50LnRzP2I1MGQqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9BdXRob3JpemVkVGFnRXZlbnQudHM/OGU1OCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL0NvbnZlcnNhdGlvbkRldGVybWluZWRUYWdFdmVudC50cz82YWUwKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvSGFzQWNjZXNzVGFnRXZlbnQudHM/ZDNkMCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL01ldGVyTGV2ZWxTZXRUYWdFdmVudC50cz8wNTI2KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvTmV3c2xldHRlclNpZ25VcFRhZ0V2ZW50LnRzPzRjN2YqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9Ob3RBdXRob3JpemVkVGFnRXZlbnQudHM/YzJlOCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL09uSW5pdFRhZ0V2ZW50LnRzPzE3NTEqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9QYWdlVmlld1RhZ0V2ZW50LnRzPzgwMzEqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9pbmRleC50cz8zZTZlKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvU3BHdG1UYWdDb2xsZWN0b3IudHM/ZDIwNioqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9CaWxsaW5nQWRkcmVzc0NvbXBsZXRlZFRhZ0V2ZW50LnRzPzhjNWMqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvQ2hlY2tvdXRTdGFydFRhZ0V2ZW50LnRzPzZhNmIqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvQ3JlYXRlZE5ld1VzZXJ0YWdFdmVudC50cz8xMjdmKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL0RlbGV2ZXJ5QWRkcmVzc0NvbXBsZXRlZC50cz9iNGU4KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL09mZmVyU2VsZWN0ZWRUYWdFdmVudC50cz8zYjY4KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL09mZmVyc1ByZXNlbnRlZFRhZ0V2ZW50LnRzP2QwOTcqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvUGF5bWVudENvbXBsZXRlZFRhZ0V2ZW50LnRzP2ZiODgqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvU3Vic2NyaXB0aW9uU3VjY2Vzc1RhZ0V2ZW50LnRzPzg2NDYqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvVXNlckluZm9Db21wbGV0ZWRUYWdFdmVudC50cz8wZWMxKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL2luZGV4LnRzP2ZlNjAqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb3JlL2RvbS9Eb20udHM/ZDI2ZioqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvcmUvc3RvcmFnZXMvY29va2llcy9Db29raWVEdWJsaWNhdG9yLnRzPzdlNGQqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb3JlL3N0b3JhZ2VzL2Nvb2tpZXMvSnNDb29raWUudHM/NGQ2YSoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvcmUvc3RvcmFnZXMvbG9jYWwvTG9jYWxTdG9yYWdlLnRzPzNjOGQqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL0FwcEluc2lnaHRzU2VydmljZS50cz82MWZhKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9ib3REZXRlY3Rpb24vQm90TGlzdC50cz9hY2MwKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9ib3REZXRlY3Rpb24vQm90TW9kZWwudHM/OTk3MioqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvY2RwTW9kdWxlL0NkcERhdGFMYXllci50cz9jZWU5KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jZHBNb2R1bGUvRXJJbnRlcnByZXRhdGlvbi50cz8xYWI0KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jZHBNb2R1bGUvUmVjb21lbmRhdGlvbnMudHM/NTQ0YSoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvY2RwTW9kdWxlL1VzZXJJbnRlcmVzdHMudHM/YTUxMCoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvY29uZmlnTW9kdWxlL29wdGlvbnMvbW9kZWxzL09wdGlvbnNNb2RlbC50cz84ZDA1KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25uZXh0TW9kdWxlL2NsYXNzZXMvQWN0aW9uTWFuYWdlci50cz9jOGU0KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9kYXRhQ29sbGVjdG9yL2NsYXNzZXMvRmlyc3RWaXNpdERhdGFDb2xsZWN0b3IudHM/ZDQ2NyoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvZGF0YUNvbGxlY3Rvci9tb2RlbHMvRGF0YVRpbWVyTW9kZWwudHM/NTc5ZSoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvZGF0YUNvbGxlY3Rvci9tb2RlbHMvRmlyc3RWaXNpdERhdGFNb2RlbC50cz84NzQxKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9kaW1lbnNpb25zTW9kdWxlL2NsYXNzZXMvQ29tbW9uTWV0YURhdGEudHM/YjViYioqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9tb2RlbHMvQ29tbWFuZE1vZGVsLnRzPzJkZTMqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tb2R1bGVzL21pc2NNb2R1bGUvbW9kZWxzL0phdmFzY3JpcHRNb2RlbC50cz8wMzdlKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9taXNjTW9kdWxlL21vZGVscy9Qcm9taXNlTW9kZWwudHM/NjRmNioqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9tb2RlbHMvU2VsZWN0b3JNb2RlbC50cz82YjJkKioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9taXNjTW9kdWxlL21vZGVscy9jb21tYW5kTW9kZWxzL0Nvb2tpZUdldHRlck1vZGVsLnRzPzMwOGIqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tb2R1bGVzL3BhZ2VNb2R1bGUvY2xhc3Nlcy9Db250ZW50U2VydmljZS50cz8xNGU2KioqKioqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9wYWdlTW9kdWxlL21vZGVscy9BcGlDb250ZW50TW9kZWwudHM/ZTkyYSoqKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvcGFnZU1vZHVsZS9tb2RlbHMvQ29udGVudE1vZGVsLnRzPzVhZWYqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi91dGlscy9jb29raWUvQ29va2llLnRzPzkzZGUqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi91dGlscy9sb2dnZXIvTG9nZ2VyT3B0aW9ucy50cz8zN2E0KioqKioqIiwid2VicGFjazovLy8uL34vanMtc2hhMjU2L3NyYy9zaGEyNTYuanM/YzQ4NSoqKioqKiIsIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcz9iNzc3KioqKioqIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/OWUwNCoqKioqKiIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vYW1kLW9wdGlvbnMuanM/NWY3MSoqKioqKiIsIndlYnBhY2s6Ly8vLi9jb25maWcvY2xpZW50cy9EZWZhdWx0LnRzPzFhYjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtREFBMkMsY0FBYzs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7O0FDaEVvRTtBQUVwRTtJQUFBO0lBc1hBLENBQUM7SUFqWFUsdUJBQWlCLEdBQXhCO1FBQ0ksT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBRXJDLENBQUM7SUFRTSx5QkFBbUIsR0FBMUIsVUFBMkIsR0FBa0IsRUFBRSxPQUFlLEVBQUUsT0FBZTtRQUMzRSxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLFVBQUMsR0FBRyxFQUFFLElBQUk7WUFDOUIsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDbEMsT0FBTyxHQUFHO1FBQ2QsQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUNOLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFNTSx1QkFBaUIsR0FBeEIsVUFBeUIsR0FBVztRQUNoQyxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDaEIsSUFBSSxHQUFHLEVBQUU7WUFDTCxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2hDLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBQyxHQUFHO2dCQUNaLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNuRCxDQUFDLENBQUMsQ0FBQztTQUNOO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQU9NLDRCQUFzQixHQUE3QixVQUE4QixHQUFHLEVBQUUsR0FBRztRQUF0QyxpQkFLQztRQUpHLE9BQU8sR0FBRyxDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFDLENBQUMsRUFBRSxDQUFDO1lBQzdELEtBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLDBCQUEwQixFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzlELE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hCLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNaLENBQUM7SUFRTSxnQ0FBMEIsR0FBakMsVUFBa0MsR0FBVyxFQUFFLE1BQVcsRUFBRSxNQUFlO1FBQ3ZFLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDaEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFDLEdBQUc7WUFDWixJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLFFBQVEsRUFBRTtnQkFDNUIsS0FBSyxDQUFDLDBCQUEwQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDNUQ7aUJBQU07Z0JBQ0gsSUFBSSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM5QyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7YUFDL0M7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUNILE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFTSxhQUFPLEdBQWQsVUFBZSxHQUFRO1FBQ25CLElBQUksQ0FBQyxHQUFHO1lBQUUsT0FBTyxFQUFFLENBQUM7UUFDcEIsSUFBSSxRQUFRLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFDM0IsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQ25CLFFBQVEsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QixPQUFPLENBQUMsRUFBRTtZQUNOLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsRCxPQUFPLFFBQVEsQ0FBQztJQUNwQixDQUFDO0lBU00sc0JBQWdCLEdBQXZCLFVBQXdCLFNBQWlCLEVBQUUsU0FBaUIsRUFBRSxLQUFhLEVBQUUsSUFBYztRQUN2RixJQUFJLEtBQUssR0FBYSxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDckQsS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFDLEVBQUU7WUFDYixFQUFFLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLFVBQUMsS0FBSztnQkFDN0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2hCLENBQUMsQ0FBQztRQUNOLENBQUMsQ0FBQztJQUNOLENBQUM7SUFvRk0sbUJBQWEsR0FBcEIsVUFBcUIsVUFBa0I7UUFDbkMsSUFBSSxNQUFNLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUN2RCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRU0sZUFBUyxHQUFoQixVQUFpQixJQUFZO1FBQ3pCLElBQUksTUFBTSxHQUFvQixFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQztRQUNqRCxJQUFJO1lBQ0EsSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFO2dCQUVkLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDL0IsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7YUFDekI7WUFDRCxPQUFPLE1BQU0sQ0FBQztTQUNqQjtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsMEJBQTBCLENBQUMsQ0FBQztZQUM3QyxPQUFPLE1BQU0sQ0FBQztTQUNqQjtJQUNMLENBQUM7SUFFTSxrQkFBWSxHQUFuQixVQUFvQixHQUFXO1FBQzNCLElBQUk7WUFDQSxJQUFJLEdBQUcsQ0FBQyxXQUFXLEVBQUUsS0FBSyxNQUFNLEVBQUU7Z0JBQzlCLE9BQU8sSUFBSSxDQUFDO2FBQ2Y7aUJBQU07Z0JBQ0gsT0FBTyxLQUFLLENBQUM7YUFDaEI7U0FDSjtRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ1osT0FBTyxDQUFDLFNBQVMsQ0FBQyxjQUFjLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDekMsT0FBTyxLQUFLLENBQUM7U0FDaEI7SUFDTCxDQUFDO0lBRU0saUJBQVcsR0FBbEIsVUFBbUIsR0FBVztRQUMxQixJQUFJLENBQUMsR0FBRyxFQUFFO1lBQ04sT0FBTyxFQUFFLENBQUM7U0FDYjtRQUNELE9BQU8sR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxJQUFJO1lBQ2xELE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxRCxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDakIsQ0FBQztJQUVNLGdCQUFVLEdBQWpCO1FBQ0ksT0FBTyxzQ0FBc0MsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQztZQUN0RSxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUNqRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDeEMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzFCLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVNLHVCQUFpQixHQUF4QjtRQUNJLE9BQU8sQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQzdFLENBQUM7SUFFTSw0QkFBc0IsR0FBN0I7UUFDSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFFeEMsT0FBTyxJQUFJLENBQUM7U0FDZjthQUFNO1lBRUgsT0FBTyxLQUFLLENBQUM7U0FDaEI7SUFDTCxDQUFDO0lBRU0sZ0JBQVUsR0FBakI7UUFDSSxJQUFJLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO1lBRTlCLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7YUFBTTtZQUVILE9BQU8sS0FBSyxDQUFDO1NBQ2hCO0lBQ0wsQ0FBQztJQUVNLHdCQUFrQixHQUF6QjtRQUNJLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBRXZCLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7YUFBTTtZQUVILE9BQU8sS0FBSyxDQUFDO1NBQ2hCO0lBQ0wsQ0FBQztJQUVNLG9CQUFjLEdBQXJCO1FBQ0ksSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFFbkIsT0FBTyxJQUFJLENBQUM7U0FDZjthQUFNO1lBRUgsT0FBTyxLQUFLLENBQUM7U0FDaEI7SUFDTCxDQUFDO0lBRU0sZ0JBQVUsR0FBakI7UUFFSSxPQUFPLENBQUMsaUJBQWlCLElBQUksT0FBTyxDQUFDO0lBQ3pDLENBQUM7SUFBQSxDQUFDO0lBRUsseUJBQW1CLEdBQTFCO1FBRUksT0FBTyxDQUFDLDJCQUEyQixJQUFJLE9BQU8sQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFBQSxDQUFDO0lBRUssOEJBQXdCLEdBQS9CO1FBQ0ksSUFBSSxpQkFBaUIsR0FBRyxRQUFRLENBQUM7UUFFakMsSUFBSSxZQUFZLElBQUksTUFBTSxFQUFFO1lBQ3hCLGlCQUFpQixHQUFHLFVBQVUsQ0FBQztTQUNsQztRQUVELE9BQU8saUJBQWlCLENBQUM7SUFDN0IsQ0FBQztJQUVNLHFCQUFlLEdBQXRCO1FBQ0ksT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1lBQy9CLElBQUksU0FBUyxDQUFDLFdBQVcsRUFBRTtnQkFDdkIsU0FBUyxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLFFBQVE7b0JBQ3ZELE9BQU8sQ0FBQzt3QkFDSixHQUFHLEVBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRO3dCQUM3QixJQUFJLEVBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxTQUFTO3FCQUNsQyxDQUFDLENBQUM7Z0JBQ1AsQ0FBQyxFQUFFO29CQUNDLE1BQU0sRUFBRSxDQUFDO2dCQUNiLENBQUMsQ0FBQyxDQUFDO2FBQ047aUJBQU07Z0JBRUgsTUFBTSxFQUFFLENBQUM7YUFDWjtRQUNMLENBQUMsQ0FBQztJQUVOLENBQUM7SUFFTSxhQUFPLEdBQWQsVUFBZSxHQUFHO1FBQ2QsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVNLFdBQUssR0FBWixVQUFhLEtBQVU7UUFDcEIsT0FBTyxDQUFDLENBQUMsT0FBTyxLQUFLLElBQUksV0FBVyxJQUFJLEtBQUssSUFBSSxJQUFJLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBRU0sNEJBQXNCLEdBQTdCLFVBQThCLEdBQUc7UUFDN0IsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLElBQUksT0FBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFFBQVEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksU0FBUyxDQUFDLEVBQUU7WUFDcEQsS0FBSyxJQUFJLElBQUksSUFBSSxHQUFHLEVBQUU7Z0JBQ2xCLElBQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUMsR0FBRSxDQUFDO2dCQUM5RCxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksR0FBQyxHQUFHLEdBQUUsS0FBSyxDQUFDLENBQUM7YUFDaEM7WUFBQSxDQUFDO1NBQ0w7UUFFTCxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQUVNLDBCQUFvQixHQUEzQjtRQUNJLElBQVUsTUFBTyxDQUFDLFNBQVMsRUFBRTtZQUN6QixPQUFhLE1BQU8sQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLENBQUM7U0FDbEQ7YUFBTTtZQUNKLE9BQU8sMEJBQTBCO1NBQ25DO0lBQ04sQ0FBQztJQUVNLCtCQUF5QixHQUFoQztRQUNJLElBQVUsTUFBTyxDQUFDLFdBQVcsRUFBRTtZQUMzQixPQUFhLE1BQU8sQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLENBQUM7U0FDcEQ7YUFBTTtZQUNKLE9BQU8sNEJBQTRCO1NBQ3JDO0lBQ04sQ0FBQztJQUVNLGlCQUFXLEdBQWxCO1FBQ0ksSUFBVSxNQUFPLENBQUMsa0JBQWtCLEVBQUU7WUFDbEMsT0FBYSxNQUFPLENBQUMsa0JBQWtCLENBQUMscUJBQXFCLEVBQUUsS0FBSyxPQUFPLENBQUM7U0FDL0U7YUFBTTtZQUNILE9BQU8sS0FBSyxDQUFDO1NBQ2hCO0lBQ0wsQ0FBQztJQUVNLDZCQUF1QixHQUE5QixVQUErQixHQUFXLEVBQUUsR0FBVztRQUNuRCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUM3RCxDQUFDO0lBRU0sNEJBQXNCLEdBQTdCLFVBQ0ksT0FBb0MsRUFDcEMsU0FBaUIsRUFDakIsUUFBa0IsRUFDbEIsT0FBK0M7UUFBL0MseUNBQStDO1FBRS9DLElBQU0sUUFBUSxHQUFHLFVBQVUsQ0FBUTtZQUMvQixJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO2dCQUN0QixPQUFPO2FBQ1Y7WUFDRCxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM5QixDQUFDLENBQUM7UUFDRixPQUFPLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2RCxPQUFPLFFBQVEsQ0FBQztJQUNwQixDQUFDO0lBQUEsQ0FBQztJQW5YSyxZQUFNLEdBQVcsZ0ZBQWEsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7SUFtR3JELGdDQUEwQixHQUFHLFVBQVUsR0FBRyxFQUFFLElBQUk7UUFDbkQsSUFBSSxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3hCLE9BQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNqQzthQUFNLElBQUksR0FBRyxDQUFDLGFBQWEsRUFBRTtZQUMxQixPQUFPLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ25FOztZQUFNLE9BQU8sSUFBSSxDQUFDO0lBQ3ZCLENBQUMsQ0FBQztJQVFLLG1DQUE2QixHQUFHLFVBQVUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLO1FBQzdELElBQUksR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUV4QixJQUFJLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ3ZELE9BQU8sR0FBRyxDQUFDO2FBQ2Q7aUJBQ0k7Z0JBQ0QsT0FBTyxJQUFJLENBQUMsNkJBQTZCLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7YUFDN0U7U0FDSjthQUFNLElBQUksR0FBRyxDQUFDLGFBQWEsRUFBRTtZQUMxQixPQUFPLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztTQUM3RTs7WUFDSSxPQUFPLElBQUksQ0FBQztJQUNyQixDQUFDO0lBT00sMkJBQXFCLEdBQUcsVUFBVSxFQUFFLEVBQUUsT0FBTztRQUNoRCxJQUFJLE1BQU0sR0FBRyx1QkFBdUIsQ0FBQztRQUNyQyxPQUFPLEdBQUcsT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBRWhDLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUM7UUFFdkMsSUFBSSxPQUFPLEtBQUssT0FBTyxJQUFJLEVBQUUsQ0FBQyxhQUFhLEVBQUU7WUFFekMsT0FBTyxJQUFJLENBQUMscUJBQXFCLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUNoRTthQUFNLElBQUksT0FBTyxLQUFLLE9BQU8sRUFBRTtZQUU1QixPQUFPLEVBQUUsQ0FBQztTQUNiO2FBQU07WUFFSCxPQUFPLEtBQUssQ0FBQztTQUNoQjtJQUNMLENBQUM7SUFNTSxtQ0FBNkIsR0FBRyxVQUFVLFdBQVc7UUFFeEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNoRyxPQUFPLEtBQUssQ0FBQztRQUVqQixJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsNkJBQTZCLENBQUMsV0FBVyxFQUFFLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQztRQUMzRixJQUFJLFlBQVksSUFBSSxZQUFZLENBQUMsUUFBUSxFQUFFO1lBQ3ZDLElBQUksZUFBZSxHQUFHLFlBQVksQ0FBQyxRQUFRLENBQUM7WUFDNUMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLGVBQWUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBRTdDLElBQUksZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsdUJBQXVCLENBQUMsS0FBSyxZQUFZO29CQUNySSxPQUFPLElBQUksQ0FBQzthQUNuQjtTQUNKO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQTBNTCxZQUFDO0NBQUE7QUF0WGlCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0Z1RTtBQUN6QztBQUNkOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNENkI7QUFDckI7QUFDaUI7QUFDb0I7QUFFekI7QUFJdEQ7SUFBNkIsMkJBQVE7SUFJakM7UUFBQSxZQUNJLGlCQUFPLFNBRVY7UUFERyxLQUFJLENBQUMsY0FBYyxHQUFHLHFGQUFjLENBQUMsUUFBUSxDQUFDOztJQUNsRCxDQUFDO0lBRU0sd0JBQU0sR0FBYjtRQUFBLGlCQWlCQztRQWhCRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyw4QkFBOEIsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUMzRCxJQUFJO1lBQ0EsSUFBSSxJQUFJLENBQUMsa0JBQWtCLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQy9ELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsVUFBQyxTQUFTLEVBQUUsR0FBRztvQkFDM0MsS0FBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDaEMsQ0FBQyxDQUFDO2FBQ0w7aUJBQU07Z0JBQ0gsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEVBQUU7b0JBQ3hCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7aUJBQzVDO3FCQUFNO29CQUNILElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7aUJBQ2hEO2FBQ0o7U0FDSjtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsbUNBQW1DLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDN0Q7SUFDTCxDQUFDO0lBRU0sNkJBQVcsR0FBbEIsVUFBbUIsU0FBUztRQUE1QixpQkFVQztRQVRHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLDhCQUE4QixFQUFFLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN0RSxJQUFJO1lBQ0EsRUFBRSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLFVBQUMsSUFBSTtnQkFDakMsS0FBSSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUMzQyxDQUFDLENBQUMsQ0FBQztTQUVOO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxtQ0FBbUMsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUM3RDtJQUNMLENBQUM7SUFFTSxrQ0FBZ0IsR0FBdkIsVUFBd0IsU0FBaUIsRUFBRSxJQUFTO1FBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUM7UUFDOUIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFNBQVMsQ0FBQztRQUNsQyxxR0FBZ0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUdELCtCQUFhLEdBQWI7UUFDSSxJQUFJLENBQUMsVUFBVSxHQUFHLGlCQUFNLGFBQWEsV0FBRSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxHQUFJLDRFQUFTLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQztRQUM3RCxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUMzQixPQUFPLElBQUksNEVBQWEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVELHFDQUFtQixHQUFuQjtRQUNJLElBQU0sV0FBVyxHQUFJLE1BQWMsQ0FBQyxNQUFNLENBQUM7UUFDM0MsSUFBTSxZQUFZLEdBQUcsV0FBVyxJQUFJLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFDLENBQUMsU0FBUyxDQUFDO1FBQ3JHLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxlQUFlLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUM7SUFDbEYsQ0FBQztJQUNMLGNBQUM7QUFBRCxDQUFDLENBN0Q0QiwyREFBUSxHQTZEcEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2RW9DO0FBQ1c7QUFFaEQ7SUFBd0Msc0NBQVc7SUFBbkQ7O0lBYUEsQ0FBQztJQVpVLG1DQUFNLEdBQWI7UUFBQSxpQkFXQztRQVZHLElBQUk7WUFDQSxJQUFLLElBQUksQ0FBQyxpQkFBaUIsRUFBRztnQkFDMUIsMkRBQUssQ0FBQyxzQkFBc0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLFVBQUMsQ0FBYztvQkFDMUUsS0FBSSxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztvQkFDcEMsS0FBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7Z0JBQzdCLENBQUMsQ0FBQyxDQUFDO2FBQ047U0FDSjtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDeEI7SUFDTCxDQUFDO0lBQ0wseUJBQUM7QUFBRCxDQUFDLENBYnVDLGlFQUFXLEdBYWxEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDaEI2QztBQUNjO0FBR047QUFDTjtBQUVPO0FBQ1c7QUFDZjtBQUNIO0FBSWhEO0lBQUE7UUFDWSxXQUFNLEdBQVcsa0ZBQWEsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLENBQUM7SUE4RHJFLENBQUM7SUE1RFUseUNBQWdCLEdBQXZCO1FBQUEsaUJBS0M7UUFKSSxPQUFPLDZFQUFjLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQUMsUUFBUTtZQUMvQyxLQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDeEMsT0FBTyxtRUFBWSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNqRCxDQUFDLENBQUM7SUFDTixDQUFDO0lBRU0sa0RBQXlCLEdBQWhDLFVBQWlDLFNBQXlCO1FBQTFELGlCQUtBO1FBSkksT0FBTyw2RUFBYyxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFDLFFBQVE7WUFDL0MsS0FBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3hDLE9BQU8sbUVBQVksQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDakUsQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQUVPLHlDQUFnQixHQUF2QjtRQUFBLGlCQUtDO1FBSkcsT0FBTyw2RUFBYyxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFDLFFBQVE7WUFDOUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3hDLE9BQU8sbUVBQVksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0MsQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQUVELGtDQUFTLEdBQVQ7UUFDSSxJQUFNLFFBQVEsR0FBdUIsbUVBQVksQ0FBQyxtQkFBbUIsRUFBRTtRQUN2RSxJQUFNLE1BQU0sR0FBRyxRQUFRLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNyRSxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRUQscURBQTRCLEdBQTVCLFVBQTZCLFFBQWdCO1FBQ3pDLG1FQUFZLENBQUMsNEJBQTRCLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVELG1DQUFVLEdBQVY7UUFDSSxJQUFNLFFBQVEsR0FBdUIsbUVBQVksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQ3hFLElBQU0sTUFBTSxHQUFHLFFBQVEsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ3RFLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFRCw0Q0FBbUIsR0FBbkI7UUFDSSxPQUFPLDJFQUFnQixDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQzdDLENBQUM7SUFFRCw4Q0FBcUIsR0FBckI7UUFDSSxPQUFPLHFFQUFhLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEMsQ0FBQztJQUVELHNDQUFhLEdBQWI7UUFDSSxJQUFNLE9BQU8sR0FBRyx3RkFBWSxDQUFDLFlBQVksRUFBRSxHQUFHLFNBQVMsQ0FBQztRQUN4RCxJQUFNLE9BQU8sR0FBRyxJQUFJLHNFQUFJLEVBQUUsQ0FBQztRQUMzQixPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDO0lBQy9CLENBQUM7SUFFRCwyQ0FBa0IsR0FBbEIsVUFBbUIsaUJBQWlCO1FBQ2hDLE9BQU8sd0VBQWUsQ0FBQyxlQUFlLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUM5RCxDQUFDO0lBRUQsdUNBQWMsR0FBZDtRQUNJLE9BQU8sbUVBQVksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0lBR0wscUJBQUM7QUFBRCxDQUFDOztBQUVNLElBQU0sU0FBUyxHQUFHLElBQUksY0FBYyxFQUFFLENBQUM7Ozs7Ozs7Ozs7Ozs7QUMvRWU7QUFDRDtBQUNMO0FBRXZEO0lBTUk7UUFDSSxJQUFJLENBQUMsZUFBZSxHQUFHLDZFQUFlLENBQUMsUUFBUSxDQUFDO0lBQ3BELENBQUM7SUFFTSwwQ0FBYyxHQUFyQixVQUFzQixPQUFZO1FBQzlCLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDO1FBQzNCLElBQUksaUJBQWlCLEdBQWlCLElBQUksa0ZBQVksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLG9CQUFvQixHQUFHLGlCQUFpQixDQUFDLFVBQVUsQ0FBQztRQUN6RCxJQUFNLGlCQUFpQixHQUFpQixJQUFJLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDN0YsSUFBSSxDQUFDLGFBQWEsR0FBRyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUMxRSxDQUFDO0lBRU0sZ0RBQW9CLEdBQTNCO1FBQ0ksT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQzlCLENBQUM7SUFFTSwwQ0FBYyxHQUFyQjtRQUNJLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM1QixDQUFDO0lBRU0sNkNBQWlCLEdBQXhCO1FBQ0ksSUFBSSxJQUFJLENBQUMsb0JBQW9CLEVBQUU7WUFDM0IsT0FBTyxJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7U0FFaEU7YUFBTTtZQUNILE9BQU8sSUFBSSxDQUFDO1NBQ2Y7SUFDTCxDQUFDO0lBRU0sNkNBQWlCLEdBQXhCLFVBQXlCLFVBQWtCO1FBQ3ZDLElBQUksTUFBTSxDQUFDLGFBQWEsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQ3pELElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxFQUFFO2dCQUNyRSxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsRUFBRSxNQUFNLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7YUFDM0Y7aUJBQU07Z0JBQ0gsT0FBTyxNQUFNLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2FBQzFDO1NBQ0o7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsK0NBQW1CLEdBQW5CO1FBQ0ksT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ3BFLENBQUM7SUFFRCx3Q0FBWSxHQUFaO1FBQ0ksT0FBTyxrRkFBZ0IsQ0FBQyxNQUFNLENBQUM7SUFDbkMsQ0FBQztJQUVELDJDQUFlLEdBQWY7UUFDSSxPQUFPLGtGQUFnQixDQUFDLFNBQVMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsc0NBQVUsR0FBVjtRQUNJLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDOUUsQ0FBQztJQUVELCtDQUFtQixHQUFuQjtRQUNJLElBQUkseUJBQXlCLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdEYsSUFBSSx5QkFBeUIsSUFBSSx5QkFBeUIsQ0FBQyxVQUFVLEVBQUU7WUFDbkUsT0FBTyxJQUFJLENBQUMscUJBQXFCLENBQUMseUJBQXlCLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDM0U7YUFBTTtZQUNILE9BQU8sSUFBSSxDQUFDO1NBQ2Y7SUFFTCxDQUFDO0lBRU8saURBQXFCLEdBQTdCLFVBQThCLFVBQWtCO1FBQzVDLElBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQztRQUVyQixLQUFLLElBQUksUUFBUSxJQUFJLFVBQVUsRUFBRTtZQUM3QixXQUFXLENBQUMsUUFBUSxDQUFDLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQztTQUM3RTtRQUVELE9BQU8sV0FBVyxDQUFDO0lBQ3ZCLENBQUM7SUFFTSx5Q0FBYSxHQUFwQixVQUFxQixVQUFrQjtRQUNuQyxJQUFJLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRU0sa0RBQXNCLEdBQTdCO1FBQ0ksT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNqRSxDQUFDO0lBRU8sa0RBQXNCLEdBQTlCLFVBQStCLFVBQWUsRUFBRSxRQUFnQjtRQUM1RCxJQUFJO1lBQ0EsSUFBSSxVQUFVLElBQUksVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUNwQyxJQUFJLElBQUksR0FBRyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ2hDLElBQUksT0FBTyxJQUFJLEtBQUssVUFBVSxFQUFFO29CQUM1QixPQUFPLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztpQkFDdEI7Z0JBQ0QsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUU7b0JBQzFCLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO29CQUN2QyxPQUFPLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztpQkFDM0I7YUFDSjtZQUNELE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDdEI7SUFDTCxDQUFDO0lBRUQsOENBQWtCLEdBQWxCO1FBQ0ksSUFBTSxXQUFXLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFDeEgsT0FBTyxXQUFXLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDckMsQ0FBQztJQUVELHVDQUFXLEdBQVg7UUFDSSxJQUFNLFFBQVEsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztRQUMvRyxPQUFPLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNsQyxDQUFDO0lBRUQseUNBQWEsR0FBYjtRQUNJLElBQU0sVUFBVSxHQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1FBQ3RILE9BQU8sVUFBVSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3BDLENBQUM7SUFFRCwrQ0FBbUIsR0FBbkI7UUFDSSxPQUFPLGtCQUFrQixDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRCw2Q0FBaUIsR0FBakI7UUFDSSxPQUFPLGtCQUFrQixDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFFTCx3QkFBQztBQUFELENBQUM7O0FBRU0sSUFBTSxZQUFZLEdBQUcsSUFBSSxpQkFBaUIsRUFBRSxDQUFDOzs7Ozs7OztBQ3ZJcEQ7QUFBQTtJQUFBO0lBaUJBLENBQUM7SUFoQlUsaUJBQU8sR0FBRyxNQUFNLENBQUM7SUFFakIsaUJBQU8sR0FBRztRQUNiLFFBQVEsRUFBRSxTQUFTLENBQUMsT0FBTyxHQUFHLFVBQVU7UUFDeEMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxPQUFPLEdBQUcsWUFBWTtRQUM1QyxXQUFXLEVBQUUsU0FBUyxDQUFDLE9BQU8sR0FBRyxlQUFlO1FBQ2hELGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxPQUFPLEdBQUcsa0JBQWtCO0tBQzNEO0lBRU0seUJBQWUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNyQix1QkFBYSxHQUFHO1FBQ25CLFlBQVksRUFBRSxLQUFLO1FBQ25CLFNBQVMsRUFBRSxLQUFLO1FBQ2hCLE9BQU8sRUFBRSxLQUFLO1FBQ2QsUUFBUSxFQUFFLEtBQUs7S0FDbEI7SUFDTCxnQkFBQztDQUFBO0FBakJxQjs7Ozs7Ozs7Ozs7Ozs7QUNGOEI7QUFDbEI7QUFDeUI7QUFDWTtBQUd2RTtJQUFBO1FBR1ksY0FBUyxHQUFhLDhEQUFRLENBQUMsS0FBSyxDQUFDO1FBQ3JDLGdCQUFXLEdBQVksS0FBSyxDQUFDO0lBMER6QyxDQUFDO0lBeERHLHNCQUFXLGtDQUFRO2FBQW5CO1lBRUksSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLFNBQVMsRUFBRTtnQkFFdkQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLHNCQUFzQixFQUFFLENBQUM7Z0JBQzdDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7YUFDdEM7aUJBQU07YUFFTjtZQUNELE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN6QixDQUFDOzs7T0FBQTtJQUVNLDZDQUFZLEdBQW5CLFVBQW9CLElBQVksRUFBRSxLQUFjO1FBRTVDLElBQUksNkZBQWMsQ0FBQyxHQUFHLENBQUMsNEVBQVMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFFaEQsSUFBSSxDQUFDLFNBQVMsR0FBRywrREFBUyxDQUFDLFVBQVUsQ0FBQyw2RkFBYyxDQUFDLEdBQUcsQ0FBQyw0RUFBUyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1NBQ3pGO1FBQUEsQ0FBQztRQUNGLElBQUksVUFBVSxHQUFHLDZGQUFjLENBQUMsR0FBRyxDQUFDLDRFQUFTLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2xFLElBQUksVUFBVSxLQUFLLFNBQVMsRUFBRTtZQUMxQixJQUFJLFVBQVUsQ0FBQyxXQUFXLEVBQUUsS0FBSyxNQUFNLEVBQUU7Z0JBQ3JDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO2FBQzNCO2lCQUFNO2dCQUNILElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO2FBQzVCO1NBQ0o7UUFBQSxDQUFDO1FBQ0YsSUFBSSxNQUFNLEdBQUcsSUFBSSx1REFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDdkUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ2hDLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFTSwyQ0FBVSxHQUFqQixVQUFrQixHQUFZO1FBQzFCLE9BQU8sQ0FBQyxHQUFHLENBQUMsMkJBQTJCLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUM7UUFDdkIsNkZBQWMsQ0FBQyxHQUFHLENBQUMsNEVBQVMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHO1lBRW5DLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDM0IsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU0seUNBQVEsR0FBZixVQUFnQixXQUFtQjtRQUMvQixJQUFJO1lBQ0EsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsRUFBRSxXQUFXLENBQUMsQ0FBQztZQUVwRCw2RkFBYyxDQUFDLEdBQUcsQ0FBQyw0RUFBUyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDNUQsSUFBSSxDQUFDLFNBQVMsR0FBRywrREFBUyxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUVuRCxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRztnQkFDbEMsS0FBSyxDQUFDLFdBQVcsQ0FBQywrREFBUyxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ3pELENBQUMsQ0FBQyxDQUFDO1NBQ047UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzVCO0lBRUwsQ0FBQztJQUNMLDZCQUFDO0FBQUQsQ0FBQzs7QUFFTSxJQUFJLGFBQWEsR0FBRyxzQkFBc0IsQ0FBQyxRQUFRLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3RFSTtBQUNyQjtBQUNpQjtBQUVVO0FBQ2Y7QUFHdEQ7SUFBa0MsZ0NBQVE7SUFHdEM7UUFBQSxZQUNJLGlCQUFPLFNBRVY7UUFERyxLQUFJLENBQUMsY0FBYyxHQUFHLHFGQUFjLENBQUMsUUFBUSxDQUFDOztJQUNsRCxDQUFDO0lBRUQsb0NBQWEsR0FBYjtRQUNJLElBQUksQ0FBQyxVQUFVLEdBQUcsaUJBQU0sYUFBYSxXQUFFLENBQUM7UUFDeEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLEdBQUcsNEVBQVMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO1FBQzlELElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQzdCLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxHQUFHLDJGQUFhLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDM0QsT0FBTyxJQUFJLDRFQUFhLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFRCw0Q0FBcUIsR0FBckI7UUFDSSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsZUFBZSxFQUFFLEtBQUssRUFBRSwyRkFBYSxDQUFDLGNBQWMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNwRyxDQUFDO0lBRUQsNkNBQXNCLEdBQXRCLGNBQWlDLENBQUM7SUFFdEMsbUJBQUM7QUFBRCxDQUFDLENBdEJpQywyREFBUSxHQXNCekM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzdCaUQ7QUFFbEQ7SUFBbUMsaUNBQVc7SUFBOUM7UUFBQSxxRUErQ0M7UUE5Q0csd0JBQWtCLEdBQUcsRUFBRSxDQUFDOztJQThDNUIsQ0FBQztJQTNDVSw4QkFBTSxHQUFiO1FBQUEsaUJBZ0JDO1FBZkcsSUFBSTtZQUNBLElBQUksSUFBSSxDQUFDLGtCQUFrQixJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2dCQUMvRCxJQUFJLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLFVBQUMsU0FBUyxFQUFFLEdBQUc7b0JBQzNDLEtBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ2hDLENBQUMsQ0FBQzthQUNMO2lCQUFNO2dCQUNILElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFO29CQUN4QixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO2lCQUM1QztxQkFBTTtvQkFDSCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO2lCQUNoRDthQUNKO1NBQ0o7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQzNDO0lBQ0wsQ0FBQztJQUVNLG1DQUFXLEdBQWxCLFVBQW1CLFNBQVM7UUFBNUIsaUJBWUM7UUFYRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQ3pDLElBQUk7WUFDQSxFQUFFLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsVUFBQyxJQUFJO2dCQUNqQyxLQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDckQsS0FBSSxDQUFDLGdCQUFnQixHQUFHLFNBQVMsQ0FBQztnQkFDbEMsS0FBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNoQyxLQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUM3QixDQUFDLENBQUMsQ0FBQztTQUNOO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUMzQztJQUNMLENBQUM7SUFFRCx5Q0FBaUIsR0FBakIsVUFBa0IsT0FBUSxFQUFFLE9BQVE7UUFDaEMsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUUsRUFBRSxPQUFPLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzFHLENBQUM7SUFFRCxzQ0FBYyxHQUFkO1FBQ0ksSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3pDLElBQUksWUFBWSxFQUFFO1lBQ2QsT0FBbUIsRUFBRTtTQUN4QjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFDTCxvQkFBQztBQUFELENBQUMsQ0EvQ2tDLGlFQUFXLEdBK0M3Qzs7Ozs7Ozs7Ozs7OztBQ2pEc0U7QUFDN0I7QUFDaUI7QUFRM0Q7SUFvQkk7UUFuQlEsV0FBTSxHQUFXLGdGQUFhLENBQUMsWUFBWSxDQUFDLGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBS3pFLGtCQUFhLEdBQWtCLElBQUksQ0FBQztRQWV4QyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsYUFBYSxHQUFHLDJEQUFLLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDeEMsSUFBSSxzQkFBc0IsR0FBRyxjQUFjLENBQUMsT0FBTyxDQUFDLDRFQUFTLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDeEYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLHdCQUF3QixFQUFFLHNCQUFzQixDQUFDLENBQUM7UUFDNUUsSUFBSSxDQUFDLHNCQUFzQixFQUFFO1lBQ3pCLElBQUksQ0FBQyxzQkFBc0IsR0FBRywyREFBSyxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ2pELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSx5REFBeUQsRUFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUNsSCxjQUFjLENBQUMsT0FBTyxDQUFDLDRFQUFTLENBQUMsT0FBTyxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1NBQzNGO2FBQU07WUFDSCxJQUFJLENBQUMsc0JBQXNCLEdBQUcsc0JBQXNCLENBQUM7U0FDeEQ7UUFDRCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDMUQsQ0FBQztJQXhCRCxzQkFBVywwQkFBUTthQUFuQjtZQUVJLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxTQUFTLEVBQUU7Z0JBRXZELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxjQUFjLEVBQUUsQ0FBQzthQUN4QztpQkFBTTthQUVOO1lBQ0QsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3pCLENBQUM7OztPQUFBO0lBaUJELDRDQUFtQixHQUFuQjtRQUNJLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO0lBQ2pDLENBQUM7SUFFRCw0Q0FBbUIsR0FBbkIsVUFBb0IsZ0JBQWdCO1FBQ2hDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQztJQUM3QyxDQUFDO0lBRUQseUNBQWdCLEdBQWhCLFVBQWlCLElBQXFDO1FBQ2xELElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNyQixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNoQzthQUFNO1lBQ0gsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7U0FDN0I7SUFDTCxDQUFDO0lBRUQsd0NBQWUsR0FBZjtRQUNJLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUM5QixDQUFDO0lBRU0sNkJBQUksR0FBWDtRQUNJLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRCwyQ0FBa0IsR0FBbEI7UUFDSSxPQUFPLElBQUksQ0FBQyxzQkFBc0IsQ0FBQztJQUN2QyxDQUFDO0lBRUwscUJBQUM7QUFBRCxDQUFDOzs7Ozs7Ozs7O0FDakJEO0FBQUEsSUFBTSxjQUFjLEdBQW9CO0lBQ3BDLENBQUMsS0FBSyxFQUFFLHdCQUF3QixDQUFDO0lBQ2pDLENBQUMsTUFBTSxFQUFFLG1CQUFtQixDQUFDO0lBQzdCLENBQUMsZUFBZSxFQUFFLHdCQUF3QixDQUFDO0lBQzNDLENBQUMsU0FBUyxFQUFFLHFCQUFxQixDQUFDO0lBQ2xDLENBQUMsV0FBVyxFQUFFLHVCQUF1QixDQUFDO0lBQ3RDLENBQUMsU0FBUyxFQUFFLDRCQUE0QixDQUFDO0lBQ3pDLENBQUMsTUFBTSxFQUFFLHVCQUF1QixDQUFDO0lBQ2pDLENBQUMsTUFBTSxFQUFFLDBCQUEwQixDQUFDO0lBQ3BDLENBQUMsUUFBUSxFQUFFLDJCQUEyQixDQUFDO0lBQ3ZDLENBQUMsZUFBZSxFQUFFLGlCQUFpQixDQUFDO0lBQ3BDLENBQUMsa0JBQWtCLEVBQUUsd0RBQXdELENBQUM7SUFDOUUsQ0FBQyxRQUFRLEVBQUUsa0RBQWtELENBQUM7SUFDOUQsQ0FBQyxXQUFXLEVBQUUsK0JBQStCLENBQUM7SUFDOUMsQ0FBQyxPQUFPLEVBQUUsMkJBQTJCLENBQUM7SUFDdEMsQ0FBQyxTQUFTLEVBQUUsNkJBQTZCLENBQUM7SUFDMUMsQ0FBQyxPQUFPLEVBQUUsbUJBQW1CLENBQUM7SUFDOUIsQ0FBQyxZQUFZLEVBQUUsaUNBQWlDLENBQUM7SUFDakQsQ0FBQyxPQUFPLEVBQUUsMkJBQTJCLENBQUM7SUFDdEMsQ0FBQyxPQUFPLEVBQUUseUJBQXlCLENBQUM7SUFDcEMsQ0FBQyxJQUFJLEVBQUUsMkNBQTJDLENBQUM7SUFDbkQsQ0FBQyxJQUFJLEVBQUUscUNBQXFDLENBQUM7SUFDN0MsQ0FBQyxJQUFJLEVBQUUsY0FBYyxDQUFDO0lBQ3RCLENBQUMsTUFBTSxFQUFFLG1DQUFtQyxDQUFDO0lBQzdDLENBQUMsV0FBVyxFQUFFLGdDQUFnQyxDQUFDO0lBQy9DLENBQUMsU0FBUyxFQUFFLHFCQUFxQixDQUFDO0lBQ2xDLENBQUMsS0FBSyxFQUFFLHdDQUF3QyxDQUFDO0lBQ2pELENBQUMsUUFBUSxFQUFFLDhCQUE4QixDQUFDO0lBQzFDLENBQUMsVUFBVSxFQUFFLGtCQUFrQixDQUFDO0lBQ2hDLENBQUMsV0FBVyxFQUFFLHVCQUF1QixDQUFDO0lBQ3RDLENBQUMsYUFBYSxFQUFFLGlDQUFpQyxDQUFDO0lBQ2xELENBQUMsYUFBYSxFQUFFLG1DQUFtQyxDQUFDO0NBQ3ZELENBQUM7QUFJRixJQUFNLG9CQUFvQixHQUEwQjtJQUNoRCxDQUFDLEtBQUssRUFBRSxnQkFBZ0IsQ0FBQztJQUN6QixDQUFDLFlBQVksRUFBRSxTQUFTLENBQUM7SUFDekIsQ0FBQyxlQUFlLEVBQUUsaUJBQWlCLENBQUM7SUFDcEMsQ0FBQyxnQkFBZ0IsRUFBRSxVQUFVLENBQUM7SUFDOUIsQ0FBQyxXQUFXLEVBQUUsUUFBUSxDQUFDO0lBQ3ZCLENBQUMsY0FBYyxFQUFFLE9BQU8sQ0FBQztJQUN6QixDQUFDLFlBQVksRUFBRSxtQ0FBbUMsQ0FBQztJQUNuRCxDQUFDLFlBQVksRUFBRSxzQkFBc0IsQ0FBQztJQUN0QyxDQUFDLGNBQWMsRUFBRSxpQ0FBaUMsQ0FBQztJQUNuRCxDQUFDLFlBQVksRUFBRSwrQkFBK0IsQ0FBQztJQUMvQyxDQUFDLHFCQUFxQixFQUFFLGtCQUFrQixDQUFDO0lBQzNDLENBQUMsZUFBZSxFQUFFLGtCQUFrQixDQUFDO0lBQ3JDLENBQUMsV0FBVyxFQUFFLGtCQUFrQixDQUFDO0lBQ2pDLENBQUMsV0FBVyxFQUFFLGtCQUFrQixDQUFDO0lBQ2pDLENBQUMsYUFBYSxFQUFFLGtCQUFrQixDQUFDO0lBQ25DLENBQUMsWUFBWSxFQUFFLG1CQUFtQixDQUFDO0lBQ25DLENBQUMsWUFBWSxFQUFFLFlBQVksQ0FBQztJQUM1QixDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUM7SUFDdkIsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDO0lBQ25CLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQztJQUNyQixDQUFDLE9BQU8sRUFBRSxlQUFlLENBQUM7SUFDMUIsQ0FBQyxRQUFRLEVBQUUsMkJBQTJCLENBQUM7SUFDdkMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDO0lBQ2QsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO0lBQ2hCLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQztDQUNwQixDQUFDO0FBR0Y7SUFJSTtRQUZRLHNCQUFpQixHQUFXLElBQUksQ0FBQztRQUdyQyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUM7SUFDekMsQ0FBQztJQUVNLDBDQUFZLEdBQW5CLFVBQW9CLFNBQWlCO1FBQ2pDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQy9CLENBQUM7SUFFRCxvREFBc0IsR0FBdEI7UUFDSSxJQUFJLE1BQU0sQ0FBQyxjQUFjLEVBQUU7WUFDdkIsSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDckcsSUFBTSxhQUFhLEdBQUcsV0FBVyxLQUFLLFFBQVEsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDM0YsSUFBTSxZQUFZLEdBQUcsV0FBVyxLQUFLLE9BQU8sSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDekYsT0FBTyxhQUFhLElBQUksWUFBWSxDQUFDO1NBQ3hDO2FBQU07WUFDSCxPQUFPLEtBQUssQ0FBQztTQUNoQjtJQUNMLENBQUM7SUFFRCwrQ0FBaUIsR0FBakI7UUFDSSxJQUFJLE1BQU0sQ0FBQyxjQUFjLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFO1lBQy9GLE9BQU8sTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQztTQUN2RDtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFTSx3Q0FBVSxHQUFqQjtRQUNJLElBQUksTUFBTSxDQUFDLGNBQWMsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7WUFDL0YsT0FBTyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1NBQ3BEO1FBRUQsS0FBSyxJQUFJLFlBQVksR0FBRyxDQUFDLEVBQUUsWUFBWSxHQUFHLGNBQWMsQ0FBQyxNQUFNLEVBQUUsWUFBWSxFQUFFLEVBQUU7WUFDN0UsSUFBSSxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO2dCQUNsRSxPQUFPLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUMxQztTQUVKO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLG1DQUFLLEdBQVo7UUFDSSxJQUFJLE1BQU0sQ0FBQyxjQUFjLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFO1lBQzFGLE9BQU8sTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1NBQ3ZHO1FBRUQsS0FBSyxJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUUsT0FBTyxHQUFHLG9CQUFvQixDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsRUFBRTtZQUNwRSxJQUFJLElBQUksTUFBTSxDQUFDLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRTtnQkFDbkUsT0FBTyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUMzQztTQUNKO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVPLHNDQUFRLEdBQWhCO1FBQ0ksSUFBSSxRQUFRLEdBQUcsaVVBQWlVO1FBQ2hWLE9BQU8sUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVNLDJDQUFhLEdBQXBCO1FBQ0ksSUFBSSxNQUFNLENBQUMsY0FBYyxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRTtZQUNoRyxPQUFPLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7U0FDckQ7UUFFRCxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRTtZQUNqQixPQUFPLFFBQVEsQ0FBQztTQUNuQjthQUFNO1lBQ0gsSUFBSSxRQUFRLEdBQUcsNFZBQTRWO1lBQzNXLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUU7Z0JBQy9CLE9BQU8sUUFBUSxDQUFDO2FBQ25CO1NBQ0o7UUFFRCxPQUFPLFNBQVMsQ0FBQztJQUNyQixDQUFDO0lBRU0seUNBQVcsR0FBbEI7UUFDSSxPQUFPO1lBQ0gsT0FBTyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDMUIsRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDaEIsVUFBVSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDaEMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSTtTQUM1QjtJQUNMLENBQUM7SUFFTSx5Q0FBVyxHQUFsQjtRQUFBLGlCQVdDO1FBVkcsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEVBQUU7WUFDeEIsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1NBQ2xEO2FBQU07WUFDSCxPQUFPLElBQUksQ0FBQyxpQkFBaUIsRUFBRTtpQkFDOUIsSUFBSSxDQUFDLFVBQUMsUUFBZ0I7Z0JBQ25CLEtBQUksQ0FBQyxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDckMsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3JDLENBQUMsQ0FBQztTQUNMO0lBRUwsQ0FBQztJQUVELCtDQUFpQixHQUFqQjtRQUNJLElBQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUM7UUFDdkMsSUFBSSxXQUFXLElBQUksT0FBTyxXQUFXLENBQUMsV0FBVyxLQUFLLFVBQVUsRUFBRTtZQUM5RCxPQUFPLE1BQU0sQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLENBQUM7U0FDM0M7YUFBTTtZQUNILE9BQU8sSUFBSSxDQUFDLDJCQUEyQixFQUFFLENBQUM7U0FDN0M7SUFDTCxDQUFDO0lBRU0seURBQTJCLEdBQWxDO1FBQUEsaUJBNkJDO1FBNUJHLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTtZQUMvQixJQUFJLEtBQUksQ0FBQyxpQkFBaUIsRUFBRTtnQkFDeEIsT0FBTyxDQUFDLEtBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO2dCQUNoQyxPQUFPO2FBQ1Y7WUFFRCxJQUFJLFVBQVUsR0FBRyxXQUFXLENBQUM7Z0JBQ3pCLElBQUksV0FBVyxHQUFHLEtBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO2dCQUM5QyxJQUFJLFdBQVcsRUFBRTtvQkFDYixJQUFJLFFBQVEsR0FBRyxXQUFXLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQ3pDLElBQUksUUFBUSxFQUFFO3dCQUNWLEtBQUksQ0FBQyxpQkFBaUIsR0FBRyxRQUFRLENBQUM7d0JBQ2xDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQzt3QkFDMUIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUNsQixPQUFPO3FCQUNWO2lCQUNKO1lBQ0wsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBRVIsVUFBVSxDQUFDO2dCQUNQLElBQUksQ0FBQyxLQUFJLENBQUMsaUJBQWlCLEVBQUU7b0JBQ3pCLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztvQkFDMUIsT0FBTyxDQUFDLElBQUksQ0FBQyxtREFBbUQsQ0FBQyxDQUFDO29CQUNsRSxNQUFNLEVBQUUsQ0FBQztpQkFDWjtZQUVMLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNkLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELGtEQUFvQixHQUFwQjtRQUNJLElBQUksTUFBTSxDQUFDLFNBQVMsRUFBRTtZQUNsQixPQUFPLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQztTQUM3QjtRQUNELElBQUksTUFBTSxDQUFDLFdBQVcsRUFBRTtZQUNwQixPQUFPLE1BQU0sQ0FBQyxXQUFXLENBQUM7U0FDN0I7SUFDTCxDQUFDO0lBRUQsbURBQXFCLEdBQXJCO1FBQ0ksT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFDbEMsQ0FBQztJQUVELG1EQUFxQixHQUFyQixVQUFzQixpQkFBaUI7UUFDbkMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO0lBQy9DLENBQUM7SUFJTCwwQkFBQztBQUFELENBQUM7O0FBRU0sSUFBTSxjQUFjLEdBQUcsSUFBSSxtQkFBbUIsRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM1Uk87QUFHQTtBQUNMO0FBRVc7QUFJbEI7QUFDb0I7QUFDZjtBQUNVO0FBR2xFO0lBQUE7UUFDWSxXQUFNLEdBQVcsZ0ZBQWEsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDekQsbUJBQWMsR0FBRyxxRkFBYyxDQUFDLFFBQVEsQ0FBQztRQUMxQyxvQkFBZSxHQUFZLEtBQUssQ0FBQztRQUNqQyxnQkFBVyxHQUFHLEVBQUUsQ0FBQztRQUNqQixvQkFBZSxHQUFHLENBQUMsQ0FBQztRQUNuQixvQkFBZSxHQUFHLEtBQUssQ0FBQztRQUN4QixrQkFBYSxHQUFhLEVBQUUsQ0FBQztJQWtMekMsQ0FBQztJQWhMRyxnREFBZ0IsR0FBaEIsVUFBaUIsU0FBa0I7UUFDL0IsSUFBSSxDQUFDLGVBQWUsR0FBRyxTQUFTLENBQUM7SUFDckMsQ0FBQztJQUVELGdEQUFnQixHQUFoQjtRQUNJLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQztJQUNoQyxDQUFDO0lBRU8sK0NBQWUsR0FBdkIsVUFBd0IsV0FBMEI7UUFBbEQsaUJBVUM7UUFURyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUM3QixJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxVQUFDLFVBQW9CO2dCQUMxQyxJQUFJLFNBQVMsR0FBRyxVQUFVLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztnQkFDL0MsVUFBVSxDQUFDLG9CQUFvQixDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUM3QywyRkFBYSxDQUFDLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUM5QyxLQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQztZQUM1RCxDQUFDLENBQUMsQ0FBQztZQUNILElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO1NBQ3pCO0lBQ0wsQ0FBQztJQUVNLHlDQUFTLEdBQWhCLFVBQWlCLFFBQWtCO1FBQy9CLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLHlCQUF5QixFQUFFLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNsRSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyx3QkFBd0IsRUFBRSxRQUFRLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLHVCQUF1QixFQUFFLFFBQVEsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDekUsSUFBSSxRQUFRLEdBQWtCLFFBQVEsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN2RCxJQUFJLENBQUMsUUFBUTtZQUFFLE9BQU87UUFDdEIsSUFBSSxtQkFBbUIsR0FBa0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUMvRSxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDakMseUVBQVksQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFL0QsSUFBSSxPQUFPLEVBQUU7WUFDVCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyx3QkFBd0IsR0FBRyxRQUFRLENBQUMsVUFBVSxDQUFDLFNBQVMsR0FBRyxVQUFVLENBQUMsQ0FBQztZQUN6RixJQUFJLENBQUMsbUJBQW1CLEVBQUU7Z0JBQ3RCLElBQUksQ0FBQyxjQUFjLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQy9DLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDbEM7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO2FBQzdDO1lBQ0QsMkZBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQztTQUN4RDthQUFNO1lBQ0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsd0JBQXdCLEdBQUcsUUFBUSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEdBQUcsaUJBQWlCLENBQUMsQ0FBQztZQUNoRyxJQUFJLG1CQUFtQixFQUFFO2dCQUNyQixRQUFRLENBQUMsb0JBQW9CLENBQUMsbUJBQW1CLENBQUMsQ0FBQztnQkFDbkQsMkZBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDNUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsaUJBQWlCLEVBQUUsRUFBRSxRQUFRLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQzthQUM1RTtpQkFBTTtnQkFDSCxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUkscUZBQVEsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQy9ELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLHVCQUF1QixHQUFHLFFBQVEsQ0FBQyxVQUFVLENBQUMsU0FBUyxHQUFHLGlCQUFpQixFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQzthQUNwSDtTQUNKO1FBQUEsQ0FBQztJQUNOLENBQUM7SUFFTSx5Q0FBUyxHQUFoQixVQUFpQixRQUF5QyxFQUFFLE9BQW1DO1FBQS9GLGlCQXFCQztRQXBCRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUMxQixRQUFRLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUN6QjtRQUNELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLGVBQWUsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUM3Qyx5RUFBWSxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsT0FBMkIsQ0FBQyxDQUFDO1FBQ2pFLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFtQjtZQUNqQyxJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQ3hCLElBQUksS0FBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7Z0JBQzVDLEtBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQzFCLEtBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFFbkQsSUFBSSxLQUFJLENBQUMsaUJBQWlCLEVBQUUsRUFBRTtvQkFDMUIsS0FBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDNUI7cUJBQU07b0JBQ0gsS0FBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDNUI7YUFDSjtpQkFBTTtnQkFDSCx5RUFBWSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO2FBQzdDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBR08sNkNBQWEsR0FBckIsVUFBc0IsT0FBK0I7UUFDakQsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLElBQU0sR0FBRyxHQUFNLHdGQUFZLENBQUMsZUFBZSxFQUFFLFNBQUkseUVBQVksQ0FBQyx3QkFBd0IsQ0FBQyxPQUF3QixDQUFHLENBQUM7UUFDbkgsT0FBTyxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUM3RCxPQUFPLE9BQU8sQ0FBQztJQUNuQixDQUFDO0lBRU8saURBQWlCLEdBQXpCO1FBQ0ksT0FBTyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUMvQyxDQUFDO0lBRU8sMkNBQVcsR0FBbkIsVUFBb0IsT0FBK0IsRUFBRSxPQUEwQjtRQUEvRSxpQkE4REM7UUE3REcseUVBQVksQ0FBQyxhQUFhLENBQUMsT0FBd0IsRUFBRSxhQUFhLENBQUMsQ0FBQztRQUVwRSxJQUFNLE9BQU8sR0FBRyxVQUFDLE9BQWdCO1lBRTdCLHlFQUFZLENBQUMsYUFBYSxDQUFDLE9BQXdCLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUN6RyxDQUFDLENBQUM7UUFDRixJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ1YsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2QsT0FBTztTQUNWO1FBQ0QsSUFBSSxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7UUFDN0IsSUFBSTtZQUNBLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFLEVBQUU7Z0JBQ3pCLE9BQU8sQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO2FBQzNCO1lBRUQsSUFBTSxRQUFNLEdBQUcsZ0JBQWdCLENBQUM7WUFDaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBTSxFQUFFLGFBQWEsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUVsRCxJQUFNLEdBQUcsR0FBRyxJQUFJLGNBQWMsRUFBRSxDQUFDO1lBRWpDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLHdGQUFZLENBQUMsZUFBZSxFQUFFLEVBQUUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBRWxFLElBQU0sU0FBUyxHQUFHLFVBQUMsQ0FBQztnQkFDaEIsS0FBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUN2QyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7Z0JBQ3hCLHlFQUFZLENBQUMsYUFBYSxDQUFDLE9BQXdCLEVBQUUsU0FBUyxDQUFDLENBQUM7Z0JBQ2hFLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzlCLENBQUMsQ0FBQztZQUNGLElBQU0sVUFBVSxHQUFHLFVBQUMsQ0FBQztnQkFDakIsS0FBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsd0JBQXdCLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQy9DLEtBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQU0sRUFBRSxhQUFhLEVBQUUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUM1RCx5RUFBWSxDQUFDLGFBQWEsQ0FBQyxPQUF3QixFQUFFLGNBQVksTUFBTSxDQUFDLENBQUMsQ0FBRyxDQUFDLENBQUM7Z0JBQzlFLEtBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQzVCLGdCQUFnQixHQUFHLElBQUksQ0FBQztnQkFDeEIseUVBQVksQ0FBQyxhQUFhLENBQUMsT0FBd0IsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO2dCQUMzRSxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUM5QixDQUFDLENBQUM7WUFDRixHQUFHLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQ3hDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLENBQUM7WUFFMUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDcEQsR0FBRyxDQUFDLGdCQUFnQixDQUFDLGFBQWEsRUFBRSxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDeEQsR0FBRyxDQUFDLGdCQUFnQixDQUFDLGNBQWMsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1lBQ3pELHlFQUFZLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxFQUFFLE9BQXdCLENBQUMsQ0FBQztZQUM3RCxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNsQyx5RUFBWSxDQUFDLGFBQWEsQ0FBQyxPQUF3QixFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQ25FLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDMUM7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNaLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLDhCQUE4QixFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ3pELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ2pELHlFQUFZLENBQUMsYUFBYSxDQUFDLE9BQXdCLEVBQUUsVUFBVSxDQUFDLENBQUM7WUFDakUsSUFBSSxDQUFDLGdCQUFnQixFQUFFO2dCQUNuQixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLEVBQUUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUNwRCx5RUFBWSxDQUFDLGFBQWEsQ0FBQyxPQUF3QixFQUFFLHFCQUFxQixDQUFDLENBQUM7Z0JBQzVFLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQzVCLGdCQUFnQixHQUFHLElBQUksQ0FBQztnQkFDeEIseUVBQVksQ0FBQyxhQUFhLENBQUMsT0FBd0IsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO2dCQUMzRSxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQzthQUM3QjtTQUNKO0lBQ0wsQ0FBQztJQUVPLDZDQUFhLEdBQXJCLFVBQXNCLE9BQStCO1FBRWpELElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFLEVBQUU7WUFDekIsNkZBQWtCLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUF3QixDQUFDLENBQUM7WUFDNUQsT0FBTztTQUNWO1FBSUQsNkZBQWtCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUF3QixDQUFDLENBQUM7UUFFM0QsSUFBSSxZQUFZLEdBQUcsRUFBRSxDQUFDO1FBQ3RCLFlBQVksR0FBRyx5RUFBWSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzNELHlFQUFZLENBQUMsYUFBYSxDQUFDLE9BQXdCLEVBQUUsYUFBYSxDQUFDLENBQUM7UUFFcEUsOEVBQVcsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsd0ZBQVksQ0FBQyxlQUFlLEVBQUUsQ0FBQzthQUN0RSxJQUFJLENBQUM7WUFDRix5RUFBWSxDQUFDLGFBQWEsQ0FBQyxPQUF3QixFQUFFLFlBQVksQ0FBQyxDQUFDO1FBQ3ZFLENBQUMsQ0FBQzthQUNELEtBQUssQ0FBQyxVQUFDLEtBQUs7WUFDVCx5RUFBWSxDQUFDLGFBQWEsQ0FBQyxPQUF3QixFQUFFLGlCQUFlLE1BQU0sQ0FBQyxLQUFLLENBQUcsQ0FBQyxDQUFDO1FBQ3pGLENBQUMsQ0FBQyxDQUFDO1FBQ1AseUVBQVksQ0FBQyxhQUFhLENBQUMsT0FBd0IsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBQ0wsNEJBQUM7QUFBRCxDQUFDOztBQUVNLElBQU0sZ0JBQWdCLEdBQUcsSUFBSSxxQkFBcUIsRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7QUMzTVA7QUFDYTtBQUVBO0FBRWxFO0lBSUk7UUFDSSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksc0VBQUksRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFFTSw4QkFBRyxHQUFWLFVBQVcsR0FBVyxFQUFFLE9BQWdCLEVBQUUsT0FBZ0IsRUFBRSxPQUFnQjtRQUE1RSxpQkFLRTtRQUxzQixzQ0FBZ0I7UUFBRSxzQ0FBZ0I7UUFDckQsT0FBTyx3RkFBWSxDQUFDLGdCQUFnQixFQUFFLENBQUMsSUFBSSxDQUFDLFVBQUMsUUFBUTtZQUNqRCxPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsUUFBUSxDQUFDO1lBQzlCLE9BQU8sS0FBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDN0QsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU0sK0JBQUksR0FBWCxVQUFZLEdBQVcsRUFBRSxPQUFZLEVBQUUsT0FBYSxFQUFFLE9BQWdCO1FBQ2xFLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVPLCtCQUFJLEdBQVosVUFBYSxNQUFjLEVBQUUsR0FBVyxFQUFFLE9BQWEsRUFBRSxPQUFpQixFQUFFLE9BQWdCO1FBQW5DLHNDQUFpQjtRQUN0RSxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sSUFBSSx3RkFBWSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3ZELE9BQU8sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUM7UUFDeEMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyx3RkFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzFELE9BQU8sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLEdBQUcsd0ZBQVksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUM5RCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxHQUFHLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFFTCx1QkFBQztBQUFELENBQUM7QUFFTSxJQUFNLFdBQVcsR0FBRyxJQUFJLGdCQUFnQixFQUFFLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsQ0U7QUFDTjtBQUNGO0FBRVk7QUFFVjtBQUNJO0FBRVE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1RRO0FBQ0g7QUFDMUI7QUFDdUI7QUFFTDtBQUMrQjtBQUN0QjtBQUNlO0FBR3BDO0FBQ1k7QUFDYztBQUNaO0FBRXpEO0lBV0k7UUFUQSxZQUFPLEdBQVksSUFBSSxDQUFDO1FBRWQsdUJBQWtCLEdBQUcsRUFBRSxDQUFDO1FBRTNCLFdBQU0sR0FBVyxrRkFBYSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUcvRCxtQkFBYyxHQUFHLENBQUMsVUFBVSxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFHbEUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLDRFQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxxRkFBYyxDQUFDLFFBQVEsQ0FBQztRQUM5QyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBRUQsa0NBQWUsR0FBZjtRQUNJLElBQUksV0FBVyxHQUFHLElBQUksNEdBQWdCLEVBQUUsQ0FBQztRQUN6QyxXQUFXLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDbkMsT0FBTyxXQUFXLENBQUM7SUFDdkIsQ0FBQztJQUVNLHlCQUFNLEdBQWI7UUFBQSxpQkFpQkM7UUFoQkcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztRQUMvQyxJQUFJO1lBQ0EsSUFBSSxJQUFJLENBQUMsa0JBQWtCLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQy9ELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsVUFBQyxTQUFTLEVBQUUsR0FBRztvQkFDM0MsS0FBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDaEMsQ0FBQyxDQUFDO2FBQ0w7aUJBQU07Z0JBQ0gsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEVBQUU7b0JBQ3hCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7aUJBQzVDO3FCQUFNO29CQUNILElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7aUJBQ2hEO2FBQ0o7U0FDSjtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsaUNBQWlDLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDM0Q7SUFDTCxDQUFDO0lBRUQsOEJBQVcsR0FBWCxVQUFZLFNBQWlCO1FBQTdCLGlCQWFDO1FBWkcsSUFBSTtZQUNBLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQ3BELDJEQUFLLENBQUMsc0JBQXNCLENBQUMsUUFBUSxFQUFFLFNBQVMsRUFBRSxVQUFDLENBQWM7Z0JBQzdELEtBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxLQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUN2RCxLQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztnQkFDekIsS0FBSSxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDcEMsS0FBSSxDQUFDLGdCQUFnQixHQUFHLFNBQVMsQ0FBQztnQkFDbEMscUdBQWdCLENBQUMsU0FBUyxDQUFDLEtBQUksQ0FBQyxDQUFDO1lBQ3JDLENBQUMsQ0FBQyxDQUFDO1NBQ047UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hCO0lBQ0wsQ0FBQztJQUVELHFDQUFrQixHQUFsQixVQUFtQixhQUFtQjtRQUNsQyxJQUFJLGlCQUFpQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQ3BELElBQUksU0FBUyxHQUFHLGFBQWEsSUFBSSxpQkFBaUIsQ0FBQyxTQUFTLElBQUksRUFBRSxDQUFDO1FBQ25FLElBQUksaUJBQWlCLEdBQUcsMkRBQUssQ0FBQywwQkFBMEIsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDeEUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7SUFDbkgsQ0FBQztJQUVELDZCQUFVLEdBQVY7UUFDSSxJQUFJLHdGQUFZLENBQUMsbUJBQW1CLEVBQUUsRUFBRTtZQUNwQyxJQUFJLFdBQVcsR0FBRyxJQUFJLHNGQUFXLEVBQUUsQ0FBQztZQUNwQyxJQUFJLFNBQVMsR0FBRyxXQUFXLENBQUMsWUFBWSxFQUFFLENBQUM7WUFFM0MsSUFBSSxTQUFTLEVBQUU7Z0JBQ1gsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7Z0JBQzFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO2FBQ3JGO2lCQUFNO2dCQUNILElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7YUFDdEU7U0FDSjtJQUNMLENBQUM7SUFFRCxnQ0FBYSxHQUFiO1FBQ0ksSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLDRFQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUMsSUFBSSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUNwRCxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMscUJBQXFCLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUNuSCxJQUFJLENBQUMsVUFBVSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUNsRixJQUFJLENBQUMsVUFBVSxDQUFDLGNBQWMsR0FBRyxpRUFBUSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQzVELElBQUksQ0FBQyxVQUFVLENBQUMsZUFBZSxHQUFHLHdGQUFZLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUNwRSxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsR0FBRyx3RkFBWSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQzFELElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxHQUFHLHdGQUFZLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDdEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEdBQUcsNkVBQWMsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQ2xFLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxHQUFHLGdGQUFTLENBQUMsY0FBYyxFQUFFLElBQUksRUFBRSxDQUFDO1FBQy9ELElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxHQUFHLDRGQUFhLENBQUMsYUFBYSxFQUFFLElBQUksU0FBUyxDQUFDO1FBRXhFLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7UUFDOUIsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQzNCLENBQUM7SUFFRCx5Q0FBc0IsR0FBdEIsY0FBaUMsQ0FBQztJQUVsQyxpQ0FBYyxHQUFkO1FBQ0ksSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsMkRBQUssQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDbEYsQ0FBQztJQUVPLHdDQUFxQixHQUE3QixVQUE4QixpQkFBaUI7UUFDM0MsT0FBTyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLDJEQUFLLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDcEcsQ0FBQztJQUVNLDJDQUF3QixHQUEvQixVQUFnQyxJQUFTO1FBQ3JDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLHdCQUF3QixFQUFFLHdCQUF3QixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVFLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNqQixJQUFJLENBQUMsR0FBRyxDQUFDLFdBQUM7WUFDTixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQVcsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxFQUFFO2dCQUN0RCxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2FBQy9EO2lCQUFNO2dCQUNILE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQzthQUMvQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsd0JBQXdCLEVBQUUsd0JBQXdCLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDL0UsT0FBTyxPQUFPLENBQUM7SUFDbkIsQ0FBQztJQUVELDBCQUFPLEdBQVA7UUFDSSxJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQztRQUM3QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDMUMsT0FBTyxLQUFLLENBQUM7YUFDaEI7U0FDSjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCx1Q0FBb0IsR0FBcEIsVUFBcUIsbUJBQW9EO1FBQXpFLGlCQVdDO1FBVkcsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLEVBQUU7WUFDcEMsbUJBQW1CLEdBQUcsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDaEQ7UUFBQSxDQUFDO1FBRUYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsbUJBQW1CLENBQUM7UUFFN0QsSUFBSSxDQUFDLG1CQUFtQjtZQUFFLE9BQU87UUFDakMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsVUFBQyxLQUFLO1lBQzlCLEtBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsbUJBQW1CLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUcsQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQUVELDRCQUFTLEdBQVQ7UUFDSSxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRTtZQUM1QyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsR0FBRyw2RUFBYyxDQUFDLHFCQUFxQixFQUFFLENBQUM7U0FDdkU7SUFDTCxDQUFDO0lBRUQsdUNBQW9CLEdBQXBCO1FBQ0ksT0FBTyxJQUFJLENBQUMsaUJBQWlCLElBQUksRUFBRSxDQUFDO0lBQ3hDLENBQUM7SUFFRCx1Q0FBb0IsR0FBcEIsVUFBcUIsU0FBUztRQUMxQixJQUFJLENBQUMsaUJBQWlCLEdBQUcsU0FBUyxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxvQ0FBaUIsR0FBakI7UUFDSSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDO1FBQzlCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSw0RUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFTSxnREFBNkIsR0FBcEM7UUFDSSxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRU0sd0NBQXFCLEdBQTVCO1FBQ0ksT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBRU0sb0NBQWlCLEdBQXhCO1FBQ0ksT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQzNCLENBQUM7SUFDTCxlQUFDO0FBQUQsQ0FBQzs7Ozs7Ozs7OztBQzlMTSxJQUFNLG9CQUFvQixHQUFHO0lBQ2hDLFdBQVcsRUFBRSxTQUFTO0lBQ3RCLFVBQVUsRUFBRSxXQUFXO0lBQ3ZCLGFBQWEsRUFBRSxjQUFjO0lBQzdCLHdCQUF3QixFQUFFLG1CQUFtQjtJQUM3Qyx3QkFBd0IsRUFBRSxtQkFBbUI7Q0FDaEQ7Ozs7Ozs7O0FDTkQ7QUFBQTtJQUFBO0lBaUdBLENBQUM7SUFoR1Usd0JBQWUsR0FBdEI7UUFDSSxPQUFPLFFBQVEsQ0FBQyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyRSxDQUFDO0lBRU0scUJBQVksR0FBbkIsVUFBb0IsSUFBWTtRQUU1QixJQUFNLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxxSEFBcUgsQ0FBQyxDQUFDO1FBQ25KLElBQUk7WUFDQSxJQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ3BCLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3JDLElBQUksR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO2FBQ2xIO1lBQ0QsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUN4QixJQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUM3QyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDdkM7aUJBQU07Z0JBQ0gsT0FBTyxJQUFJLENBQUM7YUFDZjtTQUNKO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDWixPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNuQyxPQUFPLElBQUksQ0FBQztTQUNmO0lBQ0wsQ0FBQztJQUVNLG9CQUFXLEdBQWxCLFVBQW1CLFVBQVU7UUFDekIsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLHFIQUFxSCxDQUFDLENBQUM7SUFDbEosQ0FBQztJQUVNLG9CQUFXLEdBQWxCLFVBQW1CLE9BQWU7UUFDOUIsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNwQyxPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFTSx1QkFBYyxHQUFyQixVQUFzQixJQUFZO1FBQzlCLElBQU0sVUFBVSxHQUFTLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUNsQyxPQUFPLFVBQVUsQ0FBQztTQUNyQjtRQUNELE9BQU8sSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBRU0sd0JBQWUsR0FBdEIsVUFBdUIsSUFBVTtRQUM3QixPQUFPLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxJQUFJLENBQUM7SUFDekMsQ0FBQztJQUVNLFlBQUcsR0FBVixVQUFXLE1BQU07UUFDYixJQUFJLE1BQU0sR0FBRyxFQUFFLEVBQUU7WUFDYixPQUFPLEdBQUcsR0FBRyxNQUFNLENBQUM7U0FDdkI7UUFDRCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRU0sb0JBQVcsR0FBbEIsVUFBbUIsSUFBVTtRQUV6QixPQUFPLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDeEIsRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNyQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDaEMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2xDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUNwQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDcEMsR0FBRyxDQUFDO0lBQ1osQ0FBQztJQUFBLENBQUM7SUFFSyxxQkFBWSxHQUFuQixVQUFvQixjQUFvQjtRQUVwQyxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQ2pCLE9BQU8sSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQ2pDO1FBQ0QsSUFBSSxhQUFhLEdBQUcsQ0FBQyxFQUFFLEdBQUcsY0FBYyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUUzRCxJQUFJLFVBQVUsR0FBRyxhQUFhLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzVDLElBQUksVUFBVSxHQUFHLENBQUUsQ0FBQyxFQUFFO1lBQ2xCLGFBQWEsR0FBRyxjQUFjLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNsRCxhQUFhLEdBQUcsQ0FBQyxFQUFFLEdBQUcsYUFBYSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztTQUN6RDtRQUVELElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN0QyxJQUFJLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO1lBQ2xDLE9BQU8sSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQ2pDO2FBQU07WUFDSCxPQUFPLE9BQU8sQ0FBQztTQUNsQjtJQUNMLENBQUM7SUFFTSxnQkFBTyxHQUFkLFVBQWUsT0FBYSxFQUFFLElBQVk7UUFDdEMsT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLEdBQUcsSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzlFLENBQUM7SUFFTSxrQ0FBeUIsR0FBaEMsVUFBaUMsU0FBaUI7UUFDOUMsT0FBTyxTQUFTLEdBQUcsSUFBSSxDQUFDO0lBQzVCLENBQUM7SUFFTSxpQkFBUSxHQUFmLFVBQWdCLGNBQXNCO1FBQ2xDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxjQUFjLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQztJQUMzRSxDQUFDO0lBRUwsZUFBQztBQUFELENBQUM7Ozs7Ozs7OztBQ2pHRDtBQUFBO0lBR0kseUJBQVksSUFBSTtRQUNaLElBQUksQ0FBQyxJQUFJO1lBQUUsT0FBTztRQUNsQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDMUIsQ0FBQztJQUNMLHNCQUFDO0FBQUQsQ0FBQzs7Ozs7Ozs7OztBQ1BNLElBQU0saUJBQWlCLEdBQUc7SUFDN0IsZUFBZSxFQUFFLGVBQWU7SUFDaEMsWUFBWSxFQUFFLFlBQVk7SUFDMUIsaUJBQWlCLEVBQUUsNEJBQTRCO0lBQy9DLHNCQUFzQixFQUFFLHlCQUF5QjtJQUNqRCxtQkFBbUIsRUFBRSwwQkFBMEI7SUFDL0Msd0JBQXdCLEVBQUUsK0JBQStCO0lBQ3pELHlCQUF5QixFQUFFLDhCQUE4QjtJQUN6RCxzQkFBc0IsRUFBRSwyQkFBMkI7SUFDbkQsOEJBQThCLEVBQUUsbUNBQW1DO0lBQ25FLDJCQUEyQixFQUFFLGdDQUFnQztJQUM3RCxVQUFVLEVBQUUsY0FBYztDQUM3Qjs7Ozs7Ozs7Ozs7Ozs7O0FDWmlFO0FBQ1I7QUFDdkI7QUFDRTtBQUVyQztJQTRCSTtRQTNCQSxlQUFVLEdBQVcsRUFBRSxDQUFDO1FBRXhCLGVBQVUsR0FBRztZQUNULE9BQU87WUFDUCxVQUFVO1lBQ1YsU0FBUztZQUNULEtBQUs7WUFDTCxhQUFhO1lBQ2IsUUFBUTtZQUNSLE1BQU07WUFDTixXQUFXO1lBQ1gsYUFBYTtZQUNiLFVBQVU7WUFDVixNQUFNO1lBQ04sVUFBVTtZQUNWLGFBQWE7WUFDYixVQUFVO1lBQ1YsT0FBTztZQUNQLE9BQU87WUFDUCxRQUFRO1lBQ1IsY0FBYztZQUNkLFNBQVM7WUFDVCxVQUFVO1lBQ1YsYUFBYTtZQUNiLGNBQWM7U0FDakIsQ0FBQztRQUdFLElBQUksQ0FBQyxzQ0FBc0MsRUFBRSxDQUFDO0lBQ2xELENBQUM7SUFFRCw2Q0FBYSxHQUFiO1FBQ0ksSUFBSSxDQUFDLDJEQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUNqQyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7U0FDMUI7UUFDRCxJQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsNkJBQTZCLEVBQUUsQ0FBQztRQUM3RCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxDQUFDLENBQUM7UUFFdkMsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLDJCQUEyQixFQUFFLENBQUM7UUFDbkQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRS9CLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBRTVCLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDbEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsR0FBRyxJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1NBQ3RGO1FBRUQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFFdkQsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFFekIsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQzNCLENBQUM7SUFFTyw4Q0FBYyxHQUF0QjtRQUNJLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQ25ELE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztTQUN2RDtRQUNELE9BQU8sU0FBUztJQUNwQixDQUFDO0lBRU8scURBQXFCLEdBQTdCLFVBQThCLFdBQW1CO1FBQzdDLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDZCxPQUFPO1NBQ1Y7UUFDRCxPQUFPLHdFQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRU8sNkRBQTZCLEdBQXJDO1FBQ0ksT0FBTyx3RkFBWSxDQUFDLG1CQUFtQixFQUFFLElBQUksRUFBRSxDQUFDO0lBQ3BELENBQUM7SUFFTywyREFBMkIsR0FBbkM7UUFDSSxPQUFPLHdGQUFZLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxFQUFFLENBQUM7SUFDbEQsQ0FBQztJQUVPLG9EQUFvQixHQUE1QjtRQUNJLElBQU0sVUFBVSxHQUFHLCtFQUFjLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDbkQsS0FBSyxJQUFJLFFBQVEsSUFBSSxVQUFVLEVBQUU7WUFDN0IsSUFBSSxVQUFVLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsRUFBRTtnQkFDbkUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQzthQUN0RDtTQUNKO0lBQ0wsQ0FBQztJQUVPLGdEQUFnQixHQUF4QixVQUF5QixTQUFjO1FBQ25DLElBQUksQ0FBQyxTQUFTO1lBQUUsT0FBTztRQUV2QixLQUFLLElBQUksUUFBUSxJQUFJLFNBQVMsRUFBRTtZQUM1QixJQUFJLFNBQVMsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLEVBQUU7Z0JBQ3BDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQ25EO1NBQ0o7SUFDTCxDQUFDO0lBRU0sb0RBQW9CLEdBQTNCO1FBQ0ksSUFBTSxpQkFBaUIsR0FBRyxFQUFFLENBQUM7UUFDN0IsSUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFFOUMsS0FBSyxJQUFJLFFBQVEsSUFBSSxnQkFBZ0IsRUFBRTtZQUNuQyxJQUFJLGdCQUFnQixDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtnQkFDdkYsaUJBQWlCLENBQUMsUUFBUSxDQUFDLEdBQUcsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDNUQ7U0FDSjtRQUNELE9BQU8saUJBQWlCLENBQUM7SUFDN0IsQ0FBQztJQUVNLDRDQUFZLEdBQW5CO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDbEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQ3hCO1FBRUQsSUFBSSxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDakQsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ3ZDO1FBRUQsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVPLHNFQUFzQyxHQUE5QztRQUFBLGlCQVFDO1FBUEcsMkRBQUssQ0FBQyxzQkFBc0IsQ0FBQyxRQUFRLEVBQUUsNkJBQTZCLEVBQUUsVUFBQyxDQUFjO1lBQ2pGLEtBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QixDQUFDLENBQUMsQ0FBQztRQUVILDJEQUFLLENBQUMsc0JBQXNCLENBQUMsUUFBUSxFQUFFLGlCQUFpQixFQUFFLFVBQUMsQ0FBYztZQUNyRSxLQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDekIsQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQUVPLGlEQUFpQixHQUF6QjtRQUNJLElBQU0sY0FBYyxHQUFHLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUUsRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUVwRixLQUFLLElBQUksUUFBUSxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDbEMsSUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN4QyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsSUFBSSxjQUFjLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEtBQUssS0FBSyxTQUFTLEVBQUU7Z0JBQ3hHLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxDQUFDO2FBQ2xDO1NBQ0o7SUFDTCxDQUFDO0lBQ0wsNEJBQUM7QUFBRCxDQUFDOztBQUVNLElBQU0sZ0JBQWdCLEdBQUcsSUFBSSxxQkFBcUIsRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7O0FDbEpJO0FBQ0U7QUFDbEM7QUFNc0I7QUFFdEQ7SUFBQTtJQWtMQSxDQUFDO0lBcktVLDZCQUFnQixHQUF2QixVQUF3QixPQUFhLEVBQUUsTUFBMEI7UUFBMUIsMkNBQTBCO1FBQzdELElBQUksV0FBVyxHQUFHLElBQUksc0ZBQVcsRUFBRSxDQUFDO1FBQ3BDLElBQUksU0FBUyxHQUFHLFdBQVcsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUUzQyxPQUFPLEdBQUcsT0FBTyxJQUFJLEVBQUUsQ0FBQztRQUN4QixPQUFPLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDO1FBQ3hDLElBQUksU0FBUyxFQUFFO1lBQ1gsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ3ZEO1FBQ0QsT0FBTyxPQUFPLENBQUM7SUFDbkIsQ0FBQztJQUVNLGtDQUFxQixHQUE1QixVQUE2QixPQUFhLEVBQUUsTUFBK0I7UUFBL0IsZ0RBQStCO1FBQ3ZFLE9BQU8sR0FBRyxPQUFPLElBQUksRUFBRSxDQUFDO1FBQ3hCLE9BQU8sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUM7UUFDeEMsSUFBSSx3RkFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDLFdBQVcsRUFBRSxLQUFLLFNBQVMsRUFBRTtZQUN4RCxJQUFNLE1BQU0sR0FBRyx3RkFBWSxDQUFDLG9CQUFvQixFQUFFLENBQUM7WUFDbkQsSUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7WUFFbEQsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO2dCQUNyQyxVQUFVLEVBQUUscURBQUssQ0FBQyxvQkFBb0IsRUFBRTtnQkFDeEMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsd0ZBQVksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDO2dCQUM3RSxhQUFhLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDO2FBQzFHLENBQUMsQ0FBQztTQUNOO1FBQ0QsT0FBTyxPQUFPLENBQUM7SUFDbkIsQ0FBQztJQUVNLDZCQUFnQixHQUF2QixVQUF3QixHQUFtQixFQUFFLEtBQW9CO1FBQzdELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUM3QixHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQzVCLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDekIsR0FBRyxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUN2QyxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFTSxxQ0FBd0IsR0FBL0IsVUFBZ0MsS0FBb0I7UUFDaEQsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzdCLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN0QyxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3pCLEdBQUcsR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2pELE9BQU8sZUFBYSxHQUFLLENBQUM7SUFDOUIsQ0FBQztJQUVNLDZCQUFnQixHQUF2QixVQUF3QixPQUFhLEVBQUUsTUFBNEI7UUFBNUIsNkNBQTRCO1FBQy9ELE9BQU8sR0FBRyxPQUFPLElBQUksRUFBRSxDQUFDO1FBQ3hCLE9BQU8sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUM7UUFDeEMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzdCLEdBQUcsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDNUIsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN6QixPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUM5QixPQUFPLE9BQU8sQ0FBQztJQUNuQixDQUFDO0lBRU0seUJBQVksR0FBbkIsVUFBb0IsVUFBeUIsRUFBRSxPQUFnQixFQUFFLFdBQWtCO1FBQy9FLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQixJQUFJLElBQUksQ0FBQyxhQUFhLElBQUksQ0FBQyxPQUFPLElBQUksV0FBVyxDQUFDLE1BQU0sRUFBRTtZQUN0RCxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztZQUMxQixJQUFJLENBQUMsU0FBUyxJQUFJLG1CQUFpQixPQUFPLGFBQVEsV0FBVyxDQUFDLE1BQU0sY0FBUyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBRyxDQUFDO1NBQ3ZIO0lBQ0wsQ0FBQztJQUVNLHlCQUFZLEdBQW5CLFVBQW9CLFdBQTRCLEVBQUUsT0FBMEI7UUFDeEUsSUFBSSxDQUFDLFNBQVMsSUFBSSxhQUFVLFFBQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxRQUFRLEtBQUksS0FBSyxlQUFTLDRFQUFjLENBQUMsUUFBUSxDQUFDLGFBQWEsUUFBSyxDQUFDO1FBQzFHLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQyxhQUFhLElBQUksV0FBVyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsS0FBSyxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQ3hGLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO1lBQzFCLElBQUksQ0FBQyxTQUFTLElBQUkscUJBQW1CLElBQUksQ0FBQyxXQUFXLFNBQUksSUFBSSxDQUFDLFlBQVksY0FBUyxJQUFJLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUFHLENBQUM7U0FDNUg7SUFDTCxDQUFDO0lBRU0sZ0NBQW1CLEdBQTFCLFVBQTJCLE9BQWU7UUFDdEMsSUFBSSxDQUFDLFNBQVMsSUFBSSxrQkFBZ0IsT0FBTyxRQUFLLENBQUM7SUFDbkQsQ0FBQztJQUVNLDhCQUFpQixHQUF4QixVQUF5QixXQUE0QjtRQUNqRCxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDaEIsV0FBVyxDQUFDLE9BQU8sQ0FBQyxVQUFDLEtBQW9CO1lBQ3JDLElBQU0sSUFBSSxHQUFHO2dCQUNULEVBQUUsRUFBRSxLQUFLLENBQUMsRUFBRTtnQkFDWixFQUFFLEVBQUUsS0FBSyxDQUFDLFNBQVM7Z0JBQ25CLEdBQUcsRUFBRSxLQUFLLENBQUMsUUFBUTthQUN0QixDQUFDO1lBQ0YsTUFBTSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkMsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRU0sd0JBQVcsR0FBbEI7UUFDSSxJQUFJLEdBQUcsR0FBTSxJQUFJLENBQUMsUUFBUSxFQUFFLFNBQUkscURBQUssQ0FBQyxVQUFVLEVBQUUsU0FBSSxxREFBSyxDQUFDLFVBQVUsRUFBRSxTQUFJLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFJLENBQUM7UUFDbkcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRTtZQUN2QixHQUFHLElBQUksTUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFHLENBQUM7U0FDbEQ7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFTSwwQkFBYSxHQUFwQixVQUFxQixJQUFtQixFQUFFLE1BQWM7UUFDcEQsSUFBSSxDQUFDLElBQUk7WUFBRSxPQUFPO1FBQ2xCLElBQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUNyQyxJQUFJO1lBQ0EsSUFBTSxVQUFVLEdBQVksWUFBWSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN0RCxJQUFJLFVBQVUsRUFBRTtnQkFDWixNQUFNLEdBQU0sVUFBVSxTQUFJLE1BQVEsQ0FBQzthQUN0QztZQUNELFlBQVksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBQ3JDO1FBQUMsT0FBTyxDQUFDLEVBQUUsR0FBRTtJQUNsQixDQUFDO0lBRU0sMEJBQWEsR0FBcEI7UUFDSSxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUM7SUFDaEMsQ0FBQztJQUVNLDZCQUFnQixHQUF2QjtRQUFBLGlCQWdCQztRQWZHLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUNiLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQUMsR0FBVyxJQUFLLFVBQUcsQ0FBQyxVQUFVLENBQUMsS0FBSSxDQUFDLFNBQVMsQ0FBQyxFQUE5QixDQUE4QixDQUFDO2FBQzVFLE9BQU8sQ0FBQyxVQUFDLEdBQVc7WUFDakIsSUFBSTtnQkFDQSxJQUFNLEtBQUssR0FBVyxZQUFZLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNoRCxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtvQkFDekMsR0FBRyxJQUFJLFNBQU8sR0FBRyxlQUFVLEtBQU8sQ0FBQztpQkFDdEM7YUFDSjtZQUFDLE9BQU8sQ0FBQyxFQUFFLEdBQUU7UUFDbEIsQ0FBQyxDQUFDLENBQUM7UUFDUCxJQUFJLEdBQUcsRUFBRTtZQUNMLEdBQUcsR0FBRyxzQkFBc0IsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUN6RDtRQUNELElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsZUFBZSxHQUFHLEdBQUcsQ0FBQztJQUMvQixDQUFDO0lBRU0sNEJBQWUsR0FBdEIsVUFBdUIsT0FBZTtRQUF0QyxpQkFTQztRQVJHLElBQUksR0FBRyxHQUFHLGNBQWMsQ0FBQztRQUN6QixNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFDLEdBQVcsSUFBSyxVQUFHLENBQUMsVUFBVSxDQUFDLEtBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUE3RCxDQUE2RCxDQUFDO2FBQzNHLE9BQU8sQ0FBQyxVQUFDLEdBQVc7WUFDakIsSUFBSTtnQkFDQSxHQUFHLElBQUksWUFBWSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7YUFDMUM7WUFBQyxPQUFPLENBQUMsRUFBRSxHQUFFO1FBQ2xCLENBQUMsQ0FBQyxDQUFDO1FBQ1AsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRU0sNEJBQWUsR0FBdEI7UUFBQSxpQkFPQztRQU5HLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQUMsR0FBVyxJQUFLLFVBQUcsQ0FBQyxVQUFVLENBQUMsS0FBSSxDQUFDLFNBQVMsQ0FBQyxFQUE5QixDQUE4QixDQUFDO2FBQzVFLE9BQU8sQ0FBQyxVQUFDLEdBQVc7WUFDakIsSUFBSTtnQkFDQSxZQUFZLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQzthQUMvQjtZQUFDLE9BQU8sQ0FBQyxFQUFFLEdBQUU7UUFDbEIsQ0FBQyxDQUFDLENBQUM7SUFDWCxDQUFDO0lBRU0sK0JBQWtCLEdBQXpCLFVBQTBCLFlBQW9CO1FBQzFDLElBQUksQ0FBQyxPQUFPLElBQU8sWUFBWSxNQUFHLENBQUM7SUFDdkMsQ0FBQztJQUVNLHVCQUFVLEdBQWpCO1FBQ0ksSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRTtZQUNyQixHQUFHLElBQUksb0JBQWtCLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFHLENBQUM7U0FDeEQ7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFTSwyQkFBYyxHQUFyQixVQUFzQixLQUFhO1FBQy9CLElBQUksQ0FBQyxPQUFPLElBQUksWUFBVSxLQUFLLE1BQUcsQ0FBQztJQUN2QyxDQUFDO0lBL0tjLHNCQUFTLEdBQUcsRUFBRSxDQUFDO0lBQ2Ysd0JBQVcsR0FBRyxDQUFDLENBQUM7SUFDaEIseUJBQVksR0FBRyxDQUFDLENBQUM7SUFDakIsMEJBQWEsR0FBRyxLQUFLLENBQUM7SUFFdEIsc0JBQVMsR0FBVyxpQkFBaUIsQ0FBQztJQUd0QyxvQkFBTyxHQUFHLEVBQUUsQ0FBQztJQUNiLHFCQUFRLEdBQUcsQ0FBQyxDQUFDO0lBdUtoQyxtQkFBQztDQUFBO0FBbEx3Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDWGM7QUFDVztBQUlsRDtJQUF5Qyx1Q0FBTztJQUFoRDs7SUF5QkEsQ0FBQztJQXRCVyxrREFBb0IsR0FBNUIsVUFBNkIsS0FBMEI7UUFDbkQsSUFBSSxNQUFNLEdBQUcsd0JBQXdCLENBQUM7UUFDdEMsSUFBSTtZQUNBLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDekMsSUFBSSxjQUFjLEdBQUcsSUFBSSxzRUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzNDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxhQUFhLEVBQUUsY0FBYyxDQUFDLENBQUM7WUFDekQsT0FBTyxjQUFjLENBQUM7U0FDekI7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hCO0lBQ0wsQ0FBQztJQUVELDJDQUFhLEdBQWI7UUFDSSxpQkFBTSxhQUFhLFdBQUUsQ0FBQztRQUN0QixJQUFJLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFDbkIsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFO1lBQzlCLFNBQVMsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3ZFO1FBQUEsQ0FBQztRQUNGLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNuQyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDM0IsQ0FBQztJQUVMLDBCQUFDO0FBQUQsQ0FBQyxDQXpCd0MseURBQU8sR0F5Qi9DOzs7Ozs7Ozs7Ozs7QUM5Qk0sSUFBTSxjQUFjLEdBQUc7SUFDMUIsS0FBSyxFQUFFLE9BQU87SUFDZCxRQUFRLEVBQUUsVUFBVTtJQUNwQixPQUFPLEVBQUUsU0FBUztJQUNsQixLQUFLLEVBQUUsT0FBTztJQUNkLE1BQU0sRUFBRSxRQUFRO0lBQ2hCLE1BQU0sRUFBRSxRQUFRO0lBQ2hCLE1BQU0sRUFBRSxRQUFRO0lBQ2hCLFFBQVEsRUFBRSxVQUFVO0lBQ3BCLE1BQU0sRUFBRSxRQUFRO0NBQ25CO0FBRU0sSUFBTSxTQUFTLEdBQUc7SUFDckIsYUFBYSxFQUFFLGVBQWU7SUFDOUIsc0JBQXNCLEVBQUUsd0JBQXdCO0lBQ2hELFVBQVUsRUFBRSxZQUFZO0lBQ3hCLFNBQVMsRUFBRSxXQUFXO0lBQ3RCLFdBQVcsRUFBRSxhQUFhO0lBRTFCLGdCQUFnQixFQUFFLGtCQUFrQjtJQUVwQyxhQUFhLEVBQUUsZUFBZTtJQUM5QixlQUFlLEVBQUUsaUJBQWlCO0lBQ2xDLGNBQWMsRUFBRSxnQkFBZ0I7SUFDaEMsUUFBUSxFQUFFLFVBQVU7SUFDcEIsY0FBYyxFQUFFLGdCQUFnQjtJQUNoQyxPQUFPLEVBQUUsU0FBUztJQUNsQixlQUFlLEVBQUUsaUJBQWlCO0lBQ2xDLG1CQUFtQixFQUFFLHFCQUFxQjtJQUMxQyxnQkFBZ0IsRUFBRSxrQkFBa0I7SUFDcEMsYUFBYSxFQUFFLGVBQWU7SUFDOUIsYUFBYSxFQUFFLGVBQWU7SUFDOUIsVUFBVSxFQUFFLFlBQVk7SUFDeEIsY0FBYyxFQUFFLGdCQUFnQjtDQUNuQztBQUVNLElBQU0sVUFBVSxHQUFHO0lBQ3RCLFFBQVEsRUFBRSxVQUFVO0NBQ3ZCOzs7Ozs7Ozs7O0FDdENzRTtBQUd2RTtJQW9CSTtRQWxCUSxXQUFNLEdBQVcsZ0ZBQWEsQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUcvRCw4QkFBeUIsR0FBRyxFQUFFLENBQUM7UUFDaEMsd0JBQW1CLEdBQXlCLEVBQUUsQ0FBQztRQUMvQywwQkFBcUIsR0FBeUIsRUFBRSxDQUFDO1FBY3BELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxtQkFBbUIsR0FBd0IsRUFBRSxDQUFDO1FBQ25ELElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO0lBQ2hDLENBQUM7SUFkRCxzQkFBVywyQkFBUTthQUFuQjtZQUNJLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxTQUFTLEVBQUU7Z0JBRXZELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxlQUFlLEVBQUUsQ0FBQzthQUN6QztpQkFBTTthQUVOO1lBQ0QsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3pCLENBQUM7OztPQUFBO0lBUU0sK0JBQUssR0FBWixVQUFhLFVBQW1CO1FBQzVCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxVQUFVLENBQUM7SUFDdkMsQ0FBQztJQUVNLGlDQUFPLEdBQWQ7UUFDSSxJQUFJO1lBQ0EsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLHFCQUFxQixFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1lBRTVHLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFO2dCQUV2QixJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7YUFDcEQ7WUFFRCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDcEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7U0FDdEU7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hCO0lBQ0wsQ0FBQztJQUtPLDhDQUFvQixHQUE1QjtRQUNJLElBQUk7WUFDQSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO1lBQ2hELElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQWdCO2dCQUN6QyxFQUFFLEVBQUUsYUFBYTtnQkFDakIsSUFBSSxFQUFFLGFBQWE7Z0JBQ25CLFFBQVEsRUFBRSxJQUFJO2dCQUNkLFlBQVksRUFBRSxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUM7YUFDcEMsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBZ0I7Z0JBQ3pDLEVBQUUsRUFBRSxVQUFVO2dCQUNkLElBQUksRUFBRSxVQUFVO2dCQUNoQixRQUFRLEVBQUUsSUFBSTtnQkFDZCxZQUFZLEVBQUUsQ0FBQyxVQUFVLEVBQUUsYUFBYSxFQUFFLGFBQWEsQ0FBQzthQUMzRCxDQUFDLENBQUM7WUFDSCxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFnQjtnQkFDekMsRUFBRSxFQUFFLFNBQVM7Z0JBQ2IsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsUUFBUSxFQUFFLElBQUk7Z0JBQ2QsWUFBWSxFQUFFLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQzthQUMxQyxDQUFDLENBQUM7WUFDSCxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFnQjtnQkFDekMsRUFBRSxFQUFFLFFBQVE7Z0JBQ1osSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsUUFBUSxFQUFFLElBQUk7Z0JBQ2QsWUFBWSxFQUFFLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxXQUFXLENBQUM7YUFDbEQsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBZ0I7Z0JBQ3pDLEVBQUUsRUFBRSxPQUFPO2dCQUNYLElBQUksRUFBRSxPQUFPO2dCQUNiLFFBQVEsRUFBRSxJQUFJO2dCQUNkLFlBQVksRUFBRSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUM7YUFDdEMsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBZ0I7Z0JBQ3pDLEVBQUUsRUFBRSxNQUFNO2dCQUNWLElBQUksRUFBRSxNQUFNO2dCQUNaLFFBQVEsRUFBRSxLQUFLO2dCQUNmLFlBQVksRUFBRSxDQUFDLE1BQU0sQ0FBQzthQUN6QixDQUFDLENBQUM7WUFDSCxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFnQjtnQkFDekMsRUFBRSxFQUFFLFdBQVc7Z0JBQ2YsSUFBSSxFQUFFLFdBQVc7Z0JBQ2pCLFFBQVEsRUFBRSxLQUFLO2dCQUNmLFlBQVksRUFBRSxDQUFDLFdBQVcsQ0FBQzthQUM5QixDQUFDLENBQUM7WUFDSCxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFnQjtnQkFDekMsRUFBRSxFQUFFLGFBQWE7Z0JBQ2pCLElBQUksRUFBRSxhQUFhO2dCQUNuQixRQUFRLEVBQUUsS0FBSztnQkFDZixZQUFZLEVBQUUsQ0FBQyxhQUFhLEVBQUUsU0FBUyxFQUFFLDRCQUE0QixFQUFFLFlBQVksQ0FBQzthQUN2RixDQUFDLENBQUM7WUFFSCxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFnQjtnQkFDekMsRUFBRSxFQUFFLE1BQU07Z0JBQ1YsSUFBSSxFQUFFLE1BQU07Z0JBQ1osUUFBUSxFQUFFLEtBQUs7Z0JBQ2Ysb0JBQW9CLEVBQUUsSUFBSTthQUM3QixDQUFDLENBQUM7WUFFSCxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFnQjtnQkFDekMsRUFBRSxFQUFFLFVBQVU7Z0JBQ2QsSUFBSSxFQUFFLFVBQVU7Z0JBQ2hCLFFBQVEsRUFBRSxLQUFLO2dCQUNmLG9CQUFvQixFQUFFLElBQUk7YUFDN0IsQ0FBQyxDQUFDO1lBR0gsSUFBSSxDQUFDLHFCQUFxQixHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1NBQ3BHO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN4QjtJQUNMLENBQUM7SUFDTSw2Q0FBbUIsR0FBMUI7UUFDSSxPQUFPLElBQUksQ0FBQyx5QkFBeUIsQ0FBQztJQUMxQyxDQUFDO0lBRU0sOENBQW9CLEdBQTNCLFVBQTRCLFVBQWtCO1FBQTlDLGlCQTBCQztRQXpCRyxJQUFJO1lBRUEsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQzNCLGFBQUc7Z0JBQ0MsSUFBSSxJQUFJLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUMzQixLQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLE9BQU8sSUFBSSxDQUFDLENBQUM7Z0JBQzFDLElBQUksT0FBTyxJQUFJLEtBQUssVUFBVSxFQUFFO29CQUM1QixLQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQztvQkFDakMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO29CQUN6QixLQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsRUFBRSxNQUFNLENBQUMsQ0FBQztvQkFDL0MsS0FBSSxDQUFDLDRCQUE0QixDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztvQkFDL0MsS0FBSSxDQUFDLHlCQUF5QixDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQztvQkFDN0MsSUFBSSxLQUFLLEdBQUcsS0FBSSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxXQUFDLElBQUksUUFBQyxDQUFDLEVBQUUsS0FBSyxHQUFHLEVBQVosQ0FBWSxDQUFDLENBQUM7b0JBRWxFLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTt3QkFDWixLQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsS0FBSSxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7d0JBRW5FLEtBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO3FCQUM3QztpQkFDSjtZQUNMLENBQUMsQ0FDSixDQUFDO1NBQ0w7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hCO0lBQ0wsQ0FBQztJQUVPLHNDQUFZLEdBQXBCO1FBQUEsaUJBc0JDO1FBcEJHLElBQUk7WUFDQSxJQUFJLElBQUksR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUM7WUFHN0MsS0FBSyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxVQUFDLElBQUk7Z0JBR3BDLElBQUksUUFBUSxHQUF3QixLQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUUzRCxJQUFJLFFBQVEsRUFBRTtvQkFHVixLQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2lCQUM3QjtZQUNMLENBQUMsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsMEJBQTBCLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDeEUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsNEJBQTRCLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7U0FDL0U7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hCO0lBQ0wsQ0FBQztJQUVPLHFDQUFXLEdBQW5CLFVBQW9CLE9BQU87UUFDdkIsSUFBSTtZQUNBLElBQUksWUFBWSxHQUFHLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2hHLElBQUksUUFBUSxHQUFHLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3BGLElBQUksZUFBZSxHQUFHLFFBQVEsSUFBSSxZQUFZLENBQUM7WUFDL0MsSUFBSSxlQUFlLEVBQUU7Z0JBQ2pCLElBQUksU0FBUyxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQztnQkFDL0QsSUFBSSxTQUFTLEVBQUU7b0JBQ1gsSUFBSSxHQUFHLEdBQXdCO3dCQUMzQixJQUFJLEVBQUUsZUFBZTt3QkFDckIsS0FBSyxFQUFFLFNBQVM7cUJBQ25CLENBQUM7b0JBRUYsT0FBTyxHQUFHLENBQUM7aUJBQ2Q7YUFDSjtTQUNKO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyQixPQUFPLElBQUksQ0FBQztTQUNmO0lBQ0wsQ0FBQztJQU1PLG9DQUFVLEdBQWxCLFVBQW1CLE9BQTRCO1FBQS9DLGlCQW9FQztRQW5FRyxJQUFJO1lBQ0EsSUFBSSxNQUFNLEdBQUcsWUFBWSxDQUFDO1lBc0MxQixJQUFJLGNBQWMsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDLFVBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLO2dCQUV2RSxJQUFHLENBQUMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBQztvQkFDakMsT0FBTztpQkFDVjtnQkFDRCxJQUFJLFNBQVMsR0FBWSxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxXQUFDLElBQUksUUFBQyxLQUFLLE9BQU8sQ0FBQyxJQUFJLEVBQWxCLENBQWtCLENBQUMsQ0FBQztnQkFDNUUsSUFBSSxTQUFTLEVBQUU7b0JBR1gsSUFBSSxnQkFBZ0IsR0FBWSxLQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLFdBQUMsSUFBSSxRQUFDLENBQUMsSUFBSSxLQUFLLE9BQU8sQ0FBQyxFQUFFLEVBQXJCLENBQXFCLENBQUMsQ0FBQztvQkFNMUYsSUFBSSxDQUFDLGdCQUFnQixFQUFFO3dCQUVuQixLQUFJLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7cUJBQ3hEO3lCQUFNO3FCQUVOO2lCQUNKO3FCQUFNO2lCQUVOO1lBQ0wsQ0FBQyxDQUFDLENBQUM7U0FDTjtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDeEI7SUFDTCxDQUFDO0lBRUQsc0RBQTRCLEdBQTVCLFVBQTZCLGFBQWEsRUFBRSxNQUFNO1FBQzlDLElBQU0sZ0JBQWdCLEdBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxXQUFDLElBQUksUUFBQyxDQUFDLElBQUksS0FBSyxhQUFhLEVBQXhCLENBQXdCLENBQUMsQ0FBQztRQUNyRixJQUFHLGdCQUFnQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLEVBQUM7WUFDekQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQztTQUMzRDtJQUNMLENBQUM7SUFDTCxzQkFBQztBQUFELENBQUM7Ozs7Ozs7Ozs7Ozs7QUMxUnNFO0FBQ2I7QUFFSDtBQUV2RDtJQW1CSTtRQWpCUSxXQUFNLEdBQVcsZ0ZBQWEsQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUM7UUFrQi9ELElBQUksQ0FBQyxpQkFBaUIsR0FBRyxpRUFBaUIsQ0FBQyxRQUFRLENBQUM7UUFDcEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDMUIsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDNUIsQ0FBQztJQWRELHNCQUFXLHVCQUFRO2FBQW5CO1lBQ0ksSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLFNBQVMsRUFBRTtnQkFFdkQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLFdBQVcsRUFBRSxDQUFDO2FBQ3JDO2lCQUFNO2FBRU47WUFDRCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDekIsQ0FBQzs7O09BQUE7SUFRTyxzQ0FBZ0IsR0FBeEI7UUFDSSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxhQUFhLEdBQUcsNkVBQWMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNsRCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsRUFBRSxvQkFBb0IsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDcEYsQ0FBQztJQUVNLGtDQUFZLEdBQW5CLFVBQW9CLFNBQWlCLEVBQUUsUUFBYTtRQUNoRCxJQUFJO1lBQ0EsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsNEJBQTRCLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNqRixJQUFJLFNBQVMsRUFBRTtnQkFDWCxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQzthQUN6RDtZQUNELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLDRCQUE0QixFQUFFLFNBQVMsQ0FBQyxDQUFDO1NBQzlEO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN4QjtJQUNMLENBQUM7SUFDTCxrQkFBQztBQUFELENBQUM7Ozs7Ozs7Ozs7Ozs7QUMvQ21FO0FBQ1o7QUFHeEQ7SUFBQTtJQTJCQSxDQUFDO0lBekJFLG1EQUFzQixHQUF0QjtRQUNHLE9BQU8seUZBQW1CLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztJQUN2RCxDQUFDO0lBRUQscURBQXdCLEdBQXhCLFVBQXlCLGNBQWM7UUFDcEMsT0FBTyw2RUFBYSxDQUFDLHlCQUF5QixDQUFDLGNBQWMsQ0FBQztJQUNqRSxDQUFDO0lBRUQsMkNBQWMsR0FBZDtRQUNHLElBQUksTUFBTSxDQUFDLE9BQU8sRUFBRTtZQUNqQixPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFO1NBQ3hDO2FBQU07WUFDSixPQUFPLHdCQUF3QjtTQUNqQztJQUNKLENBQUM7SUFFRCwwQ0FBYSxHQUFiO1FBQ0csSUFBRyxNQUFNLENBQUMsT0FBTyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFDO1lBQ3hDLE9BQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLENBQUM7U0FDakQ7YUFBSTtZQUNGLE9BQU8sSUFBSSxDQUFDO1NBQ2Q7SUFFSixDQUFDO0lBRUoseUJBQUM7QUFBRCxDQUFDOztBQUVNLElBQU0sYUFBYSxHQUFHLElBQUksa0JBQWtCLEVBQUUsQ0FBQzs7Ozs7Ozs7QUNqQ3REO0FBQUE7SUFLSSxnQ0FBWSxPQUFlLEVBQUUsS0FBVSxFQUFFLFFBQXlCO1FBQXpCLDJDQUF5QjtRQUM5RCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsSUFBSSxLQUFLLENBQUM7SUFDdEMsQ0FBQztJQUNMLDZCQUFDO0FBQUQsQ0FBQzs7Ozs7Ozs7Ozs7QUNUMkQ7QUFJNUQ7SUFBQTtRQUVjLFdBQU0sR0FBVyxrRkFBYSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN6RCxjQUFTLEdBQUcsRUFBRSxDQUFDO0lBbUI3QixDQUFDO0lBakJHLGtDQUFjLEdBQWQ7UUFBQSxpQkFZQztRQVhHLElBQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRXhDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBQyxTQUFTO1lBQ3JCLElBQUk7Z0JBQ0EsSUFBSSxhQUFhLEdBQWEsSUFBSSxLQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUM7Z0JBQzNELEtBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsYUFBYSxDQUFDO2dCQUMxQyxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUM7YUFDMUI7WUFBQyxPQUFPLENBQUMsRUFBRTtnQkFDUixLQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUN4QjtRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUFBLENBQUM7SUFFRix1Q0FBbUIsR0FBbkI7UUFDSSxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBQ0wsZ0JBQUM7QUFBRCxDQUFDOzs7Ozs7Ozs7QUN6QkQ7QUFBQTtJQVlJLHNCQUFZLElBQWdDO1FBQ3hDLElBQUksQ0FBQyxJQUFJO1lBQUUsT0FBTztRQUNsQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDaEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQzlCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUM1QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQzVCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUM1QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDdEIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUM1QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDMUIsQ0FBQztJQUNMLG1CQUFDO0FBQUQsQ0FBQzs7Ozs7Ozs7O0FDekJEO0FBQUE7SUFJSSw4QkFBWSxJQUFtQztRQUMzQyxJQUFJLENBQUMsSUFBSTtZQUFFLE9BQU87UUFDbEIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUN4QyxDQUFDO0lBQ0wsMkJBQUM7QUFBRCxDQUFDOzs7Ozs7Ozs7Ozs7QUNWb0M7QUFDYztBQUVuRDtJQWdCSSx1QkFBWSxJQUFTO1FBZnJCLE9BQUUsR0FBVywyREFBSyxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBYWhDLGNBQVMsR0FBNkIsRUFBRSxDQUFDO1FBR3JDLHlFQUFZLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxJQUFJO1lBQUUsT0FBTztRQUNsQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDaEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztRQUMxQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDOUIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxzQkFBc0IsR0FBRyxJQUFJLENBQUMsc0JBQXNCLENBQUM7UUFDMUQsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUNsQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDOUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLGVBQWUsSUFBSSxTQUFTLENBQUM7UUFDekQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxJQUFJLFNBQVMsQ0FBQztRQUNqRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDcEMsQ0FBQztJQUNMLG9CQUFDO0FBQUQsQ0FBQzs7Ozs7Ozs7Ozs7QUNwQ3NEO0FBRXZEO0lBS0k7UUFDSSxJQUFNLFFBQVEsR0FBRyw2RUFBYyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBRTlDLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQztRQUNoQyxJQUFJLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQyxVQUFVLENBQUM7UUFDaEMsSUFBSSxDQUFDLEVBQUUsR0FBRyxRQUFRLENBQUMsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFDTCxrQkFBQztBQUFELENBQUM7Ozs7Ozs7OztBQ2JEO0FBQUE7SUFNSSx1QkFBWSxLQUEwQjtRQUNsQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsSUFBSTtZQUMxQixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUM7UUFDbkMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFTyxrQ0FBVSxHQUFsQixVQUFtQixLQUEwQjtRQUN6QyxJQUFHLEtBQUssQ0FBQyxPQUFPLEVBQUM7WUFDYixPQUFPLEtBQUssQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7U0FDbkM7YUFBSTtZQUNELElBQUcsS0FBSyxDQUFDLE1BQU0sRUFBQztnQkFDWixPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUM7YUFDbEM7aUJBQUk7Z0JBQ0QsT0FBTyxFQUFFLENBQUM7YUFDYjtTQUNKO0lBQ0wsQ0FBQztJQUVPLG9DQUFZLEdBQXBCLFVBQXFCLEtBQTBCO1FBQzNDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxJQUFJLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxFQUFFO1lBQ3hELE9BQU8sTUFBTSxDQUFDO1NBQ2pCO2FBQU0sSUFBSSxLQUFLLENBQUMsU0FBUyxFQUFFO1lBQ3hCLE9BQU8sU0FBUyxDQUFDO1NBQ3BCO2FBQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxFQUFFO1lBQ3RCLE9BQU8sT0FBTyxDQUFDO1NBQ2xCO2FBQU07WUFDSCxPQUFPLFNBQVMsQ0FBQztTQUNwQjtJQUNMLENBQUM7SUFFTCxvQkFBQztBQUFELENBQUM7Ozs7Ozs7Ozs7OztBQ3RDcUM7QUFHdEM7SUFHSTtRQUNJLElBQUksQ0FBQyxPQUFPLEdBQUcsMkRBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUMxQyxDQUFDO0lBRU0seUNBQVcsR0FBbEI7UUFDSSxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0saUNBQUcsR0FBVixVQUFXLEdBQVcsRUFBRSxTQUFjO1FBQWQsMENBQWM7UUFDbEMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUVNLGlDQUFHLEdBQVYsVUFBVyxHQUFXLEVBQUUsS0FBc0IsRUFBRSxPQUF1QixFQUFFLFNBQWM7UUFBZCwwQ0FBYztRQUNuRixJQUFJLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxFQUFFO1lBQy9CLElBQUksVUFBVSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7WUFDNUIsVUFBVSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQzlELE9BQU8sQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDO1NBQ2hDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVNLG9DQUFNLEdBQWIsVUFBYyxHQUFXLEVBQUUsT0FBUTtRQUMvQixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVNLG1DQUFLLEdBQVo7UUFDSSxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0wsMEJBQUM7QUFBRCxDQUFDOztBQUVNLElBQU0sY0FBYyxHQUFHLElBQUksbUJBQW1CLEVBQUUsQ0FBQzs7Ozs7Ozs7OztBQ3JDakQsSUFBTSxTQUFTLEdBQUc7SUFDckIsVUFBVSxFQUFFLE9BQU87SUFDbkIsWUFBWSxFQUFFLFlBQVk7SUFDMUIsU0FBUyxFQUFFLFNBQVM7Q0FDdkI7QUFFTSxJQUFNLGdCQUFnQixHQUFHO0lBQzVCLGVBQWUsRUFBRSxTQUFTLENBQUMsT0FBTztJQUNsQyxZQUFZLEVBQUUsU0FBUyxDQUFDLFFBQVE7SUFDaEMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxVQUFVO0NBQ3BDOzs7Ozs7Ozs7Ozs7Ozs7QUNWc0U7QUFDK0Q7QUFDbEY7QUFDRjtBQUNLO0FBQ0c7QUFNMUQ7SUF3Qkk7UUFBQSxpQkFlQztRQXRDTyxXQUFNLEdBQVcsZ0ZBQWEsQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBVXZFLG9CQUFlLEdBQUcsRUFBRSxDQUFDO1FBY3pCLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxjQUFjLEdBQUcsdUVBQWMsQ0FBQyxRQUFRLENBQUM7UUFDOUMsSUFBSSxDQUFDLFlBQVksR0FBRyw0REFBWSxDQUFDLFFBQVEsQ0FBQztRQUMxQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsaUVBQWlCLENBQUMsUUFBUSxDQUFDO1FBQ3BELElBQUksQ0FBQyxrQkFBa0IsR0FBRyxrRUFBa0IsQ0FBQyxRQUFRLENBQUM7UUFDdEQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLHlFQUFlLENBQUMsUUFBUSxDQUFDO1FBQ2pELElBQUksQ0FBQyxrQkFBa0IsR0FBRywrRUFBa0IsQ0FBQyxRQUFRLENBQUM7UUFFdEQsSUFBTSx3QkFBd0IsR0FBRyxXQUFXLENBQUM7WUFDekMsSUFBSSxLQUFJLENBQUMsZUFBZSxJQUFJLEtBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxJQUFJLEtBQUksQ0FBQyxlQUFlLEVBQUUsRUFBRTtnQkFDL0UsYUFBYSxDQUFDLHdCQUF3QixDQUFDLENBQUM7Z0JBQ3hDLEtBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO2FBQ2pDO1FBQ0wsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQTFCRCxzQkFBVyx3QkFBUTthQUFuQjtZQUVJLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxTQUFTLEVBQUU7Z0JBRXZELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQzthQUN0QztpQkFBTTthQUVOO1lBQ0QsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3pCLENBQUM7OztPQUFBO0lBbUJELGdDQUFTLEdBQVQsVUFBVSxTQUFpQixFQUFFLFlBQXFCLEVBQUUsdUJBQWlDO1FBQ2pGLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRSxFQUFFO1lBQ3hCLElBQUksSUFBSSxDQUFDLGVBQWUsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRTtnQkFDckQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUM7b0JBQ3RCLFNBQVMsRUFBRSxTQUFTO29CQUNwQixZQUFZLEVBQUUsWUFBWTtvQkFDMUIsdUJBQXVCLEVBQUUsdUJBQXVCO2lCQUNuRCxDQUFDLENBQUM7Z0JBQ0gsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7YUFDakM7aUJBQU07Z0JBQ0osSUFBSSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxZQUFZLEVBQUUsdUJBQXVCLENBQUMsQ0FBQzthQUMzRTtTQUNKO2FBQU07WUFDSCxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQztnQkFDdEIsU0FBUyxFQUFFLFNBQVM7Z0JBQ3BCLFlBQVksRUFBRSxZQUFZO2dCQUMxQix1QkFBdUIsRUFBRSx1QkFBdUI7YUFDbkQsQ0FBQztTQUNMO0lBQ0wsQ0FBQztJQUVELHNDQUFlLEdBQWY7UUFDSSxJQUFJLDZFQUFjLENBQUMscUJBQXFCLEVBQUUsRUFBRTtZQUN4QyxPQUFPLElBQUksQ0FBQztTQUNmO2FBQU07WUFDSCxPQUFPLEtBQUssQ0FBQztTQUNoQjtJQUNMLENBQUM7SUFFRCw2Q0FBc0IsR0FBdEI7UUFBQSxpQkFTQztRQVJHLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFO1lBQ3ZCLE9BQU87U0FDVjtRQUNELElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLFVBQUMsS0FBVTtZQUNwQyxLQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsWUFBWSxFQUFFLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1FBQy9GLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLGVBQWUsR0FBRyxFQUFFLENBQUM7SUFDOUIsQ0FBQztJQUtNLHdDQUFpQixHQUF4QixVQUF5QixTQUFpQixFQUFFLFlBQXFCLEVBQUUsdUJBQWlDO1FBQ2hHLElBQUk7WUFJQSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQywyQkFBMkIsRUFBRSxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFFeEUsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBR3BELElBQUksQ0FBQyx1QkFBdUIsRUFBRTtnQkFDMUIsSUFBSSxDQUFDLFlBQVksRUFBRTtvQkFDZixZQUFZLEdBQUcsRUFBRSxDQUFDO2lCQUNyQjtnQkFDRCxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsbUJBQW1CLEVBQUU7b0JBQ3BFLFlBQVksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUMsQ0FBQztpQkFDekY7YUFDSjtZQUNELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQ3hELE9BQU8sWUFBWSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFHekMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFVBQVUsQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7U0FDL0Q7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hCO0lBQ0wsQ0FBQztJQUVELHlDQUFrQixHQUFsQjtRQUNJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNwQyxDQUFDO0lBQ0wsbUJBQUM7QUFBRCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUM3SDJFO0FBQ047QUFDaEI7QUFDakI7QUFFckM7SUFBQTtRQUNZLG9CQUFlLEdBQTZCLEVBQUUsQ0FBQztJQStCM0QsQ0FBQztJQTdCVSxnREFBbUIsR0FBMUIsVUFBMkIsS0FBd0I7UUFDL0MsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDakMsSUFBSSxLQUFLLENBQUMsNkJBQTZCLEVBQUUsRUFBRTtZQUN2QyxpR0FBdUIsQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDbEQ7SUFDTCxDQUFDO0lBRU0seUNBQVksR0FBbkI7UUFDSSwyREFBSyxDQUFDLHNCQUFzQixDQUFDLFFBQVEsRUFBRSw0RkFBaUIsQ0FBQyxlQUFlLEVBQUUsVUFBQyxLQUFrQjtZQUN6RixJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1lBQzdCLElBQUksU0FBUyxJQUFJLFNBQVMsQ0FBQyxFQUFFLElBQUksNEVBQVMsQ0FBQyxlQUFlLEVBQUU7Z0JBQ3hELGFBQWEsQ0FBQyxPQUFPLEVBQUUsQ0FBQzthQUMzQjtpQkFBTTtnQkFDSCxpR0FBdUIsQ0FBQyxTQUFTLEVBQUUsQ0FBQzthQUN2QztRQUNMLENBQUMsQ0FBQztJQUNOLENBQUM7SUFFTSxrREFBcUIsR0FBNUIsVUFBNkIsb0JBQThCO1FBQ3ZELE9BQU8saUdBQXVCLENBQUMscUJBQXFCLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUMvRSxDQUFDO0lBRU0sdURBQTBCLEdBQWpDO1FBQ0ksT0FBTyxpR0FBdUIsQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO0lBQzlELENBQUM7SUFFTSxvQ0FBTyxHQUFkO1FBQ0ksaUdBQXVCLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDdEMsQ0FBQztJQUNMLHlCQUFDO0FBQUQsQ0FBQzs7QUFFTSxJQUFNLGFBQWEsR0FBRyxJQUFJLGtCQUFrQixFQUFFLENBQUM7Ozs7Ozs7Ozs7Ozs7O0FDeENFO0FBQ2U7QUFDaEI7QUFFRTtBQUV6RDtJQUFBO1FBRVksbUJBQWMsR0FBRyxhQUFhLENBQUM7SUFvRTNDLENBQUM7SUFsRVUsaUNBQUssR0FBWjtRQUNJLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO0lBQ2hDLENBQUM7SUFFTSw0Q0FBZ0IsR0FBdkI7UUFDSSxJQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBQ25ELElBQUksZ0JBQWdCLEVBQUU7WUFDbEIsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7U0FDNUM7YUFBTTtZQUNILE9BQU8sNkVBQWMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztTQUN2QztJQUNMLENBQUM7SUFFTSxnREFBb0IsR0FBM0I7UUFBQSxpQkFXQztRQVZHLElBQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFDbkQsSUFBSSxnQkFBZ0IsRUFBRTtZQUNsQixPQUFPLDZFQUFjLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQUMsUUFBUTtnQkFDOUMsSUFBTSxNQUFNLEdBQUc7b0JBQ1gsS0FBSyxFQUFFLFFBQVE7b0JBQ2YsRUFBRSxFQUFFLGdCQUFnQjtpQkFDdkI7Z0JBQ0QsS0FBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3BDLENBQUMsQ0FBQztTQUNMO0lBQ0wsQ0FBQztJQUVNLDBDQUFjLEdBQXJCLFVBQXNCLE1BQTZCO1FBQy9DLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDcEMsNkVBQWMsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkQsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVPLDhDQUFrQixHQUExQixVQUEyQixNQUE2QjtRQUF4RCxpQkFVQztRQVRHLE9BQU8sSUFBSSxDQUFDLDJCQUEyQixDQUFDLE1BQU0sQ0FBQzthQUMxQyxJQUFJLENBQUM7WUFDRixLQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztZQUM3QiwrRUFBUyxDQUFDLDRCQUE0QixDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNyRCxPQUFPLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUM3QixDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsVUFBQyxLQUFLO1lBQ1gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNyQyxPQUFPLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUM1QixDQUFDLENBQUM7SUFDVixDQUFDO0lBRU0sdURBQTJCLEdBQWxDLFVBQW1DLE1BQTZCO1FBQzVELE9BQU8sOEVBQVcsQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUU7WUFDM0MsYUFBYSxFQUFFLE1BQU0sQ0FBQyxLQUFLO1lBQzNCLGFBQWEsRUFBRSxNQUFNLENBQUMsRUFBRTtTQUMzQixDQUFDO0lBQ04sQ0FBQztJQUVNLCtDQUFtQixHQUExQixVQUEyQixXQUFtQjtRQUUxQyw2RkFBYyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLFdBQVcsRUFBRSxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ2hGLENBQUM7SUFFTyw4Q0FBa0IsR0FBMUI7UUFDSSxPQUFPLDZGQUFjLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRU8saURBQXFCLEdBQTdCO1FBQ0ksNkZBQWMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFJTCx3QkFBQztBQUFELENBQUM7O0FBRU0sSUFBTSxZQUFZLEdBQUcsSUFBSSxpQkFBaUIsRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0VmO0FBQ0E7QUFDYTtBQUVsRDtJQUEwQyx3Q0FBTztJQUFqRDs7SUE0QkEsQ0FBQztJQTFCRyw0Q0FBYSxHQUFiO1FBQ0ksSUFBSSxDQUFDLFVBQVUsR0FBRyxpQkFBTSxhQUFhLFdBQUUsQ0FBQztRQUN4QyxJQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztRQUM5QixJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQy9ELE9BQU8sV0FBVyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxxREFBc0IsR0FBdEIsVUFBdUIsZUFBOEI7UUFBckQsaUJBa0JDO1FBakJHLElBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQztRQUNyQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUM7UUFDbEMsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBQyxLQUFVO2dCQUMzQixJQUFJLGNBQWMsR0FBRyxJQUFJLHNFQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzNDLElBQUksb0JBQW9CLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsZUFBZSxDQUFDLENBQUM7Z0JBQzlELG9CQUFvQixDQUFDLEVBQUUsR0FBRywyREFBSyxDQUFDLFVBQVUsRUFBRSxDQUFDO2dCQUM3QyxLQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxvQkFBb0IsRUFBRSxXQUFXLEVBQUUsY0FBYyxDQUFDLENBQUM7Z0JBQ3JFLElBQUksU0FBUyxHQUFHLEtBQUksQ0FBQyx3QkFBd0IsQ0FBQywyREFBSyxDQUFDLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZGLG9CQUFvQixDQUFDLFNBQVMsR0FBRyxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUNsRixXQUFXLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFDM0MsQ0FBQyxDQUFDLENBQUM7WUFDSCxPQUFPLFdBQVcsQ0FBQztTQUN0QjtRQUVELE9BQU8sSUFBSSxDQUFDO0lBRWhCLENBQUM7SUFDTCwyQkFBQztBQUFELENBQUMsQ0E1QnlDLHlEQUFPLEdBNEJoRDs7Ozs7Ozs7O0FDL0JEO0FBQUE7SUF5Qkksb0JBQVksS0FBMEI7UUFDbEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQzVCLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDO1lBQ2xELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMscUJBQXFCLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUMvRSxJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUM7UUFDeEMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUM7UUFDNUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQztRQUN4QyxJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUM7UUFDbEMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLEtBQUssQ0FBQyxlQUFlLENBQUM7UUFDbEQsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxLQUFLLENBQUMsZUFBZSxDQUFDO1FBQ2xELElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUNoQyxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDcEMsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQztRQUNwQyxJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUM7UUFDdEMsSUFBSSxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDO1FBQzlDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDO1FBQzFDLElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUNsRixJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUM7UUFDeEMsSUFBSSxDQUFDLHdCQUF3QixHQUFHLEtBQUssQ0FBQyxtQkFBbUIsSUFBSSxTQUFTLENBQUM7SUFDM0UsQ0FBQztJQUVPLHFDQUFnQixHQUF4QixVQUF5QixLQUFLO1FBQzFCLElBQUksS0FBSyxDQUFDLFNBQVMsRUFBRTtZQUNqQixPQUFPLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO1NBQy9CO2FBQU07WUFDSCxPQUFPLEtBQUssQ0FBQyxhQUFhLENBQUM7U0FDOUI7SUFDTCxDQUFDO0lBRU8saUNBQVksR0FBcEIsVUFBcUIsS0FBSztRQUN0QixJQUFJLEtBQUssQ0FBQyxTQUFTLEVBQUU7WUFDakIsT0FBTyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQztTQUMvQjthQUFNO1lBQ0gsT0FBTyxLQUFLLENBQUMsU0FBUyxDQUFDO1NBQzFCO0lBQ0wsQ0FBQztJQUVMLGlCQUFDO0FBQUQsQ0FBQzs7Ozs7Ozs7O0FDckVEO0FBQUE7SUFJSSwwQkFBWSxJQUFLO1FBSGpCLFlBQU8sR0FBWSxLQUFLLENBQUM7UUFDekIsYUFBUSxHQUFZLEtBQUssQ0FBQztRQUd0QixJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1AsT0FBTztTQUNWO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQzVCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUNsQyxDQUFDO0lBQ0wsdUJBQUM7QUFBRCxDQUFDOzs7Ozs7Ozs7QUNYRDtBQUFBO0lBVUksdUJBQVksSUFBSTtRQUNaLElBQUksQ0FBQyxJQUFJO1lBQUUsT0FBTztRQUNsQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDdEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUNwQyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7UUFDcEIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN4QixJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDeEIsQ0FBQztJQUNMLG9CQUFDO0FBQUQsQ0FBQzs7Ozs7Ozs7Ozs7O0FDcEIwQztBQUVtQztBQUU5RTtJQWFJLG1CQUFZLElBQUk7UUFDWixJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1AsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7WUFDMUIsT0FBTztTQUNWO1FBRUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDeEcsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztRQUNwQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDNUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQzFCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQUEsQ0FBQztRQUNyRixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDaEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxpRUFBUSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDM0QsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUVwQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBRUQsc0NBQWtCLEdBQWxCO1FBQ0ksSUFBTSxpQkFBaUIsR0FBUSxvR0FBZ0IsQ0FBQyxvQkFBb0IsRUFBRTtRQUN0RSxJQUFJLENBQUMsa0JBQWtCLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRUQsc0NBQWtCLEdBQWxCLFVBQW1CLFNBQWM7UUFDN0IsSUFBSSxDQUFDLFNBQVM7WUFBRSxPQUFPO1FBRXZCLEtBQUssSUFBSSxRQUFRLElBQUksU0FBUyxFQUFFO1lBQzVCLElBQUksU0FBUyxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsRUFBRTtnQkFDcEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUN4QztTQUNKO0lBQ0wsQ0FBQztJQUNMLGdCQUFDO0FBQUQsQ0FBQzs7Ozs7Ozs7Ozs7QUNuRE0sSUFBTSxjQUFjLEdBQUc7SUFDMUIsT0FBTyxFQUFFLFNBQVM7SUFDbEIsRUFBRSxFQUFFLElBQUk7SUFDUixNQUFNLEVBQUUsUUFBUTtDQUNuQjtBQUVNLElBQU0sT0FBTyxHQUFHO0lBQ25CLFNBQVMsRUFBRSxTQUFTO0lBQ3BCLElBQUksRUFBRSxJQUFJO0lBQ1YsUUFBUSxFQUFFLFFBQVE7Q0FDckI7Ozs7Ozs7OztBQ1ZNLElBQU0sWUFBWSxHQUFHO0lBQ3hCLHlCQUF5QixFQUFFLGFBQWE7SUFDeEMsMEJBQTBCLEVBQUUsY0FBYztJQUMxQyxxQkFBcUIsRUFBRSxTQUFTO0lBQ2hDLHVCQUF1QixFQUFFLFdBQVc7SUFDcEMsb0JBQW9CLEVBQUUsUUFBUTtDQUNqQzs7Ozs7Ozs7OztBQ0wyRDtBQUc1RDtJQUFBO1FBRVksV0FBTSxHQUFXLGtGQUFhLENBQUMsWUFBWSxDQUFDLHVCQUF1QixDQUFDLENBQUM7SUFhakYsQ0FBQztJQVhHLDJDQUFpQixHQUFqQjtRQUFBLGlCQVVDO1FBVEcsSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDdEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFDLFNBQVM7WUFDckIsSUFBSTtnQkFDQSxJQUFJLGFBQWEsR0FBZ0IsSUFBSSxLQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUM7Z0JBQzlELGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQzthQUMxQjtZQUFDLE9BQU8sQ0FBQyxFQUFFO2dCQUNSLEtBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3hCO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQUEsQ0FBQztJQUNOLHNCQUFDO0FBQUQsQ0FBQzs7Ozs7Ozs7Ozs7O0FDbkIwRDtBQUNDO0FBRzVEO0lBT0k7UUFKTyxXQUFNLEdBQVcsa0ZBQWEsQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUM7UUFLOUQsSUFBSSxDQUFDLFlBQVksR0FBRyxpRkFBWSxDQUFDLFFBQVEsQ0FBQztJQUM5QyxDQUFDO0lBRUQsNEJBQU0sR0FBTixjQUFXLENBQUM7SUFFWixvQ0FBYyxHQUFkO1FBQ0ksT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBRUQsMENBQW9CLEdBQXBCLFVBQXFCLElBQVM7UUFDMUIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztJQUNsQyxDQUFDO0lBRUQsb0NBQWMsR0FBZDtRQUNJLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM1QixDQUFDO0lBRUQsdUNBQWlCLEdBQWpCLFVBQWtCLE9BQVEsRUFBRSxPQUFRO1FBQ2hDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFLEVBQUUsT0FBTyxJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDO0lBQ3BHLENBQUM7SUFDTCxrQkFBQztBQUFELENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2hDMEQ7QUFFM0Q7SUFBd0Msc0NBQWtCO0lBQTFEO1FBQUEscUVBRUM7UUFERyxpQkFBVyxHQUFHLFlBQVksQ0FBQzs7SUFDL0IsQ0FBQztJQUFELHlCQUFDO0FBQUQsQ0FBQyxDQUZ1QywrRUFBa0IsR0FFekQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0owRDtBQUUzRDtJQUF1QyxxQ0FBa0I7SUFBekQ7UUFBQSxxRUFFQztRQURHLGlCQUFXLEdBQUcsV0FBVyxDQUFDOztJQUM5QixDQUFDO0lBQUQsd0JBQUM7QUFBRCxDQUFDLENBRnNDLCtFQUFrQixHQUV4RDs7Ozs7Ozs7O0FDRkQ7QUFBQTtJQUFBO0lBQTJDLENBQUM7SUFBRCxjQUFDO0FBQUQsQ0FBQzs7Ozs7Ozs7O0FDQTVDO0FBQUE7SUFBQTtJQXdEQSxDQUFDO0lBdkRVLGtCQUFHLEdBQVYsVUFBVyxHQUFXLEVBQUUsT0FBYSxFQUFFLE9BQWE7UUFDaEQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFTSxtQkFBSSxHQUFYLFVBQVksR0FBVyxFQUFFLE9BQWEsRUFBRSxPQUFhO1FBQ2pELE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRU8sbUJBQUksR0FBWixVQUFhLE1BQWMsRUFBRSxHQUFXLEVBQUUsT0FBYSxFQUFFLE9BQWE7UUFDbEUsT0FBTyxHQUFHLE9BQU8sSUFBSSxFQUFFLENBQUM7UUFFeEIsSUFBSSxRQUFRLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDNUIsSUFBSSxZQUFZLEdBQUcsRUFBRSxDQUFDO1FBRXRCLElBQUksT0FBTyxDQUFDLE9BQU8sRUFBRTtZQUNqQixJQUFJLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDM0MsT0FBTyxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUMvRixPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1lBQzdDLFlBQVksQ0FBQyxTQUFTLENBQUMsR0FBRyxPQUFPLENBQUM7U0FDckM7UUFFRCxZQUFZLENBQUMsUUFBUSxDQUFDLEdBQUcsTUFBTSxDQUFDO1FBR2hDLElBQUksTUFBTSxLQUFLLEtBQUssRUFBRTtZQUNsQixJQUFJLE9BQU8sRUFBRTtnQkFDVCxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFDLEdBQUc7b0JBQzdCLFFBQVEsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDcEQsQ0FBQyxDQUFDLENBQUM7YUFDTjtTQUNKO2FBQU07WUFDSCxZQUFZLENBQUMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUNsRDtRQUVELE9BQU8sS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsWUFBWSxDQUFDO2FBQ3BDLElBQUksQ0FBQyxVQUFDLFFBQVE7WUFDWCxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRTtnQkFDZCxJQUFJLFFBQVEsQ0FBQyxNQUFNLElBQUksR0FBRyxJQUFJLFFBQVEsQ0FBQyxNQUFNLElBQUksR0FBRyxFQUFFO2lCQUNyRDtxQkFBTTtvQkFDSCxPQUFPLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJO3dCQUN0QyxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztvQkFDeEQsQ0FBQyxDQUFDO2lCQUNMO2FBQ0o7WUFDRCxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDckMsQ0FBQyxDQUFDO2FBQ0QsSUFBSSxDQUFDLGtCQUFRO1lBQ1YsT0FBTyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsSUFBSTtnQkFDdEMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDdkMsQ0FBQyxDQUFDO1FBQ04sQ0FBQyxDQUFDO2FBQ0QsS0FBSyxDQUFDLGVBQUs7WUFDUixPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDakMsQ0FBQyxDQUFDO0lBQ1YsQ0FBQztJQUNMLFdBQUM7QUFBRCxDQUFDOzs7Ozs7Ozs7OztBQ2hETSxJQUFNLGNBQWMsR0FBRztJQUMxQixDQUFDLEVBQUUsUUFBUTtJQUNYLENBQUMsRUFBRSxRQUFRO0lBQ1gsQ0FBQyxFQUFFLE9BQU87SUFDVixDQUFDLEVBQUUsU0FBUztJQUNaLENBQUMsRUFBRSxjQUFjO0lBQ2pCLENBQUMsRUFBRSxJQUFJO0lBQ1AsRUFBRSxFQUFFLFlBQVk7SUFDaEIsRUFBRSxFQUFFLHdCQUF3QjtDQUMvQjtBQVlNLElBQU0sV0FBVyxHQUFHO0lBQ3ZCLFFBQVEsRUFBRSxRQUFRO0lBQ2xCLFFBQVEsRUFBRSxRQUFRO0lBQ2xCLE9BQU8sRUFBRSxPQUFPO0lBQ2hCLFNBQVMsRUFBRSxTQUFTO0lBQ3BCLGNBQWMsRUFBRSxjQUFjO0lBQzlCLElBQUksRUFBRSxJQUFJO0lBQ1YsWUFBWSxFQUFFLFlBQVk7Q0FDN0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2Q2dFO0FBQ0M7QUFFbEU7SUFBOEMsNENBQVk7SUFBMUQ7UUFBQSxxRUEyQkM7UUExQlcsa0JBQVksR0FBRyxJQUFJLHVGQUFZLEVBQUUsQ0FBQzs7SUEwQjlDLENBQUM7SUF4QkcsNENBQVMsR0FBVCxVQUFVLEdBQVc7UUFDakIsSUFBTSxRQUFRLEdBQUcsd0ZBQVksQ0FBQyxXQUFXLEVBQUU7UUFDM0MsSUFBTSxVQUFVLEdBQUcsd0ZBQVksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUVoRCxJQUFJLENBQUMsUUFBUSxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQzFCLE9BQU8sR0FBRyxDQUFDO1NBQ2Q7UUFFRCxJQUFNLFdBQVcsR0FBRztZQUNoQixHQUFHO1lBQ0gsUUFBUTtZQUNSLFVBQVU7U0FDYixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVaLE9BQU8sV0FBVyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxzQ0FBRyxHQUFILFVBQUksR0FBVztRQUNYLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3RELENBQUM7SUFFRCxzQ0FBRyxHQUFILFVBQUksR0FBVyxFQUFHLEtBQVU7UUFDeEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN0RCxDQUFDO0lBQ0wsK0JBQUM7QUFBRCxDQUFDLENBM0I2Qyx1RkFBWSxHQTJCekQ7O0FBRU0sSUFBTSxtQkFBbUIsR0FBRyxJQUFJLHdCQUF3QixFQUFFLENBQUM7Ozs7Ozs7Ozs7OztBQ2hDSztBQUU3QjtBQUNEO0FBTXpDO0lBcUJJO1FBbEJRLFdBQU0sR0FBVyxnRkFBYSxDQUFDLFlBQVksQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFHdkUsWUFBTyxHQUE2QjtZQUN4QyxPQUFPLEVBQUUsS0FBSztTQUNqQjtRQWNHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxjQUFjLEdBQUcsOERBQWMsQ0FBQyxRQUFRLENBQUM7SUFFbEQsQ0FBQztJQWZELHNCQUFXLHdCQUFRO2FBQW5CO1lBRUksSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLFNBQVMsRUFBRTtnQkFFdkQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO2FBQ3RDO2lCQUFNO2FBRU47WUFDRCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDekIsQ0FBQzs7O09BQUE7SUFVRCw0QkFBSyxHQUFMLFVBQU0sSUFBOEI7UUFDaEMsSUFBSTtZQUNBLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztZQUN0QyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztTQUN2QjtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDeEI7SUFDTCxDQUFDO0lBRU8sb0NBQWEsR0FBckIsVUFBc0IsU0FBaUI7UUFDbkMsSUFBSTtZQUVBLElBQUksTUFBTSxHQUFHO2dCQUNULFlBQVksRUFBRSxTQUFTO2dCQUN2QixNQUFNLEVBQUUsMkRBQUssQ0FBQyxVQUFVLEVBQUU7Z0JBQzFCLFNBQVMsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLGFBQWE7Z0JBQzVDLE9BQU8sRUFBRSwyREFBSyxDQUFDLGtCQUFrQixFQUFFO2dCQUNuQyxPQUFPLEVBQUUsMkRBQUssQ0FBQyxzQkFBc0IsRUFBRTtnQkFDdkMsUUFBUSxFQUFFLDJEQUFLLENBQUMsVUFBVSxFQUFFO2dCQUM1QixRQUFRLEVBQUUsMkRBQUssQ0FBQyxjQUFjLEVBQUU7YUFDbkM7WUFnQkQsT0FBTyxNQUFNLENBQUM7U0FDakI7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hCO0lBQ0wsQ0FBQztJQUVELCtCQUFRLEdBQVIsVUFBUyxTQUFpQixFQUFFLFNBQWtCO1FBQzFDLElBQUk7WUFDQSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7Z0JBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxhQUFhLENBQUMsQ0FBQztnQkFDN0MsT0FBTzthQUNWO1lBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMseUNBQXlDLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUMvRixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzVDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLGVBQWUsRUFBRSxTQUFTLEVBQUUsYUFBYSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQzlHLE9BQU87U0FZVjtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDeEI7SUFDTCxDQUFDO0lBQ0wsbUJBQUM7QUFBRCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3pHc0U7QUFHUTtBQUNPO0FBQ25DO0FBQ0Q7QUFDUDtBQUNOO0FBRXJDO0lBQUE7UUFFWSw2QkFBd0IsR0FBVyxjQUFjLENBQUM7UUFDbEQsYUFBUSxHQUFXLGtCQUFrQixDQUFDO1FBQ3RDLFdBQU0sR0FBVyxnRkFBYSxDQUFDLFlBQVksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBcUY5RSxDQUFDO0lBbkZHLHNCQUFXLDhCQUFRO2FBQW5CO1lBQ0ksSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLFNBQVMsRUFBRTtnQkFDdkQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLGtCQUFrQixFQUFFLENBQUM7YUFDNUM7WUFDRCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDekIsQ0FBQzs7O09BQUE7SUFFRCxrQ0FBSyxHQUFMLFVBQU0sSUFBbUI7UUFDckIsSUFBSSxDQUFDLElBQUk7WUFBRSxPQUFPO1FBQ2xCLElBQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QyxZQUFZLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxpQ0FBSSxHQUFKLFVBQUssSUFBbUI7UUFDcEIsSUFBSSxDQUFDLElBQUk7WUFBRSxPQUFPO1FBQ2xCLElBQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QyxZQUFZLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRUQsa0NBQUssR0FBTDtRQUFBLGlCQStCQztRQTlCRyxJQUFNLEtBQUssR0FBRywyREFBSyxDQUFDLHVCQUF1QixDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNyRCxVQUFVLENBQUM7WUFDUCx5RUFBWSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNuQyx5RUFBWSxDQUFDLGdCQUFnQixFQUFFLENBQUM7WUFFaEMsSUFBSTtnQkFFQSxJQUFNLE9BQU8sR0FBRyxLQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7Z0JBQ2xDLElBQUksT0FBTyxJQUFJLE9BQU8sS0FBSyx1RUFBYyxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUU7b0JBRTlELElBQUksaUVBQVEsQ0FBQyxRQUFRLENBQUMsS0FBSSxDQUFDLFlBQVksRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO3dCQUM3QyxLQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7cUJBQ3RCO3lCQUFNO3dCQUNILE9BQU87cUJBQ1Y7aUJBQ0o7Z0JBRUQsS0FBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUNoQixLQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBQyxXQUFtQjtvQkFDbEQsSUFBTSxJQUFJLEdBQWtCLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO29CQUMxRSxJQUFJLE9BQU8sR0FBRyxJQUFJLDRHQUFnQixDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztvQkFDdEUscUdBQWdCLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztvQkFDMUMsS0FBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDcEIsQ0FBQyxDQUFDLENBQUM7YUFDTjtZQUFDLE9BQU8sQ0FBQyxFQUFFO2FBQ1g7b0JBQVM7Z0JBRU4sS0FBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO2FBQ3RCO1FBQ0wsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2QsQ0FBQztJQUVPLHVDQUFVLEdBQWxCO1FBQ0ksSUFBTSxVQUFVLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLFVBQVU7WUFBRSxPQUFPLElBQUksQ0FBQztRQUN2QixTQUFhLFVBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQWxDLEVBQUUsVUFBRSxJQUFJLFFBQTBCLENBQUM7UUFDMUMsT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBRU8seUNBQVksR0FBcEI7UUFDSSxJQUFNLFVBQVUsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN2RCxJQUFJLENBQUMsVUFBVTtZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQ3ZCLFNBQWEsVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBbEMsRUFBRSxVQUFFLElBQUksUUFBMEIsQ0FBQztRQUMxQyxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU8scUNBQVEsR0FBaEI7UUFDSSxZQUFZLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUssdUVBQWMsQ0FBQyxRQUFRLENBQUMsYUFBYSxVQUFLLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFJLENBQUMsQ0FBQztJQUM3RyxDQUFDO0lBRU8sd0NBQVcsR0FBbkI7UUFDSSxZQUFZLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRU8sOENBQWlCLEdBQXpCLFVBQTBCLElBQW1CO1FBQ3pDLE9BQU8sSUFBSSxDQUFDLHdCQUF3QixHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDbkQsQ0FBQztJQUVPLCtDQUFrQixHQUExQjtRQUFBLGlCQUVDO1FBREcsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFDLEdBQVcsSUFBSyxVQUFHLENBQUMsVUFBVSxDQUFDLEtBQUksQ0FBQyx3QkFBd0IsQ0FBQyxFQUE3QyxDQUE2QyxDQUFDLENBQUM7SUFDNUcsQ0FBQztJQUNMLHlCQUFDO0FBQUQsQ0FBQzs7Ozs7Ozs7Ozs7QUNuR3NFO0FBS3ZFO0lBQUE7UUFHWSxXQUFNLEdBQVcsZ0ZBQWEsQ0FBQyxZQUFZLENBQUMsbUJBQW1CLEVBQUUsU0FBUyxDQUFDLENBQUM7SUE2RHhGLENBQUM7SUEzREcsc0JBQVcsNkJBQVE7YUFBbkI7WUFFSSxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssU0FBUyxFQUFFO2dCQUV2RCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksaUJBQWlCLEVBQUUsQ0FBQztnQkFDeEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO2FBQ2pDO2lCQUFNO2FBRU47WUFDRCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDekIsQ0FBQzs7O09BQUE7SUFLTSx3Q0FBWSxHQUFuQjtRQUNJLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUMzQixDQUFDO0lBRUQsaUNBQUssR0FBTCxVQUFNLFdBQW1CO1FBQ3JCLElBQUk7WUFDQSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyw0Q0FBNEMsRUFBRSxXQUFXLENBQUMsQ0FBQztZQUM3RSxDQUFDLFVBQVUsU0FBUyxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUs7Z0JBQzdELElBQUksWUFBWSxHQUFHLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxTQUFTLENBQUM7Z0JBQ3RELFNBQVMsQ0FBQyxZQUFZLENBQUMsR0FBRyxZQUFZLElBQUksRUFBRSxDQUFDO2dCQUM3QyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsV0FBVyxFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7Z0JBQ3JGLElBQUksQ0FBQyxHQUFHLFdBQVcsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDdkQsSUFBSSxDQUFDLEdBQXNCLFdBQVcsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ2hFLElBQUksRUFBRSxHQUFHLFlBQVksS0FBSyxXQUFXLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQkFDbEUsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7Z0JBQ2YsQ0FBQyxDQUFDLEdBQUcsR0FBRyw2Q0FBNkMsR0FBRyxLQUFLLEdBQUcsRUFBRSxDQUFDO2dCQUNuRSxDQUFDLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDcEMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1NBQ3hEO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN4QjtJQUNMLENBQUM7SUFFRCxtQ0FBTyxHQUFQLFVBQVEsU0FBaUIsRUFBRSxZQUFxQjtRQUM1QyxJQUFJO1lBQ0EsWUFBWSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFNBQVMsQ0FBQztZQUNsQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFFOUQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDdEM7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hCO0lBQ0wsQ0FBQztJQUVNLGtDQUFNLEdBQWIsVUFBYyxPQUFlLEVBQUUsS0FBYTtRQUN4QyxJQUFJO1lBQ0EsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztZQUM1QyxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7WUFDYixHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsS0FBSyxDQUFDO1lBQ3JCLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzdCO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN4QjtJQUNMLENBQUM7SUFDTCx3QkFBQztBQUFELENBQUM7Ozs7Ozs7Ozs7OztBQ3JFcUM7QUFDRjtBQUVwQztJQUdJLHFCQUFZLGFBQWM7UUFDdEIsSUFBRyxNQUFNLENBQUMsY0FBYyxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFDO1lBQ3JELElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDO1lBQ2xELE9BQU07U0FDVDtRQUVELElBQUksU0FBUyxHQUFHLGFBQWEsSUFBSSxTQUFTLENBQUMsU0FBUyxDQUFDO1FBQ3JELElBQUksZUFBZSxHQUFHLHlEQUFPLENBQUMsTUFBTSxDQUFDO1FBQ3JDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxlQUFlLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDdEMsSUFBSSxJQUFJLE1BQU0sQ0FBQyx5REFBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRTtnQkFDOUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLDJEQUFRLENBQUMseURBQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMxQyxPQUFPO2FBQ1Y7U0FDSjtJQUNMLENBQUM7SUFFRCxrQ0FBWSxHQUFaO1FBQ0ksT0FBTyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQztJQUNsQyxDQUFDO0lBQ0wsa0JBQUM7QUFBRCxDQUFDOzs7Ozs7Ozs7OztBQ3pCTSxJQUFNLFVBQVUsR0FBRztJQUN0QixPQUFPLEVBQUUsU0FBUztJQUNsQixRQUFRLEVBQUUsVUFBVTtJQUNwQixVQUFVLEVBQUUsWUFBWTtJQUN4QixPQUFPLEVBQUUsU0FBUztDQUNyQixDQUFDO0FBT0QsQ0FBQztBQUVLLElBQU0sYUFBYSxHQUFHO0lBQ3pCLGtCQUFrQixFQUFFLG9CQUFvQjtDQUMzQyxDQUFDOzs7Ozs7Ozs7QUNoQkY7QUFBQTtJQUFBO0lBNEJBLENBQUM7SUEzQkcseURBQXNCLEdBQXRCO1FBQ0ksSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFO1lBQ2hCLElBQUksbUJBQW1CLFVBQUM7WUFDeEIsSUFBVSxNQUFPLENBQUMsUUFBUSxFQUFFO2dCQUN4QixtQkFBbUIsR0FBUyxNQUFPLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO2dCQUM5RSxJQUFJLG1CQUFtQixFQUFFO29CQUNyQixPQUFPLG1CQUFtQixDQUFDO2lCQUM5QjthQUNKO2lCQUFNO2dCQUNILG1CQUFtQixHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLHNCQUFzQixFQUFFLENBQUM7Z0JBQ3RFLElBQUksbUJBQW1CLEVBQUU7b0JBQ3JCLE9BQU8sbUJBQW1CLENBQUM7aUJBQzlCO3FCQUFNO29CQUNILE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztpQkFDeEQ7YUFDSjtTQUNKO0lBRUwsQ0FBQztJQUdNLDZDQUFVLEdBQWpCO1FBQ0ksSUFBTSxLQUFLLEdBQUcsbUJBQW1CLENBQUM7UUFDbEMsSUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDN0QsT0FBTyxXQUFXLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQy9DLENBQUM7SUFFTCwrQkFBQztBQUFELENBQUM7O0FBRU0sSUFBTSxtQkFBbUIsR0FBRyxJQUFJLHdCQUF3QixFQUFFLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQzlCMkM7QUFDbEQ7QUFDTjtBQUNFO0FBQ0Y7QUFFSTtBQUV6RDtJQUFBO1FBQ1ksV0FBTSxHQUF5QixFQUFFLENBQUM7UUFDbEMsV0FBTSxHQUFXLEVBQUUsQ0FBQztJQWlEaEMsQ0FBQztJQS9DRyxpQ0FBTyxHQUFQLFVBQVEsT0FBb0M7UUFBcEMsc0NBQW9DO1FBQ3hDLElBQUksRUFBQyxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsTUFBTTtZQUFFLE9BQU87UUFDN0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDakIsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDakIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNwQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVELGlDQUFPLEdBQVA7UUFDSSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDdkIsQ0FBQztJQUVPLCtCQUFLLEdBQWIsVUFBYyxPQUErQjtRQUE3QyxpQkFxQkM7UUFwQkcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFDLE1BQU07WUFDbkIsSUFBSSxLQUFLLEdBQXVCLElBQUksQ0FBQztZQUNyQyxRQUFRLE1BQU0sQ0FBQyxJQUFJLEVBQUU7Z0JBQ2pCLEtBQUssNkdBQVUsQ0FBQyxVQUFVO29CQUN0QixLQUFLLEdBQUcsSUFBSSxnRkFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUNwQyxNQUFNO2dCQUNWLEtBQUssNkdBQVUsQ0FBQyxPQUFPO29CQUNuQixLQUFLLEdBQUcsSUFBSSwwRUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUNqQyxNQUFNO2dCQUNWLEtBQUssNkdBQVUsQ0FBQyxRQUFRO29CQUNwQixLQUFLLEdBQUcsSUFBSSw0RUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUNsQyxNQUFNO2dCQUNWLEtBQUssNkdBQVUsQ0FBQyxPQUFPO29CQUNuQixLQUFLLEdBQUcsSUFBSSwwRUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUNqQyxNQUFNO2FBQ2I7WUFDRCxJQUFJLEtBQUssRUFBRTtnQkFDUCxLQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUMzQjtRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVPLHNDQUFZLEdBQXBCO1FBQUEsaUJBV0M7UUFWRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFDLEtBQXlCO1lBQzFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBQyxJQUFJO2dCQUN0QixJQUFNLEtBQUssR0FBRyxPQUFPLElBQUksQ0FBQyxLQUFLLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDL0YsS0FBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsS0FBSyxDQUFDO2dCQUVsQyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7b0JBQ2YsK0VBQWlCLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDL0Q7WUFDTCxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsV0FBQyxJQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNMLHNCQUFDO0FBQUQsQ0FBQztBQUVNLElBQU0sVUFBVSxHQUFHLElBQUksZUFBZSxFQUFFLENBQUM7Ozs7Ozs7Ozs7OztBQzdEVTtBQUVyQjtBQUM2QjtBQUVsRTtJQUFBO1FBQ0ksMEJBQXFCLEdBQUcsS0FBSyxDQUFDO1FBRXRCLFdBQU0sR0FBVyxnRkFBYSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQXFEdEUsQ0FBQztJQW5EVyw0Q0FBa0IsR0FBMUI7UUFBQSxpQkFRQztRQVBHLElBQU0sU0FBUyxHQUFHLDJEQUFLLENBQUMsd0JBQXdCLEVBQUUsQ0FBQztRQUNuRCwyREFBSyxDQUFDLHNCQUFzQixDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsVUFBQyxDQUFjO1lBQzNELElBQUksQ0FBQyxLQUFJLENBQUMscUJBQXFCLEVBQUU7Z0JBQzdCLElBQU0sdUJBQXVCLEdBQUcsS0FBSyxDQUFDO2dCQUN0QywrRUFBYyxDQUFDLGdCQUFnQixDQUFDLEtBQUksQ0FBQyxXQUFXLEVBQUUsdUJBQXVCLENBQUMsQ0FBQzthQUM5RTtRQUNMLENBQUMsQ0FBQztJQUNOLENBQUM7SUFFTSwwQ0FBZ0IsR0FBdkI7UUFBQSxpQkF5QkM7UUF4QkcsSUFBSSx1QkFBdUIsR0FBRyxLQUFLLENBQUM7UUFDcEMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLFdBQVcsR0FBRywrRUFBYyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ25ELElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsRUFBRTtZQUM5QixJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFO2dCQUM1QiwrRUFBYyxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDO3FCQUN4RCxJQUFJLENBQUMsVUFBQyxNQUFNO29CQUNULEtBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUM7b0JBQ2xDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO3dCQUNoQix1QkFBdUIsR0FBRyxJQUFJLENBQUM7d0JBQy9CLEtBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO3dCQUN0RCwrRUFBYyxDQUFDLGdCQUFnQixDQUFDLEtBQUksQ0FBQyxXQUFXLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztxQkFDOUU7Z0JBQ0wsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO29CQUNMLEtBQUksQ0FBQyxxQkFBcUIsR0FBRyxLQUFLLENBQUM7Z0JBQ3ZDLENBQUMsQ0FBQzthQUNUO2lCQUFNO2dCQUNILElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUM7Z0JBQ2xDLHVCQUF1QixHQUFHLElBQUksQ0FBQztnQkFDL0IsK0VBQWMsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLHVCQUF1QixDQUFDLENBQUM7YUFDOUU7U0FDSjthQUFNO1lBQ0gsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQztTQUNyQztJQUNMLENBQUM7SUFFRCx5Q0FBZSxHQUFmO1FBQ0ksSUFBSSxDQUFDLFdBQVcsR0FBRywrRUFBYyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ25ELElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsRUFBRTtZQUM5QixJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFO2dCQUMzQixPQUFPLCtFQUFjLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDdEU7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsMEJBQTBCLENBQUMsQ0FBQztnQkFDOUMsT0FBTyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7YUFDM0I7U0FDSjthQUFNO1lBQ0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsMEJBQTBCLENBQUMsQ0FBQztZQUM5QyxPQUFPLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUMzQjtJQUNMLENBQUM7SUFDTCxzQkFBQztBQUFELENBQUM7QUFFTSxJQUFNLFVBQVUsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDOzs7Ozs7Ozs7O0FDN0Q0QjtBQUM1RSxJQUFNLElBQUksR0FBRyxjQUFXLGdCQUFTLEVBQVQsQ0FBUyxDQUFDO0FBQ2xDO0lBT0ksZ0JBQVksU0FBaUIsRUFBRSxPQUFnQixFQUFFLFFBQWtCLEVBQUUsS0FBVztRQU54RSxlQUFVLEdBQUcsbUJBQW1CLENBQUM7UUFDakMsZUFBVSxHQUFXLFNBQVMsQ0FBQztRQUMvQixhQUFRLEdBQVksSUFBSSxDQUFDO1FBQ3pCLGNBQVMsR0FBYSw4REFBUSxDQUFDLEtBQUssQ0FBQztRQUNyQyxXQUFNLEdBQVcsRUFBRSxDQUFDO1FBSXhCLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO1FBQzVCLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO1FBQzFCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQ3hCLENBQUM7SUFFTSwyQkFBVSxHQUFqQixVQUFrQixHQUFZO1FBQzFCLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7UUFFOUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7SUFDeEIsQ0FBQztJQUVNLDRCQUFXLEdBQWxCLFVBQW1CLEtBQWU7UUFFOUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7SUFDM0IsQ0FBQztJQUVPLHVCQUFNLEdBQWQ7UUFDSSxPQUFPLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0lBQzFELENBQUM7SUFFTyx5QkFBUSxHQUFoQixVQUFpQixRQUFrQjtRQUMvQixJQUFJLEtBQUssQ0FBQztRQUNWLElBQUksRUFBRSxHQUFHLE1BQU0sQ0FBQztRQUNoQixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDYixLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU07WUFDbkIsRUFBRSxHQUFHLHNFQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQztTQUN0QzthQUFNO1lBQ0gsS0FBSyxHQUFHLHFFQUFlLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDbEMsRUFBRSxHQUFHLHNFQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQztTQUN0QztRQUVELE9BQU8sQ0FBQyxRQUFRLEdBQUcsS0FBSyxHQUFHLG9CQUFvQixDQUFDLENBQUM7SUFHckQsQ0FBQztJQUVELHNCQUFJLHlCQUFLO2FBQVQ7WUFDSSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsOERBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDaEMsT0FBTyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsOERBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2FBQ3BGO2lCQUFNO2dCQUNILE9BQU8sSUFBSSxDQUFDO2FBQ2Y7UUFDTCxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHdCQUFJO2FBQVI7WUFDSSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsOERBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDL0IsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsOERBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2FBQ2xGO2lCQUFNO2dCQUNILE9BQU8sSUFBSSxDQUFDO2FBQ2Y7UUFDTCxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHdCQUFJO2FBQVI7WUFDSSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsOERBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDL0IsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsOERBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2FBQ2xGO2lCQUFNO2dCQUNILE9BQU8sSUFBSSxDQUFDO2FBQ2Y7UUFDTCxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHlCQUFLO2FBQVQ7WUFDSSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsOERBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDaEMsT0FBTyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsOERBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2FBQ3BGO2lCQUFNO2dCQUNILE9BQU8sSUFBSSxDQUFDO2FBQ2Y7UUFDTCxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHlCQUFLO2FBQVQ7WUFDSSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsOERBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDaEMsT0FBTyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsOERBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2FBQ3BGO2lCQUFNO2dCQUNILE9BQU8sSUFBSSxDQUFDO2FBQ2Y7UUFDTCxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHlCQUFLO2FBQVQ7WUFDSSxJQUFJLElBQUks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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUFBO0FBQ1A7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7O0FDcmdCRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDOztBQUVyQztBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixVQUFVOzs7Ozs7O0FDdkx0Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNENBQTRDOztBQUU1Qzs7Ozs7OztBQ3BCQTtBQUNBOzs7Ozs7Ozs7QUNBQSxNQUFNLENBQUMsYUFBYSxHQUFHO0lBRW5CLE9BQU8sRUFBRTtRQUNMLEdBQUcsRUFBRTtZQUNELE9BQU8sRUFBRSxLQUFLO1NBQ2pCO1FBQ0QsVUFBVSxFQUFFLEVBRVg7S0FDSjtDQUVKIiwiZmlsZSI6ImNsaWVudHMvZGVmYXVsdC9nMmluc2lnaHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbiBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTc4KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA4OTFiYjFjNDQxNTdkYzRhNjNhMSIsImltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuLi91dGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuaW1wb3J0IHsgUGFyc2VkSnNvbk1vZGVsIH0gZnJvbSBcIi4uL2RhdGEvbW9kZWxzL2NvbW1vbi9QYXJzZWRKc29uTW9kZWxcIjtcclxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcclxuXHJcbiAgICBzdGF0aWMgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIlV0aWxzXCIpO1xyXG5cclxuXHJcbiAgICBzdGF0aWMgZ2V0U3RvcmVkTG9nTGV2ZWwoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJnZXRTdG9yZWRMb2dMZXZlbFwiKTtcclxuICAgICAgICAvLyByZXR1cm4gJ2luZm8nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgYW4gYXJyYXkgb2Ygb2JqZWN0cyB0byBhbiBvYmplY3QgdXNpbmcgZWFjaCBvYmplY3RzIHBhc3NlZCBpbiAna2V5TmFtZScgYW5kICd2YWxOYW1lJ1xyXG4gICAgICogQHBhcmFtIGFyciBUaGUgYXJyYXkgb2Ygb2JqZWN0cyB0byBjb252ZXJ0XHJcbiAgICAgKiBAcGFyYW0ga2V5TmFtZSBUaGUga2V5IG5hbWUgZm9yIGVhY2ggb2JqZWN0IGluIGFycmF5XHJcbiAgICAgKiBAcGFyYW0gdmFsTmFtZSBUaGV5IHZhbCBuYW1lIGZvciBlYWNoIG9iamVjdCBpbiBhcnJheVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgb2JqZWN0QXJyYXlUb09iamVjdChhcnI6IEFycmF5PG9iamVjdD4sIGtleU5hbWU6IHN0cmluZywgdmFsTmFtZTogc3RyaW5nKTogb2JqZWN0IHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYXJyLnJlZHVjZSgob2JqLCBpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIG9ialtpdGVtW2tleU5hbWVdXSA9IGl0ZW1bdmFsTmFtZV1cclxuICAgICAgICAgICAgcmV0dXJuIG9ialxyXG4gICAgICAgIH0sIHt9KVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUYWtlcyBhbiBvYmplY3QgYW5kIHJldHVybiBhbiBhcnJheSBvZiBkaWN0aW9uYXJ5IG9iamVjdHMgd2l0aCBcIktleVwiIGFuZCBcIlZhbHVlXCIgYXMgdGhlIHByb3BlcnR5IG5hbWVzLlxyXG4gICAgICogQHBhcmFtIG9iaiBUaGUgYXJyYXkgb2Ygb2JqZWN0cyB0byBjb252ZXJ0XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBvYmplY3RUb0FycmF5RGljdChvYmo6IG9iamVjdCk6IGFueSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGlmIChvYmopIHtcclxuICAgICAgICAgICAgbGV0IGVudHJpZXMgPSB0aGlzLmVudHJpZXMob2JqKTtcclxuICAgICAgICAgICAgZW50cmllcy5tYXAoKGFycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBcIktleVwiOiBhcnJbMF0sIFwiVmFsdWVcIjogYXJyWzFdIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGFrZXMgYSBzdHJpbmcgcGF0aCBmb3IgYW4gb2JqZWN0IGFuZCByZXR1cm5zIGl0LiAgVGhpcyBsZXRzIHlvdSBwYXNzIGluIFwibGV2ZWwxLmxldmVsMi52YWx1ZVwiIGluIG9iamVjdCwgd2hpY2ggaXMgdXNlZnVsIGZvciB1bmtub3duIGRhdGEgc3RydWN0dXJlcy4gIFJlcGxhY2VzIG5lZWQgZm9yIG9ialsnbGV2ZWwxJ11bJ2xldmVsMiddLnZhbHVlXHJcbiAgICAgKiBAcGFyYW0gc3RyIHN0cmluZyBwYXRoIHRvIGNoZWNrIGZvciAobGV2ZWwxLmxldmVsMS52YWx1ZSlcclxuICAgICAqIEBwYXJhbSBvYmogVGhlIG9iamVjdCB0byBzZWFyY2ggd2l0aCB0aGUgc3RyIHBhdGguXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXROZXN0ZWRWYWx1ZUJ5U3RyaW5nKHN0ciwgb2JqKTogYW55IHtcclxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcWyhbXlxcXV0rKV0vZywgXCIuJDFcIikuc3BsaXQoXCIuXCIpLnJlZHVjZSgobywgcCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIltnZXROZXN0ZWRWYWx1ZUJ5U3RyaW5nXVwiLCBzdHIsIG9iaiwgbywgcCk7XHJcbiAgICAgICAgICAgIHJldHVybiBvW3BdO1xyXG4gICAgICAgIH0sIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaW1pbGFyIHRvIG9iamVjdFRvQXJyYXlEaWN0IGV4Y2VwdCB0aGlzIHdpbGwgbG9vcCB0aHJvdWdoIGFuIGFycmF5IG9mIG9iamVjdHMgd2l0aCB0aGUgb3B0aW9uIG9mIHJlY3Vyc2l2ZWx5IGV4ZWN1dGluZyBjaGlsZCBvYmplY3QgYXJyYXlzLlxyXG4gICAgICogVGhpcyB3aWxsIGJlIG1vc3RseSB1c2VkIGZvciBDRFAgZGF0YS5FdmVudERhdGEgbG9vcGluZy5cclxuICAgICAqIEBwYXJhbSBhcnIgYXJyYXkgdG8gbG9vcCB0aHJvdWdoXHJcbiAgICAgKiBAcGFyYW0gcmVzdWx0IG5lZWQgdG8gcGFzcyBpbiBhIHJlc3VsdCBhcnJheSBzbyByZWN1cnNpb24gd29ya3MuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBBcnJheVRvRGljdGlvbmFyeVJlY3Vyc2l2ZShhcnI6IG9iamVjdCwgcmVzdWx0OiBhbnksIGtleUFyZz86IHN0cmluZyk6IGFueSB7XHJcbiAgICAgICAgbGV0IGVudHJpZXMgPSB0aGlzLmVudHJpZXMoYXJyKTtcclxuICAgICAgICBlbnRyaWVzLm1hcCgoYXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJyWzFdID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBVdGlscy5BcnJheVRvRGljdGlvbmFyeVJlY3Vyc2l2ZShhcnJbMV0sIHJlc3VsdCwgYXJyWzBdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBrZXkgPSAoa2V5QXJnKSA/IGtleUFyZyArIGFyclswXSA6IGFyclswXTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgXCJLZXlcIjoga2V5LCBcIlZhbHVlXCI6IGFyclsxXSB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZW50cmllcyhvYmo6IGFueSk6IGFueSB7XHJcbiAgICAgICAgaWYgKCFvYmopIHJldHVybiBbXTtcclxuICAgICAgICBsZXQgb3duUHJvcHMgPSBPYmplY3Qua2V5cyhvYmopLFxyXG4gICAgICAgICAgICBpID0gb3duUHJvcHMubGVuZ3RoLFxyXG4gICAgICAgICAgICByZXNBcnJheSA9IG5ldyBBcnJheShpKTsgLy8gcHJlYWxsb2NhdGUgdGhlIEFycmF5XHJcbiAgICAgICAgd2hpbGUgKGktLSlcclxuICAgICAgICAgICAgcmVzQXJyYXlbaV0gPSBbb3duUHJvcHNbaV0sIG9ialtvd25Qcm9wc1tpXV1dO1xyXG4gICAgICAgIHJldHVybiByZXNBcnJheTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciB0aGF0IG1pbWljcyBqcXVlcnkgYWRkRXZlbnRMaXN0ZW5lciBvbiBsaXN0IG9mIGVsZW1lbnRzIHVzaW5nIGRvY3VtZW50IHF1ZXJpZXMuXHJcbiAgICAgKiBAcGFyYW0gcXVlcnlUeXBlXHJcbiAgICAgKiBAcGFyYW0gcXVhbGlmaWVyXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRcclxuICAgICAqIEBwYXJhbSBmdW5jXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhZGRFdmVudExpc3RlbmVyKHF1ZXJ5VHlwZTogc3RyaW5nLCBxdWFsaWZpZXI6IHN0cmluZywgZXZlbnQ6IHN0cmluZywgZnVuYzogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICBsZXQgbm9kZXM6IE5vZGVMaXN0ID0gZG9jdW1lbnRbcXVlcnlUeXBlXShxdWFsaWZpZXIpO1xyXG4gICAgICAgIG5vZGVzLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZnVuYyhldmVudCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdmFsdWUgb2YgYXR0cmlidXRlIG9uIGZpcnN0IGVsZW1lbnQgKGdldHMgYWxsIHBhcmV0bnMgYnkgcmVjdXJzaW9uKSB3aXRoIGN1cnJlbnQgYXR0cmlidXRlLlxyXG4gICAgICogQHBhcmFtIGRvbSAtIGRvbSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gbmFtZSAtIG5hbWUgb2YgYXR0cmlidXRlXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRBdHRyaWJ1dGVPZkRvbU9yUGFyZW50cyA9IGZ1bmN0aW9uIChkb20sIG5hbWUpIHtcclxuICAgICAgICBpZiAoZG9tLmhhc0F0dHJpYnV0ZShuYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZG9tLmdldEF0dHJpYnV0ZShuYW1lKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvbS5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZU9mRG9tT3JQYXJlbnRzKGRvbS5wYXJlbnRFbGVtZW50LCBuYW1lKTtcclxuICAgICAgICB9IGVsc2UgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiByZXR1cm5zIGZpcnN0IGVsZW1lbnQgKGdldHMgYWxsIHBhcmV0bnMgYnkgcmVjdXJzaW9uKSB3aXRoIGN1cnJlbnQgYXR0cmlidXRlLiBJZiBcInZhbHVlXCIgaXMgbm90IGVtcHR5IC0gcmV0dXJucyBmaXJzdCBlbGVtZW50LCB3aGljaCBoYXMgYXR0cmJpYnV0ZSBcIm5hbWVcIiB3aXRoIHZhbHVlIFwidmFsdWVcIlxyXG4gICAgKiBAcGFyYW0gZG9tIC0gZG9tIGVsZW1lbnRcclxuICAgICogQHBhcmFtIG5hbWUgLSBuYW1lIG9mIGF0dHJpYnV0ZVxyXG4gICAgKiBAcGFyYW0gdmFsdWUgLSBvcHRpb25hbCwgdmFsdWUgb2YgYXR0cmlidXRlXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGZpbmRQYXJlbnRCeVZhbHVlT2ZBdHRyYmlidXRlID0gZnVuY3Rpb24gKGRvbSwgbmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoZG9tLmhhc0F0dHJpYnV0ZShuYW1lKSkge1xyXG4gICAgICAgICAgICAvLyBzcGxpdHMgYnkgc3BhY2UgYmVjYXVzZSBhdHRyYml1dGUgY2FuIGhhdmUgbW9yZSB0aGFuIG9uZSB2YWx1ZSwgc3BhY2UgaXMgc2VwYXJhdG9yXHJcbiAgICAgICAgICAgIGlmIChkb20uZ2V0QXR0cmlidXRlKG5hbWUpLnNwbGl0KFwiIFwiKS5pbmRleE9mKHZhbHVlKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZFBhcmVudEJ5VmFsdWVPZkF0dHJiaWJ1dGUoZG9tLnBhcmVudEVsZW1lbnQsIG5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZG9tLnBhcmVudEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZFBhcmVudEJ5VmFsdWVPZkF0dHJiaWJ1dGUoZG9tLnBhcmVudEVsZW1lbnQsIG5hbWUsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRha2VzIHBhc2VkIGluIGRvbSBlbGVtZW50IGFuZCBnb2VzIHVwIHRoZSBkb20gdHJlZSB1bnRpbCB3ZSBoaXQgYSB0YWcgdHlwZS5cclxuICAgICAqIEBwYXJhbSBlbCBDaGlsZCBlbGVtZW50IHRvIHN0YXJ0IHdpdGguXHJcbiAgICAgKiBAcGFyYW0gdGFnTmFtZSBUeXBlIG9mIHBhcmVudCBET00gVGFnIHdlIGFyZSBsb29raW5nIGZvci5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldFBhcmVudERvbUJ5VGFnTmFtZSA9IGZ1bmN0aW9uIChlbCwgdGFnTmFtZSk6IGFueSB7XHJcbiAgICAgICAgbGV0IGZuTmFtZSA9IFwiZ2V0UGFyZW50RG9tQnlUYWdOYW1lXCI7XHJcbiAgICAgICAgdGFnTmFtZSA9IHRhZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiZWxcIiwgZWwsIFwidGFnTmFtZVwiLCB0YWdOYW1lKTtcclxuICAgICAgICBsZXQgdGFnVHlwZSA9IGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiZWxcIiwgZWwsIFwidGFnTmFtZVwiLCB0YWdOYW1lLCBcInRhZ1R5cGVcIiwgdGFnVHlwZSk7XHJcbiAgICAgICAgaWYgKHRhZ1R5cGUgIT09IHRhZ05hbWUgJiYgZWwucGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIk5vdCA8XCIgKyB0YWdOYW1lICsgXCI+IGFuZCBoYXMgcGFyZW50RWxlbWVudC4uLmNoZWNrIHBhcmVudFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFyZW50RG9tQnlUYWdOYW1lKGVsLnBhcmVudEVsZW1lbnQsIHRhZ05hbWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGFnVHlwZSA9PT0gdGFnTmFtZSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIklzIDxcIiArIHRhZ05hbWUgKyBcIj4gdGFnXCIsIFwicmV0dXJuaW5nLi5cIiwgZWwpO1xyXG4gICAgICAgICAgICByZXR1cm4gZWw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJObyBQYXJlbnQgPFwiICsgdGFnTmFtZSArIFwiPiB0YWcuLi5yZXR1cm5pbmcgZmFsc2VcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaXMgdGFyZ2V0IG9mIGNsaWNrIE5ld3NsZXR0ZXIgc2lnbnVwIGJ1dHRvbi5cclxuICAgICAqIEBwYXJhbSBjbGlja1RhcmdldCAgdGFyZ2V0IHByb3Agb2YgY2xpY2sgZXZlbnQgYXJndW1lbnRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNoZWNrRm9yTmV3c2xldHRlclNpZ25VcENsaWNrID0gZnVuY3Rpb24gKGNsaWNrVGFyZ2V0KTogYW55IHtcclxuICAgICAgICAvLyBuZXdzbGV0dGVyIHNpZ2h0dXAgYnV0dG9uIHNob3VsZCBoYXZlIGNsYXNzIHN1Ym1pdFxyXG4gICAgICAgIGlmICghY2xpY2tUYXJnZXQuaGFzQXR0cmlidXRlKFwiY2xhc3NcIikgfHwgIShjbGlja1RhcmdldC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKS5pbmRleE9mKFwic3VibWl0XCIpID4gMCkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyByb290IERJViBlbGVtIG9mIHRlbXBsYXRlXHJcbiAgICAgICAgbGV0IHRlbXBsYXRlRWxlbSA9IHRoaXMuZmluZFBhcmVudEJ5VmFsdWVPZkF0dHJiaWJ1dGUoY2xpY2tUYXJnZXQsIFwiY2xhc3NcIiwgXCJNZzItY29ubmV4dFwiKTtcclxuICAgICAgICBpZiAodGVtcGxhdGVFbGVtICYmIHRlbXBsYXRlRWxlbS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBsZXQgZWxlbWVudENoaWxkcmVuID0gdGVtcGxhdGVFbGVtLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gZXZlcnkgdGVtcGxhdGUgY29udGFpbnMgb24gcm9vdCBsZXZlbCBlbGVtbnQgd2l0aCB0eXBlIGF0dHJpYnV0ZSAodmFsdWUgLSB0eXBlIG9mIEFjdGlvbilcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Q2hpbGRyZW5baV0uaGFzQXR0cmlidXRlKFwiZGF0YS10bXBsLWFjdGlvbi1uYW1lXCIpICYmIGVsZW1lbnRDaGlsZHJlbltpXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRtcGwtYWN0aW9uLW5hbWVcIikgPT09IFwiTmV3c2xldHRlclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRha2VzIGEgc3RyaW5nIGFuZCByZW1vdmVzIEh0bWwgVGFncy5cclxuICAgICAqIEBwYXJhbSBodG1sU3RyaW5nXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBTdHJpcEh0bWxUYWdzKGh0bWxTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGh0bWxTdHJpbmcucmVwbGFjZSgvPFxcLz9bXj5dKyg+fCQpL2csIFwiXCIpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHBhcnNlSnNvbihqc29uOiBzdHJpbmcpOiBQYXJzZWRKc29uTW9kZWwge1xyXG4gICAgICAgIGxldCByZXRPYmogPSA8UGFyc2VkSnNvbk1vZGVsPnsgc3VjY2VzczogZmFsc2UgfTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoanNvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcImpzb24gSVMgTk9UIE5VTExcIik7XHJcbiAgICAgICAgICAgICAgICByZXRPYmouZGF0YSA9IEpTT04ucGFyc2UoanNvbik7XHJcbiAgICAgICAgICAgICAgICByZXRPYmouc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldE9iajtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLndhcm4oXCJOb3QgYSB2YWxpZCBKU09OIG9iamVjdC5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiByZXRPYmo7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzdHJpbmdUb0Jvb2wodmFsOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodmFsLnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXhjZXB0aW9uKFwic3RyaW5nVG9Cb29sXCIsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdG9UaXRsZUNhc2Uoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICghc3RyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIgXCIpLm1hcChmdW5jdGlvbiAod29yZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpKTtcclxuICAgICAgICB9KS5qb2luKFwiIFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY3JlYXRlR1VJRCgpIHtcclxuICAgICAgICByZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgIGxldCByID0gcGFyc2VGbG9hdChcIjAuXCIgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkucmVwbGFjZShcIjAuXCIsIFwiXCIpICsgbmV3IERhdGUoKS5nZXRUaW1lKCkpICogMTYgfCAwLFxyXG4gICAgICAgICAgICAgICAgdiA9IGMgPT09IFwieFwiID8gciA6IChyICYgMHgzIHwgMHg4KTtcclxuICAgICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRDb25uZXh0VmVyc2lvbigpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiAod2luZG93W1wiY29ubmV4dFZlcnNpb25cIl0pID8gd2luZG93W1wiY29ubmV4dFZlcnNpb25cIl0gOiBcIlVua25vd25cIjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgSXNHb29nbGVBbmFseXRpY3NBdmFpbCgpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAod2luZG93W1wiZ2FcIl0gJiYgd2luZG93W1wiZ2FcIl1bXCJjcmVhdGVcIl0pIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoJ0dvb2dsZSBBbmFseXRpY3MgaXMgbG9hZGVkJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLndhcm4oJ0dvb2dsZSBBbmFseXRpY3MgTk9UIExPQURFRCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBJc0dUTUF2YWlsKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh3aW5kb3dbXCJnb29nbGVfdGFnX21hbmFnZXJcIl0pIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoJ0dUTSBpcyBsb2FkZWQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIud2FybignR1RNIE5PVCBMT0FERUQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgSXNBcHBJbnNpZ2h0c0F2YWlsKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh3aW5kb3dbXCJhcHBJbnNpZ2h0c1wiXSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZygnQXBwSW5zaWdodHMgaXMgbG9hZGVkJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLndhcm4oJ0FwcEluc2lnaHRzIE5PVCBMT0FERUQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgSXNDb25uZXh0QXZhaWwoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHdpbmRvd1tcIkNvbm5leHRcIl0pIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoJ0Nvbm5leHQgaXMgbG9hZGVkJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLndhcm4oJ0Nvbm5leHQgTk9UIExPQURFRCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRWZXJzaW9uKCk6IHN0cmluZyB7XHJcbiAgICAgICAgLy8gdGhlc2UgdmFsdWVzIGFyZSBpbnNlcnRlZCBieSBDSSBUb2tlbml6ZXJcclxuICAgICAgICByZXR1cm4gKFwiI3tfX1ZlcnNpb25fX30jXCIgfHwgXCJsb2NhbFwiKVxyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0VmVyc2lvbkJ1aWxkSW5mbygpOiBzdHJpbmcge1xyXG4gICAgICAgIC8vIHRoZXNlIHZhbHVlcyBhcmUgaW5zZXJ0ZWQgYnkgQ0kgVG9rZW5pemVyXHJcbiAgICAgICAgcmV0dXJuIChcIiN7X19CdWlsZC5CdWlsZE51bWJlcl9ffSNcIiB8fCBcImxvY2FsXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0UGFnZUxlYXZlRXZlbnRUcmlnZ2VyKCk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsRXZlbnROYW1lID0gXCJ1bmxvYWRcIjtcclxuXHJcbiAgICAgICAgaWYgKFwib25wYWdlaGlkZVwiIGluIHdpbmRvdykge1xyXG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwicGFnZWhpZGVcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvcmlnaW5hbEV2ZW50TmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0VXNlclBvc2l0aW9uKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTGF0OiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExvbmc6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgR2VvbG9jYXRpb25cclxuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGlzRW1wdHkob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc3NldCh2YWx1ZTogYW55KXtcclxuICAgICAgIHJldHVybiAhKHR5cGVvZiB2YWx1ZSA9PSBcInVuZGVmaW5lZFwiIHx8IHZhbHVlID09IG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBvYmplY3RUb0JpZ1F1ZXJ5U3RyaW5nKG9iaik6IHN0cmluZ3tcclxuICAgICAgICBsZXQgc3RyaW5nID0gW107XHJcbiAgICAgICAgaWYgKHR5cGVvZihvYmopID09IFwib2JqZWN0XCIgJiYgKG9iai5qb2luID09IHVuZGVmaW5lZCkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBvYmopIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gVXRpbHMuaXNzZXQob2JqW3Byb3BdKT8gb2JqW3Byb3BdLnRvU3RyaW5nKCk6XCJcIjtcclxuICAgICAgICAgICAgICAgIHN0cmluZy5wdXNoKHByb3ArXCI9XCIrIHZhbHVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICBcclxuICAgIHJldHVybiBzdHJpbmcuam9pbihcIjtcIik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldExvYWRlclZlcnNpb25JbmZvKCk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKCg8YW55PndpbmRvdykuTUcyTG9hZGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPGFueT53aW5kb3cpLk1HMkxvYWRlci5HZXRWZXJzaW9uSW5mbygpO1xyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJNRzJMb2FkZXIgaXMgbm90IGRlZmluZWRcIlxyXG4gICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEZpbmdlcnByaW50VmVyc2lvbkluZm8oKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoKDxhbnk+d2luZG93KS5GaW5nZXJwcmludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKDxhbnk+d2luZG93KS5GaW5nZXJwcmludC5HZXRWZXJzaW9uSW5mbygpO1xyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJGaW5nZXJwcmludCBpcyBub3QgZGVmaW5lZFwiXHJcbiAgICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0RGVtb01vZGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCg8YW55PndpbmRvdykuUmVjb21tZW5kYXRpb25EZW1vKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPGFueT53aW5kb3cpLlJlY29tbWVuZGF0aW9uRGVtby5nZXRBY3RpdmVSZWdlbmVyYXRpb24oKSA9PT0gXCJmYWxzZVwiOyAgICAvLyBpbnZlcnNlIHZhbHVlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0UmFuZG9tSW50ZWdlckluUmFuZ2UobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lciAoXHJcbiAgICAgICAgZWxlbWVudDogRG9jdW1lbnQgfCBXaW5kb3cgfCBFbGVtZW50LFxyXG4gICAgICAgIGV2ZW50TmFtZTogc3RyaW5nLFxyXG4gICAgICAgIGNhbGxiYWNrOiBGdW5jdGlvbixcclxuICAgICAgICBvcHRpb25zOiBib29sZWFuIHwgRXZlbnRMaXN0ZW5lck9wdGlvbnMgPSBmYWxzZVxyXG4gICAgKTogRnVuY3Rpb24ge1xyXG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gZnVuY3Rpb24gKGU6IEV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChlLnR5cGUgIT09IGV2ZW50TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBpZS9lZGdlIGJ1Z1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZWxlbWVudCwgZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lciwgb3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xyXG4gICAgfTtcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vdXRpbHMvVXRpbHMudHMiLCJleHBvcnQgeyBMb2dMZXZlbCwgTG9nTGV2ZWxzLCBMT0dfTEVWRUxfU1RZTEUsIExPR19MRVZFTF9TVFlMRTIgfSBmcm9tIFwiLi9Mb2dnZXJPcHRpb25zXCI7XHJcbmV4cG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiLi9Mb2dnZXJTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL0xvZ2dlclwiO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vdXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlLnRzIiwiXHJcbmltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL1Nlc3Npb25TZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50IH0gZnJvbSBcIi4uLy4uL0NkcEV2ZW50XCI7XHJcbmltcG9ydCB7IENkcEV2ZW50TW9kZWwgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRzTWFuYWdlciB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudHNNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IERldmljZURldGVjdG9yIH0gZnJvbSBcIkBVdGlscy9EZXZpY2VEZXRlY3RvclwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBTcEV2ZW50IGV4dGVuZHMgQ2RwRXZlbnQge1xyXG4gICAgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlO1xyXG4gICAgcHJvdGVjdGVkIGN1cnJlbnRFdmVudE5hbWU7IC8vIGZvciBtdWx0eSBvcmlnaW4gZXZlbnRcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvblNlcnZpY2UgPSBTZXNzaW9uU2VydmljZS5JbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbGlzdGVuKCkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiUmVnaXN0ZXJpbmcgU1AgRXZlbnRMaXN0ZW5lclwiLCBcImV2ZW50XCIpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9yaWdpbmFsRXZlbnROYW1lcyAmJiB0aGlzLm9yaWdpbmFsRXZlbnROYW1lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnROYW1lcy5mb3JFYWNoKChldmVudE5hbWUsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuRXZlbnQoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuRXZlbnQodGhpcy5vcmlnaW5hbEV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKFwiTm8gZXZlbnQgTmFtZSBpbiBPYmplY3RcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKFwiYWRkU1BDb2xsZWN0b3JFdmVudExpc3RlbmVyLkVycm9yXCIsIGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbGlzdGVuRXZlbnQoZXZlbnROYW1lKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJSZWdpc3RlcmluZyBTUCBFdmVudExpc3RlbmVyXCIsIFwiZXZlbnRcIiwgZXZlbnROYW1lKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBrby5wb3N0Ym94LnN1YnNjcmliZShldmVudE5hbWUsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NFdmVudERhdGEoZXZlbnROYW1lLCBkYXRhKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoXCJhZGRTUENvbGxlY3RvckV2ZW50TGlzdGVuZXIuRXJyb3JcIiwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcm9jZXNzRXZlbnREYXRhKGV2ZW50TmFtZTogc3RyaW5nLCBkYXRhOiBhbnkpIHtcclxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkZpcmluZ1wiLCBldmVudE5hbWUsIFwiZGF0YVwiLCBkYXRhKTtcclxuICAgICAgICB0aGlzLmNsZWFyUHJldmlvdXNEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50RXZlbnROYW1lID0gZXZlbnROYW1lO1xyXG4gICAgICAgIENkcEV2ZW50c01hbmFnZXIuZXZlbnRGaXJlKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRFdmVudE1vZGVsKCk6IENkcEV2ZW50TW9kZWwge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbCA9IHN1cGVyLmdldEV2ZW50TW9kZWwoKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRTb3VyY2UgPSAgQ29uc3RhbnRzLkV2ZW50c1NvdXJjZXMuUGFuZWw7XHJcbiAgICAgICAgdGhpcy5hZGRQYW5lbFZlcnNpb25JbmZvKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDZHBFdmVudE1vZGVsKHRoaXMuZXZlbnRNb2RlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkUGFuZWxWZXJzaW9uSW5mbygpe1xyXG4gICAgICAgIGNvbnN0IHBhbmVsQ29uZmlnID0gKHdpbmRvdyBhcyBhbnkpLmNvbmZpZztcclxuICAgICAgICBjb25zdCBwYW5lbFZlcnNpb24gPSBwYW5lbENvbmZpZyAmJiBwYW5lbENvbmZpZy5CdWlsZEluZm8gPyBwYW5lbENvbmZpZy5CdWlsZEluZm8uVmVyc2lvbjogJ1Vua25vd24nO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudERhdGEucHVzaCh7IEtleTogXCJTb3VyY2VWZXJzaW9uXCIsIFZhbHVlOiBwYW5lbFZlcnNpb24gfSk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvU3BFdmVudC50cyIsImltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBHdG1UYWdFdmVudCB9IGZyb20gXCIuLi8uLi9HdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbm5leHRHdG1UYWdFdmVudCBleHRlbmRzIEd0bVRhZ0V2ZW50IHtcclxuICAgIHB1YmxpYyBsaXN0ZW4oKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKCB0aGlzLm9yaWdpbmFsRXZlbnROYW1lICkge1xyXG4gICAgICAgICAgICAgICAgVXRpbHMuYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZSwgKGU6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRPcmlnaW5hbEV2ZW50RGF0YShlLmRldGFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kVGFnVG9BbmFsaXRjcygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9Db25uZXh0R3RtVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBDZHBEYXRhTGF5ZXIgfSBmcm9tIFwiLi9DZHBEYXRhTGF5ZXJcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclNlcnZpY2VcIjtcclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyXCI7XHJcblxyXG5pbXBvcnQgeyBFckludGVycHJldGF0aW9uIH0gZnJvbSBcIi4vRXJJbnRlcnByZXRhdGlvblwiO1xyXG5pbXBvcnQgeyBVc2VySW50ZXJlc3RzIH0gZnJvbSBcIi4vVXNlckludGVyZXN0c1wiO1xyXG5pbXBvcnQgeyBEbFN0b3JhZ2VJbnRlcmZhY2UgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL0RsU3RvcmFnZUludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBEZXZpY2VEZXRlY3RvciB9IGZyb20gXCJAVXRpbHMvRGV2aWNlRGV0ZWN0b3JcIjtcclxuaW1wb3J0IHsgQ29uZmlnTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NvbmZpZ01vZHVsZS9Db25maWdNb2R1bGVcIjtcclxuaW1wb3J0IHsgUmVjb21tZW5kYXRpb25zIH0gZnJvbSBcIi4vUmVjb21lbmRhdGlvbnNcIjtcclxuaW1wb3J0IHsgSHR0cCB9IGZyb20gXCJAQ29yZS9zdG9yYWdlcy9odHRwL0h0dHBcIjtcclxuaW1wb3J0IHsgQXBpRGxJbnRlcmZhY2UgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL0FwaURsSW50ZXJmYWNlXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIENkcE1vZHVsZUNsYXNzIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkNkcE1vZHVsZVwiKTtcclxuXHJcbiAgICBwdWJsaWMgc2V0RGxJbmZvcm1hdGlvbigpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgICByZXR1cm4gRGV2aWNlRGV0ZWN0b3IuZ2V0RGV2aWNlSWQoKS50aGVuKChkZXZpY2VJZCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkRldmljZUlkXCIsIGRldmljZUlkKTtcclxuICAgICAgICAgICAgcmV0dXJuIENkcERhdGFMYXllci5zZXRJbmZvcm1hdGlvbihkZXZpY2VJZCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0RGxDb2xsZWN0ZWRJbmZvcm1hdGlvbihhcGlEbERhdGE6IEFwaURsSW50ZXJmYWNlKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gRGV2aWNlRGV0ZWN0b3IuZ2V0RGV2aWNlSWQoKS50aGVuKChkZXZpY2VJZCkgPT4ge1xyXG4gICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiRGV2aWNlSWRcIiwgZGV2aWNlSWQpO1xyXG4gICAgICAgICAgIHJldHVybiBDZHBEYXRhTGF5ZXIuaGFuZGxlQ2RwRGxSZXNwb25jZShhcGlEbERhdGEsIGRldmljZUlkKTtcclxuICAgICAgIH0pXHJcbiAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGxJbmZvcm1hdGlvbigpOiBQcm9taXNlPEFwaURsSW50ZXJmYWNlPntcclxuICAgICAgICByZXR1cm4gRGV2aWNlRGV0ZWN0b3IuZ2V0RGV2aWNlSWQoKS50aGVuKChkZXZpY2VJZCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkRldmljZUlkXCIsIGRldmljZUlkKTtcclxuICAgICAgICAgICAgcmV0dXJuIENkcERhdGFMYXllci5nZXRDZHBEbChkZXZpY2VJZCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBnZXRFckNvZGUoKTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCBlck9iamVjdDogRGxTdG9yYWdlSW50ZXJmYWNlID0gQ2RwRGF0YUxheWVyLmdldENkcERsRnJvbVN0b3JhZ2UoKVxyXG4gICAgICAgIGNvbnN0IGVyQ29kZSA9IGVyT2JqZWN0ICYmIGVyT2JqZWN0LmFwaURsID8gZXJPYmplY3QuYXBpRGwuZXIgOiBudWxsO1xyXG4gICAgICAgIHJldHVybiBlckNvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRGV2aWNlSWRJbkNkcERsU3RvcmFnZShkZXZpY2VJZDogc3RyaW5nKXtcclxuICAgICAgICBDZHBEYXRhTGF5ZXIudXBkYXRlRGV2aWNlSWRJbkNkcERsU3RvcmFnZShkZXZpY2VJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RXJwQ29kZSgpOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IGRsT2JqZWN0OiBEbFN0b3JhZ2VJbnRlcmZhY2UgPSBDZHBEYXRhTGF5ZXIuZ2V0Q2RwRGxGcm9tU3RvcmFnZSgpO1xyXG4gICAgICAgIGNvbnN0IGVyQ29kZSA9IGRsT2JqZWN0ICYmIGRsT2JqZWN0LmFwaURsID8gZGxPYmplY3QuYXBpRGwuZXJwIDogbnVsbDtcclxuICAgICAgICByZXR1cm4gZXJDb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEVySW50ZXJwcmV0YXRpb24oKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gRXJJbnRlcnByZXRhdGlvbi5zZXRJbmZvcm1hdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbnRlcmVzdHNTdGF0cygpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBVc2VySW50ZXJlc3RzLmdldERlYnVnRGF0YSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFwaVZlcnNpb24oKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCBzZW5kVXJsID0gQ29uZmlnTW9kdWxlLmdldENkcEFwaVVybCgpICsgXCJ2ZXJzaW9uXCI7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBIdHRwKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlcXVlc3QuZ2V0KHNlbmRVcmwpXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVjb21tZW5kYXRpb25zKGlzQWRkQ2F0ZWdvcnlJbmZvKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gUmVjb21tZW5kYXRpb25zLmdldExpc3RBcnRpY2xlcyhpc0FkZENhdGVnb3J5SW5mbyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RzJpRGV2aWNlSWQoKXtcclxuICAgICAgICByZXR1cm4gQ2RwRGF0YUxheWVyLmdldEcyaURldmljZUlkKCk7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENkcE1vZHVsZSA9IG5ldyBDZHBNb2R1bGVDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlLnRzIiwiaW1wb3J0IHsgT3B0aW9uc01vZGVsIH0gZnJvbSBcIi4vb3B0aW9ucy9tb2RlbHMvT3B0aW9uc01vZGVsXCI7XHJcbmltcG9ydCB7IENvbW1vbkNvbmZpZ0RhdGEgfSBmcm9tIFwiQENvbmZpZy9Db21tb25Db25maWdEYXRhXCI7XHJcbmltcG9ydCB7IE1ldGFEYXRhU2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9JbmRleFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbmZpZ01vZHVsZUNsYXNzIHtcclxuICAgIHByaXZhdGUgY29uZmlndXJhdGlvbjogT3B0aW9uc01vZGVsO1xyXG4gICAgcHJpdmF0ZSBtZXRhRGF0YVNlcnZpY2U6IE1ldGFEYXRhU2VydmljZTtcclxuICAgIHByaXZhdGUgaW5pdENsaWVudERpbWVuc2lvbnM6IE9iamVjdDtcclxuICAgIHByaXZhdGUgaW5pdE9wdGlvbnM6IE9iamVjdDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm1ldGFEYXRhU2VydmljZSA9IE1ldGFEYXRhU2VydmljZS5JbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0SW5pdE9wdGlvbnMob3B0aW9uczogYW55KSB7XHJcbiAgICAgICAgdGhpcy5pbml0T3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgbGV0IGNsaWVudEluaXRPcHRpb25zOiBPcHRpb25zTW9kZWwgPSBuZXcgT3B0aW9uc01vZGVsKHRoaXMuaW5pdE9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuaW5pdENsaWVudERpbWVuc2lvbnMgPSBjbGllbnRJbml0T3B0aW9ucy5kaW1lbnNpb25zO1xyXG4gICAgICAgIGNvbnN0IGN1c3RvbUluaXRPcHRpb25zOiBPcHRpb25zTW9kZWwgPSB0aGlzLmZpbmRDb25maWd1cmF0aW9uKGNsaWVudEluaXRPcHRpb25zLmxheW91dENvZGUpO1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNsaWVudEluaXRPcHRpb25zLmV4dGVuZE1vZGVsKGN1c3RvbUluaXRPcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SW5pdENvbmZpZ3VyYXRpb24oKTogT3B0aW9uc01vZGVsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJbml0T3B0aW9ucygpOiBPYmplY3Qge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluaXRPcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJbml0RGltZW5zaW9ucygpOiBhbnkge1xyXG4gICAgICAgIGlmICh0aGlzLmluaXRDbGllbnREaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEV2YWxEaW1lbnNpb25zRnJvbSh0aGlzLmluaXRDbGllbnREaW1lbnNpb25zKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmaW5kQ29uZmlndXJhdGlvbihsYXlvdXRDb2RlOiBzdHJpbmcpOiBhbnkge1xyXG4gICAgICAgIGlmICh3aW5kb3cuZzJFeHRlbmRJbml0cyAmJiB3aW5kb3cuZzJFeHRlbmRJbml0c1tcImRlZmF1bHRcIl0pIHtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5nMkV4dGVuZEluaXRzW1wiZGVmYXVsdFwiXSAmJiB3aW5kb3cuZzJFeHRlbmRJbml0c1tsYXlvdXRDb2RlXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24od2luZG93LmcyRXh0ZW5kSW5pdHNbXCJkZWZhdWx0XCJdLCB3aW5kb3cuZzJFeHRlbmRJbml0c1tsYXlvdXRDb2RlXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmcyRXh0ZW5kSW5pdHNbXCJkZWZhdWx0XCJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQWRkQm90SW5mb3JtYXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbiA/IHRoaXMuY29uZmlndXJhdGlvbi5kZXRlY3RCb3QgOiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENkcEFwaVVybCgpIHtcclxuICAgICAgICByZXR1cm4gQ29tbW9uQ29uZmlnRGF0YS5hcGlVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2RwRXZlbnRzVXJsKCkge1xyXG4gICAgICAgIHJldHVybiBDb21tb25Db25maWdEYXRhLmV2ZW50c1VybDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRCb3RNb2RlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24uZGV0ZWN0Qm90ID8gdGhpcy5jb25maWd1cmF0aW9uLmRldGVjdEJvdCA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q3VzdG9tRGltZW5zaW9ucygpOiBhbnkge1xyXG4gICAgICAgIGxldCBjdXN0b21DbGllbnRDb25maWd1cmF0aW9uID0gdGhpcy5maW5kQ29uZmlndXJhdGlvbih0aGlzLmNvbmZpZ3VyYXRpb24ubGF5b3V0Q29kZSk7XHJcbiAgICAgICAgaWYgKGN1c3RvbUNsaWVudENvbmZpZ3VyYXRpb24gJiYgY3VzdG9tQ2xpZW50Q29uZmlndXJhdGlvbi5kaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEV2YWxEaW1lbnNpb25zRnJvbShjdXN0b21DbGllbnRDb25maWd1cmF0aW9uLmRpbWVuc2lvbnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRFdmFsRGltZW5zaW9uc0Zyb20oZGltZW5zaW9uczogT2JqZWN0KTogYW55IHtcclxuICAgICAgICBsZXQgY2xpZW50TW9kZWwgPSB7fTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gZGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICBjbGllbnRNb2RlbFtwcm9wZXJ0eV0gPSB0aGlzLmdldFZhbHVlQnlQcm9wZXJ0eU5hbWUoZGltZW5zaW9ucywgcHJvcGVydHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNsaWVudE1vZGVsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRMYXlvdXRDb2RlKGxheW91dENvZGU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5zZXRMYXlvdXRDb2RlKGxheW91dENvZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDbGllbnRDb25maWd1cmF0aW9uKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZENvbmZpZ3VyYXRpb24odGhpcy5jb25maWd1cmF0aW9uLmxheW91dENvZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0VmFsdWVCeVByb3BlcnR5TmFtZShkaW1lbnNpb25zOiBhbnksIHByb3BlcnR5OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChkaW1lbnNpb25zICYmIGRpbWVuc2lvbnNbcHJvcGVydHldKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2RpbSA9IGRpbWVuc2lvbnNbcHJvcGVydHldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjZGltID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2RpbS5jYWxsKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNkaW0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc0Z1bmN0aW9uID0gZXZhbChcIihcIiArIGNkaW0gKyBcIilcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNGdW5jdGlvbi5jYWxsKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRTaXRlRW52aXJvbm1lbnQoKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBlbnZpcm9ubWVudCA9ICh0aGlzLmNvbmZpZ3VyYXRpb24gJiYgdGhpcy5jb25maWd1cmF0aW9uLmVudmlyb25tZW50KSA/IHRoaXMuY29uZmlndXJhdGlvbi5lbnZpcm9ubWVudCA6IFwiVW5rbm93blwiO1xyXG4gICAgICAgIHJldHVybiBlbnZpcm9ubWVudC50b1VwcGVyQ2FzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNpdGVDb2RlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3Qgc2l0ZUNvZGUgPSAodGhpcy5jb25maWd1cmF0aW9uICYmIHRoaXMuY29uZmlndXJhdGlvbi5zaXRlQ29kZSkgPyB0aGlzLmNvbmZpZ3VyYXRpb24uc2l0ZUNvZGUgOiBcIlVua25vd25cIjtcclxuICAgICAgICByZXR1cm4gc2l0ZUNvZGUudG9VcHBlckNhc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDbGllbnRDb2RlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgY2xpZW50Q29kZSA9ICAodGhpcy5jb25maWd1cmF0aW9uICYmIHRoaXMuY29uZmlndXJhdGlvbi5jbGllbnRDb2RlKSA/IHRoaXMuY29uZmlndXJhdGlvbi5jbGllbnRDb2RlIDogXCJVbmtub3duXCI7XHJcbiAgICAgICAgcmV0dXJuIGNsaWVudENvZGUudG9VcHBlckNhc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDbGllbnRDb2RlRW5jb2RlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmdldENsaWVudENvZGUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2l0ZUNvZGVFbmNvZGUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuZ2V0U2l0ZUNvZGUoKSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ29uZmlnTW9kdWxlID0gbmV3IENvbmZpZ01vZHVsZUNsYXNzKCk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlLnRzIiwiZXhwb3J0IHR5cGUgQ29sbGVjdG9yVHlwZSA9IFwiQ09OTkVYVFwiIHwgXCJTUFwiIHwgXCJGTElUVFpcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25zdGFudHMge1xyXG4gICAgc3RhdGljIHByZWZhY2UgPSBcIkcySV9cIjtcclxuXHJcbiAgICBzdGF0aWMgY29va2llcyA9IHtcclxuICAgICAgICBMb2dMZXZlbDogQ29uc3RhbnRzLnByZWZhY2UgKyBcImxvZ0xldmVsXCIsXHJcbiAgICAgICAgTG9nRW5hYmxlZDogQ29uc3RhbnRzLnByZWZhY2UgKyBcImxvZ0VuYWJsZWRcIixcclxuICAgICAgICBGaW5nZXJQcmludDogQ29uc3RhbnRzLnByZWZhY2UgKyBcImZpbmdlclByaW50SWRcIixcclxuICAgICAgICBCcm93c2VyU2Vzc2lvbklkOiBDb25zdGFudHMucHJlZmFjZSArIFwiYnJvd3NlclNlc3Npb25JZFwiXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIE5vRXJJbmZvcm1hdGlvbiA9IC0xO1xyXG4gICAgc3RhdGljIEV2ZW50c1NvdXJjZXMgPSB7XHJcbiAgICAgICAgXCJHMkluc2lnaHRzXCI6IFwiZzJpXCIsXHJcbiAgICAgICAgXCJDb25uZXh0XCI6IFwibnh0XCIsXHJcbiAgICAgICAgXCJQYW5lbFwiOiBcInBubFwiLFxyXG4gICAgICAgIFwiV2lkZ2V0XCI6IFwid2lkXCJcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29yZS9jb25zdGFudHMvQ29uc3RhbnRzLnRzIiwiaW1wb3J0IHsgTG9nTGV2ZWwsIExvZ0xldmVscyB9IGZyb20gXCIuL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL0xvZ2dlclwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiLi4vLi4vY29yZS9jb25zdGFudHMvQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IENvb2tpZXNTdG9yYWdlIH0gZnJvbSBcIkBDb3JlL3N0b3JhZ2VzL2Nvb2tpZXMvQ29va2llc1N0b3JhZ2VcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTG9nZ2VyU2VydmljZVNpbmdsZXRvbiB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogTG9nZ2VyU2VydmljZVNpbmdsZXRvbjtcclxuICAgIHByaXZhdGUgX2xvZ2dlcnM6IE1hcDxzdHJpbmcsIExvZ2dlcj47XHJcbiAgICBwcml2YXRlIF9sb2dMZXZlbDogTG9nTGV2ZWwgPSBMb2dMZXZlbC5EZWJ1ZztcclxuICAgIHByaXZhdGUgX2xvZ0VuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0IEluc3RhbmNlKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTG9nZ2VyU2VydmljZS5HZXRJbnN0YW5jZVwiKTtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSA9PT0gbnVsbCB8fCB0aGlzLmluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJMb2dnZXJTZXJ2aWNlLkdldEluc3RhbmNlLiBOTyBJTlNUQU5DRSwgQ1JFQVRJTkdcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgTG9nZ2VyU2VydmljZVNpbmdsZXRvbigpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLl9sb2dnZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTG9nZ2VyU2VydmljZS5HZXRJbnN0YW5jZS4gSEFTIElOU1RBTkNFXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlTG9nZ2VyKG5hbWU6IHN0cmluZywgc3R5bGU/OiBzdHJpbmcpOiBMb2dnZXIge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjcmVhdGluZyBMb2dnZXInLCBuYW1lKTtcclxuICAgICAgICBpZiAoQ29va2llc1N0b3JhZ2UuZ2V0KENvbnN0YW50cy5jb29raWVzLkxvZ0xldmVsKSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIiUlJSUgaGFzIGxvZ2xldmVsIGNvb2tpZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSBMb2dMZXZlbHMuRnJvbVN0cmluZyhDb29raWVzU3RvcmFnZS5nZXQoQ29uc3RhbnRzLmNvb2tpZXMuTG9nTGV2ZWwpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCBsb2dFbmFibGVkID0gQ29va2llc1N0b3JhZ2UuZ2V0KENvbnN0YW50cy5jb29raWVzLkxvZ0VuYWJsZWQpO1xyXG4gICAgICAgIGlmIChsb2dFbmFibGVkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYgKGxvZ0VuYWJsZWQudG9Mb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgbG9nZ2VyID0gbmV3IExvZ2dlcihuYW1lLCB0aGlzLl9sb2dFbmFibGVkLCB0aGlzLl9sb2dMZXZlbCwgc3R5bGUpO1xyXG4gICAgICAgIHRoaXMuX2xvZ2dlcnMuc2V0KG5hbWUsIGxvZ2dlcik7XHJcbiAgICAgICAgcmV0dXJuIGxvZ2dlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0RW5hYmxlZCh2YWw6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkxPR0dFUiBTRVJWSUNFLnNldEVuYWJsZWRcIiwgdmFsKTtcclxuICAgICAgICB0aGlzLl9sb2dFbmFibGVkID0gdmFsO1xyXG4gICAgICAgIENvb2tpZXNTdG9yYWdlLnNldChDb25zdGFudHMuY29va2llcy5Mb2dFbmFibGVkLCB2YWwudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgdGhpcy5fbG9nZ2Vycy5mb3JFYWNoKChsb2dnZXIsIGtleSwgbWFwKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdsb2dnZXInLCBsb2dnZXIsICdrZXknLCBrZXkpO1xyXG4gICAgICAgICAgICBsb2dnZXIuc2V0RW5hYmxlZCh2YWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRMZXZlbChzdHJMb2dMZXZlbDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJMT0dHRVIgU0VSVklDRS5zZXRMZXZlbFwiLCBzdHJMb2dMZXZlbCk7XHJcbiAgICAgICAgICAgIC8vIHNlZSBpZiBwYXNzZWQgaW4gc3RyaW5nIGlzIGEgdmFsaWQgTG9nTGV2ZWxcclxuICAgICAgICAgICAgQ29va2llc1N0b3JhZ2Uuc2V0KENvbnN0YW50cy5jb29raWVzLkxvZ0xldmVsLCBzdHJMb2dMZXZlbCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ0xldmVsID0gTG9nTGV2ZWxzLkZyb21TdHJpbmcoc3RyTG9nTGV2ZWwpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc2V0TGV2ZWwuLi5Gcm9tU3RyaW5nID0gJywgc3RyTG9nTGV2ZWwsICcgLS0gIGxldmVsPScsIGxvZ0xldmVsKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9nZ2Vycy5mb3JFYWNoKCh2YWx1ZSwga2V5LCBtYXApID0+IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlLnNldExvZ0xldmVsKExvZ0xldmVscy5Gcm9tU3RyaW5nKHN0ckxvZ0xldmVsKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLm1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnTE9HR0VSIFNFUlZJQ0Uuc2V0TGV2ZWwnLCBsZXZlbCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBsZXQgTG9nZ2VyU2VydmljZSA9IExvZ2dlclNlcnZpY2VTaW5nbGV0b24uSW5zdGFuY2U7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi91dGlscy9sb2dnZXIvTG9nZ2VyU2VydmljZS50cyIsImltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL1Nlc3Npb25TZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50IH0gZnJvbSBcIi4uLy4uL0NkcEV2ZW50XCI7XHJcbmltcG9ydCB7IENkcEV2ZW50TW9kZWwgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuaW1wb3J0IHsgRGF0ZVV0aWwgfSBmcm9tIFwiQFV0aWxzL0RhdGVVdGlsXCI7XHJcbmltcG9ydCB7IENvbm5leHRNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29ubmV4dE1vZHVsZS9Db25uZXh0TW9kdWxlXCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IERldmljZU1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9kZXZpY2VNb2R1bGUvRGV2aWNlTW9kdWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29ubmV4dEV2ZW50IGV4dGVuZHMgQ2RwRXZlbnQge1xyXG4gICAgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uU2VydmljZSA9IFNlc3Npb25TZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEV2ZW50TW9kZWwoKTogQ2RwRXZlbnRNb2RlbCB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsID0gc3VwZXIuZ2V0RXZlbnRNb2RlbCgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFNvdXJjZSA9IENvbnN0YW50cy5FdmVudHNTb3VyY2VzLkNvbm5leHQ7XHJcbiAgICAgICAgdGhpcy5hZGRDb25uZXh0VmVyc2lvbkluZm8oKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuQ29uZmlnQ29kZSA9IENvbm5leHRNb2R1bGUuZ2V0Q29uZmlnQ29kZSgpO1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2RwRXZlbnRNb2RlbCh0aGlzLmV2ZW50TW9kZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENvbm5leHRWZXJzaW9uSW5mbygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhLnB1c2goeyBLZXk6IFwiU291cmNlVmVyc2lvblwiLCBWYWx1ZTogQ29ubmV4dE1vZHVsZS5nZXRWZXJzaW9uSW5mbygpIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKTogdm9pZCB7IH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9Db25uZXh0RXZlbnQudHMiLCJpbXBvcnQgeyBHZW5lcmljVGFnIH0gZnJvbSBcIkBEYXRhL21vZGVscy9zcC90YWdzL1RhZ01vZGVsc1wiO1xyXG5pbXBvcnQgeyBHdG1UYWdFdmVudCB9IGZyb20gXCIuLy4uLy4uL0d0bVRhZ0V2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3BHdG1UYWdFdmVudCBleHRlbmRzIEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lcyA9IFtdO1xyXG4gICAgY3VycmVudEV2ZW50TmFtZVxyXG5cclxuICAgIHB1YmxpYyBsaXN0ZW4oKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxFdmVudE5hbWVzICYmIHRoaXMub3JpZ2luYWxFdmVudE5hbWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luYWxFdmVudE5hbWVzLmZvckVhY2goKGV2ZW50TmFtZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5FdmVudChldmVudE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9yaWdpbmFsRXZlbnROYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5FdmVudCh0aGlzLm9yaWdpbmFsRXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoXCJObyBldmVudCBOYW1lIGluIE9iamVjdFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoXCJhZGRTUFRhZ3MuRXJyb3JcIiwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsaXN0ZW5FdmVudChldmVudE5hbWUpIHtcclxuICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIlJlZ2lzdGVyaW5nIFNQIFRhZ3NcIik7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAga28ucG9zdGJveC5zdWJzY3JpYmUoZXZlbnROYW1lLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJGaXJpbmdcIiwgZXZlbnROYW1lLCBcImRhdGFcIiwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRFdmVudE5hbWUgPSBldmVudE5hbWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldE9yaWdpbmFsRXZlbnREYXRhKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kVGFnVG9BbmFsaXRjcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKFwiYWRkU1BUYWdzLkVycm9yXCIsIGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZW5kVGFnVG9BbmFsaXRjcyh0YWdOYW1lPywgdGFnRGF0YT8pIHtcclxuICAgICAgICB0aGlzLmV2ZW50U2VydmljZS5zZW5kRXZlbnQodGFnTmFtZSB8fCB0aGlzLmdldFNlbmRUYWdOYW1lKCksIHRhZ0RhdGEgfHwgdGhpcy5nZXRTZW5kVGFnRGF0YSgpLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTZW5kVGFnRGF0YSgpOiBhbnkge1xyXG4gICAgICAgIGxldCB0YWdFdmVudE5hbWUgPSB0aGlzLmdldFNlbmRUYWdOYW1lKCk7XHJcbiAgICAgICAgaWYgKHRhZ0V2ZW50TmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gPEdlbmVyaWNUYWc+e31cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL1NwR3RtVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBDZHBFdmVudE1vZGVsIH0gZnJvbSBcIi4vLi4vLi4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvQ2RwRXZlbnRNb2RlbFwiO1xyXG5pbXBvcnQgeyBMb2dnZXIsIExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vdXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbnN0YW50cy9Db25zdGFudHNcIjtcclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIEV2ZW50U2VydmljZSBpcyB0aGUgbWFpbiBjbGFzcyBmb3IgYWxsIGRhdGEgdGhhdCBpcyBzZW50LlxyXG4gKiBJdCB3aWxsIHN0b3JlIGNvbW1vbiBkYXRhIGFuZCBoYW5kbGUgZm9yd2FyZGluZyBhbGwgZXZlbnRzIHRvIGFsbCBvdGhlciBhcHByb3ByaWF0ZSBzZXJ2aWNlcyAoR0EsIENEUCwgQXp1cmUpXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2Vzc2lvblNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiU2Vzc2lvblNlcnZpY2VcIiwgXCIjZGZhODcwXCIpO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFNlc3Npb25TZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBkZXZpY2VCcm93c2VyU2Vzc2lvbklkOiBzdHJpbmc7XHJcbiAgICAvLyBwdWJsaWMgRGV2aWNlU2Vzc2lvbklkOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgUGFnZVNlc3Npb25JZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBzYXZlZENkcE1vZGVsOiBDZHBFdmVudE1vZGVsID0gbnVsbDtcclxuICAgIHByaXZhdGUgc3RhcnRQYWdlU2Vzc2lvbjtcclxuXHJcbiAgICBzdGF0aWMgZ2V0IEluc3RhbmNlKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTG9nZ2VyU2VydmljZS5HZXRJbnN0YW5jZVwiKTtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSA9PT0gbnVsbCB8fCB0aGlzLmluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJFdmVudFNlcnZpY2UuR2V0SW5zdGFuY2UuIE5PIElOU1RBTkNFLCBDUkVBVElOR1wiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBTZXNzaW9uU2VydmljZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiRXZlbnRTZXJ2aWNlLkdldEluc3RhbmNlLiBIQVMgSU5TVEFOQ0VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiQ1RPUlwiKTtcclxuICAgICAgICB0aGlzLlBhZ2VTZXNzaW9uSWQgPSBVdGlscy5jcmVhdGVHVUlEKCk7XHJcbiAgICAgICAgbGV0IHN0b3JlZEJyb3dzZXJTZXNzaW9uSWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKENvbnN0YW50cy5jb29raWVzLkJyb3dzZXJTZXNzaW9uSWQpO1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiQ1RPUlwiLCBcInN0b3JlZEJyb3dzZXJTZXNzaW9uSWRcIiwgc3RvcmVkQnJvd3NlclNlc3Npb25JZCk7XHJcbiAgICAgICAgaWYgKCFzdG9yZWRCcm93c2VyU2Vzc2lvbklkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlQnJvd3NlclNlc3Npb25JZCA9IFV0aWxzLmNyZWF0ZUdVSUQoKTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJDVE9SXCIsIFwiTk8gc3RvcmVkQnJvd3NlclNlc3Npb25JZC4uLiBOZXcgZGV2aWNlQnJvd3NlclNlc3Npb25JZFwiLCB0aGlzLmRldmljZUJyb3dzZXJTZXNzaW9uSWQpO1xyXG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKENvbnN0YW50cy5jb29raWVzLkJyb3dzZXJTZXNzaW9uSWQsIHRoaXMuZGV2aWNlQnJvd3NlclNlc3Npb25JZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kZXZpY2VCcm93c2VyU2Vzc2lvbklkID0gc3RvcmVkQnJvd3NlclNlc3Npb25JZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGFydFBhZ2VTZXNzaW9uID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3RhcnRQYWdlU2Vzc2lvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydFBhZ2VTZXNzaW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFN0YXJ0UGFnZVNlc3Npb24oc3RhcnRQYWdlU2Vzc2lvbikge1xyXG4gICAgICAgIHRoaXMuc3RhcnRQYWdlU2Vzc2lvbiA9IHN0YXJ0UGFnZVNlc3Npb247XHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZVJlcXVpcmVkRGF0YShkYXRhOiBDZHBFdmVudE1vZGVsIHwgQ2RwRXZlbnRNb2RlbFtdKSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAgICAgdGhpcy5zYXZlZENkcE1vZGVsID0gZGF0YVswXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVkQ2RwTW9kZWwgPSBkYXRhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZXF1aXJlZERhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZWRDZHBNb2RlbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkluaXRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGV2aWNlU2Vzc2lvbklkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGV2aWNlQnJvd3NlclNlc3Npb25JZDtcclxuICAgIH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvU2Vzc2lvblNlcnZpY2UudHMiLCJ0eXBlIE9wZXJhdGluZ1N5c3RlbSA9XHJcbiAgICB8IFwiaU9TXCJcclxuICAgIHwgXCJBbmRyb2lkIE9TXCJcclxuICAgIHwgXCJCbGFja0JlcnJ5IE9TXCJcclxuICAgIHwgXCJXaW5kb3dzIE1vYmlsZVwiXHJcbiAgICB8IFwiQW1hem9uIE9TXCJcclxuICAgIHwgXCJXaW5kb3dzIDMuMTFcIlxyXG4gICAgfCBcIldpbmRvd3MgOTVcIlxyXG4gICAgfCBcIldpbmRvd3MgOThcIlxyXG4gICAgfCBcIldpbmRvd3MgMjAwMFwiXHJcbiAgICB8IFwiV2luZG93cyBYUFwiXHJcbiAgICB8IFwiV2luZG93cyBTZXJ2ZXIgMjAwM1wiXHJcbiAgICB8IFwiV2luZG93cyBWaXN0YVwiXHJcbiAgICB8IFwiV2luZG93cyA3XCJcclxuICAgIHwgXCJXaW5kb3dzIDhcIlxyXG4gICAgfCBcIldpbmRvd3MgOC4xXCJcclxuICAgIHwgXCJXaW5kb3dzIDEwXCJcclxuICAgIHwgXCJXaW5kb3dzIE1FXCJcclxuICAgIHwgXCJPcGVuIEJTRFwiXHJcbiAgICB8IFwiU3VuIE9TXCJcclxuICAgIHwgXCJMaW51eFwiXHJcbiAgICB8IFwiTWFjIE9TXCJcclxuICAgIHwgXCJRTlhcIlxyXG4gICAgfCBcIkJlT1NcIlxyXG4gICAgfCBcIk9TLzJcIlxyXG4gICAgfCBcIkNocm9tZSBPU1wiO1xyXG5cclxudHlwZSBCcm93c2VyID1cclxuICAgIHwgXCJBb2xcIlxyXG4gICAgfCBcIkVkZ2VcIlxyXG4gICAgfCBcIllhbmRleGJyb3dzZXJcIlxyXG4gICAgfCBcIlZpdmFsZGlcIlxyXG4gICAgfCBcIktha2FvdGFsa1wiXHJcbiAgICB8IFwiU2Ftc3VuZ1wiXHJcbiAgICB8IFwiU2lsa1wiXHJcbiAgICB8IFwiTWl1aVwiXHJcbiAgICB8IFwiQmVha2VyXCJcclxuICAgIHwgXCJFZGdlLWNocm9taXVtXCJcclxuICAgIHwgXCJDaHJvbWVcIlxyXG4gICAgfCBcIkNocm9taXVtLXdlYnZpZXdcIlxyXG4gICAgfCBcIlBoYW50b21qc1wiXHJcbiAgICB8IFwiQ3Jpb3NcIlxyXG4gICAgfCBcIkZpcmVmb3hcIlxyXG4gICAgfCBcIkZ4aW9zXCJcclxuICAgIHwgXCJPcGVyYS1taW5pXCJcclxuICAgIHwgXCJPcGVyYVwiXHJcbiAgICB8IFwiSUVcIlxyXG4gICAgfCBcIkJiMTBcIlxyXG4gICAgfCBcIkFuZHJvaWRcIlxyXG4gICAgfCBcIklvc1wiXHJcbiAgICB8IFwiU2FmYXJpXCJcclxuICAgIHwgXCJGYWNlYm9va1wiXHJcbiAgICB8IFwiSW5zdGFncmFtXCJcclxuICAgIHwgXCJJb3Mtd2Vidmlld1wiXHJcbiAgICB8IFwiVUNCcm93c2VyXCI7XHJcbnR5cGUgVXNlckFnZW50UnVsZSA9IFtCcm93c2VyLCBSZWdFeHBdO1xyXG5cclxuY29uc3QgVXNlckFnZW50UnVsZXM6IFVzZXJBZ2VudFJ1bGVbXSA9IFtcclxuICAgIFtcIkFvbFwiLCAvQU9MU2hpZWxkXFwvKFswLTlcXC5fXSspL10sXHJcbiAgICBbXCJFZGdlXCIsIC9FZGdlXFwvKFswLTlcXC5fXSspL10sXHJcbiAgICBbXCJZYW5kZXhicm93c2VyXCIsIC9ZYUJyb3dzZXJcXC8oWzAtOVxcLl9dKykvXSxcclxuICAgIFtcIlZpdmFsZGlcIiwgL1ZpdmFsZGlcXC8oWzAtOVxcLl0rKS9dLFxyXG4gICAgW1wiS2FrYW90YWxrXCIsIC9LQUtBT1RBTEtcXHMoWzAtOVxcLl0rKS9dLFxyXG4gICAgW1wiU2Ftc3VuZ1wiLCAvU2Ftc3VuZ0Jyb3dzZXJcXC8oWzAtOVxcLl0rKS9dLFxyXG4gICAgW1wiU2lsa1wiLCAvXFxiU2lsa1xcLyhbMC05Ll8tXSspXFxiL10sXHJcbiAgICBbXCJNaXVpXCIsIC9NaXVpQnJvd3NlclxcLyhbMC05XFwuXSspJC9dLFxyXG4gICAgW1wiQmVha2VyXCIsIC9CZWFrZXJCcm93c2VyXFwvKFswLTlcXC5dKykvXSxcclxuICAgIFtcIkVkZ2UtY2hyb21pdW1cIiwgL0VkZ1xcLyhbMC05XFwuXSspL10sXHJcbiAgICBbXCJDaHJvbWl1bS13ZWJ2aWV3XCIsIC8oPyFDaHJvbS4qT1BSKXd2XFwpLipDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXHJcbiAgICBbXCJDaHJvbWVcIiwgLyg/IUNocm9tLipPUFIpQ2hyb20oPzplfGl1bSlcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFxyXG4gICAgW1wiUGhhbnRvbWpzXCIsIC9QaGFudG9tSlNcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFxyXG4gICAgW1wiQ3Jpb3NcIiwgL0NyaU9TXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcclxuICAgIFtcIkZpcmVmb3hcIiwgL0ZpcmVmb3hcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS9dLFxyXG4gICAgW1wiRnhpb3NcIiwgL0Z4aU9TXFwvKFswLTlcXC5dKykvXSxcclxuICAgIFtcIk9wZXJhLW1pbmlcIiwgL09wZXJhIE1pbmkuKlZlcnNpb25cXC8oWzAtOVxcLl0rKS9dLFxyXG4gICAgW1wiT3BlcmFcIiwgL09wZXJhXFwvKFswLTlcXC5dKykoPzpcXHN8JCkvXSxcclxuICAgIFtcIk9wZXJhXCIsIC9PUFJcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFxyXG4gICAgW1wiSUVcIiwgL1RyaWRlbnRcXC83XFwuMC4qcnZcXDooWzAtOVxcLl0rKS4qXFwpLipHZWNrbyQvXSxcclxuICAgIFtcIklFXCIsIC9NU0lFXFxzKFswLTlcXC5dKyk7LipUcmlkZW50XFwvWzQtN10uMC9dLFxyXG4gICAgW1wiSUVcIiwgL01TSUVcXHMoN1xcLjApL10sXHJcbiAgICBbXCJCYjEwXCIsIC9CQjEwO1xcc1RvdWNoLipWZXJzaW9uXFwvKFswLTlcXC5dKykvXSxcclxuICAgIFtcIlVDQnJvd3NlclwiLCAvKD86VUNXRUJ8VUNCcm93c2VyXFwvKShbXFxkXFwuXSspL10sXHJcbiAgICBbXCJBbmRyb2lkXCIsIC9BbmRyb2lkXFxzKFswLTlcXC5dKykvXSxcclxuICAgIFtcIklvc1wiLCAvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qTW9iaWxlLipTYWZhcmkuKi9dLFxyXG4gICAgW1wiU2FmYXJpXCIsIC9WZXJzaW9uXFwvKFswLTlcXC5fXSspLipTYWZhcmkvXSxcclxuICAgIFtcIkZhY2Vib29rXCIsIC9GQkFWXFwvKFswLTlcXC5dKykvXSxcclxuICAgIFtcIkluc3RhZ3JhbVwiLCAvSW5zdGFncmFtXFxzKFswLTlcXC5dKykvXSxcclxuICAgIFtcIklvcy13ZWJ2aWV3XCIsIC9BcHBsZVdlYktpdFxcLyhbMC05XFwuXSspLipNb2JpbGUvXSxcclxuICAgIFtcIklvcy13ZWJ2aWV3XCIsIC9BcHBsZVdlYktpdFxcLyhbMC05XFwuXSspLipHZWNrb1xcKSQvXVxyXG5dO1xyXG5cclxudHlwZSBPcGVyYXRpbmdTeXN0ZW1SdWxlID0gW09wZXJhdGluZ1N5c3RlbSwgUmVnRXhwXTtcclxuXHJcbmNvbnN0IE9wZXJhdGluZ1N5c3RlbVJ1bGVzOiBPcGVyYXRpbmdTeXN0ZW1SdWxlW10gPSBbXHJcbiAgICBbXCJpT1NcIiwgL2lQKGhvbmV8b2R8YWQpL10sXHJcbiAgICBbXCJBbmRyb2lkIE9TXCIsIC9BbmRyb2lkL10sXHJcbiAgICBbXCJCbGFja0JlcnJ5IE9TXCIsIC9CbGFja0JlcnJ5fEJCMTAvXSxcclxuICAgIFtcIldpbmRvd3MgTW9iaWxlXCIsIC9JRU1vYmlsZS9dLFxyXG4gICAgW1wiQW1hem9uIE9TXCIsIC9LaW5kbGUvXSxcclxuICAgIFtcIldpbmRvd3MgMy4xMVwiLCAvV2luMTYvXSxcclxuICAgIFtcIldpbmRvd3MgOTVcIiwgLyhXaW5kb3dzIDk1KXwoV2luOTUpfChXaW5kb3dzXzk1KS9dLFxyXG4gICAgW1wiV2luZG93cyA5OFwiLCAvKFdpbmRvd3MgOTgpfChXaW45OCkvXSxcclxuICAgIFtcIldpbmRvd3MgMjAwMFwiLCAvKFdpbmRvd3MgTlQgNS4wKXwoV2luZG93cyAyMDAwKS9dLFxyXG4gICAgW1wiV2luZG93cyBYUFwiLCAvKFdpbmRvd3MgTlQgNS4xKXwoV2luZG93cyBYUCkvXSxcclxuICAgIFtcIldpbmRvd3MgU2VydmVyIDIwMDNcIiwgLyhXaW5kb3dzIE5UIDUuMikvXSxcclxuICAgIFtcIldpbmRvd3MgVmlzdGFcIiwgLyhXaW5kb3dzIE5UIDYuMCkvXSxcclxuICAgIFtcIldpbmRvd3MgN1wiLCAvKFdpbmRvd3MgTlQgNi4xKS9dLFxyXG4gICAgW1wiV2luZG93cyA4XCIsIC8oV2luZG93cyBOVCA2LjIpL10sXHJcbiAgICBbXCJXaW5kb3dzIDguMVwiLCAvKFdpbmRvd3MgTlQgNi4zKS9dLFxyXG4gICAgW1wiV2luZG93cyAxMFwiLCAvKFdpbmRvd3MgTlQgMTAuMCkvXSxcclxuICAgIFtcIldpbmRvd3MgTUVcIiwgL1dpbmRvd3MgTUUvXSxcclxuICAgIFtcIk9wZW4gQlNEXCIsIC9PcGVuQlNEL10sXHJcbiAgICBbXCJTdW4gT1NcIiwgL1N1bk9TL10sXHJcbiAgICBbXCJDaHJvbWUgT1NcIiwgL0NyT1MvXSxcclxuICAgIFtcIkxpbnV4XCIsIC8oTGludXgpfChYMTEpL10sXHJcbiAgICBbXCJNYWMgT1NcIiwgLyhNYWNfUG93ZXJQQyl8KE1hY2ludG9zaCkvXSxcclxuICAgIFtcIlFOWFwiLCAvUU5YL10sXHJcbiAgICBbXCJCZU9TXCIsIC9CZU9TL10sXHJcbiAgICBbXCJPUy8yXCIsIC9PU1xcLzIvXVxyXG5dO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBEZXZpY2VEZXRlY3RvckNsYXNzIHtcclxuICAgIHByaXZhdGUgdXNlckFnZW50OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGNhbGN1bGF0ZURldmljZUlkOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMudXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0VXNlckFnZW50KHVzZXJBZ2VudDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy51c2VyQWdlbnQgPSB1c2VyQWdlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgaXNIYXNMZWF2ZVBhZ2VQcm9ibGVtcygpIHtcclxuICAgICAgICBpZiAod2luZG93LkRldmljZURldGVjdG9yKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJyb3dzZXJOYW1lID0gdGhpcy5nZXRCcm93c2VyKCkgPyB3aW5kb3cuRGV2aWNlRGV0ZWN0b3IuRGV2aWNlLmJyb3dzZXIubmFtZS50b0xvd2VyQ2FzZSgpIDogXCJcIjtcclxuICAgICAgICAgICAgY29uc3QgY2hyb21lUHJvYmxlbSA9IGJyb3dzZXJOYW1lID09PSBcImNocm9tZVwiICYmIHBhcnNlSW50KHRoaXMuZ2V0QnJvd3NlclZlcnNpb24oKSkgPj0gODA7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wZXJhUHJvYmxlbSA9IGJyb3dzZXJOYW1lID09PSBcIm9wZXJhXCIgJiYgcGFyc2VJbnQodGhpcy5nZXRCcm93c2VyVmVyc2lvbigpKSA+PSA2NztcclxuICAgICAgICAgICAgcmV0dXJuIGNocm9tZVByb2JsZW0gfHwgb3BlcmFQcm9ibGVtO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QnJvd3NlclZlcnNpb24oKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5EZXZpY2VEZXRlY3RvciAmJiB3aW5kb3cuRGV2aWNlRGV0ZWN0b3IuRGV2aWNlICYmIHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2UuYnJvd3Nlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LkRldmljZURldGVjdG9yLkRldmljZS5icm93c2VyLnZlcnNpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRCcm93c2VyKCk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgICAgIGlmICh3aW5kb3cuRGV2aWNlRGV0ZWN0b3IgJiYgd2luZG93LkRldmljZURldGVjdG9yLkRldmljZSAmJiB3aW5kb3cuRGV2aWNlRGV0ZWN0b3IuRGV2aWNlLmJyb3dzZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2UuYnJvd3Nlci5uYW1lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgYnJvd3NlckluZGV4ID0gMDsgYnJvd3NlckluZGV4IDwgVXNlckFnZW50UnVsZXMubGVuZ3RoOyBicm93c2VySW5kZXgrKykge1xyXG4gICAgICAgICAgICBpZiAobmV3IFJlZ0V4cChVc2VyQWdlbnRSdWxlc1ticm93c2VySW5kZXhdWzFdKS50ZXN0KHRoaXMudXNlckFnZW50KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFVzZXJBZ2VudFJ1bGVzW2Jyb3dzZXJJbmRleF1bMF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRPcygpOiBzdHJpbmcgfCBudWxsIHtcclxuICAgICAgICBpZiAod2luZG93LkRldmljZURldGVjdG9yICYmIHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2UgJiYgd2luZG93LkRldmljZURldGVjdG9yLkRldmljZS5vcykge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LkRldmljZURldGVjdG9yLkRldmljZS5vcy5uYW1lICsgXCIgXCIgKyAod2luZG93LkRldmljZURldGVjdG9yLkRldmljZS5vcy52ZXJzaW9uIHx8IFwiXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgb3NJbmRleCA9IDA7IG9zSW5kZXggPCBPcGVyYXRpbmdTeXN0ZW1SdWxlcy5sZW5ndGg7IG9zSW5kZXgrKykge1xyXG4gICAgICAgICAgICBpZiAobmV3IFJlZ0V4cChPcGVyYXRpbmdTeXN0ZW1SdWxlc1tvc0luZGV4XVsxXSkudGVzdCh0aGlzLnVzZXJBZ2VudCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBPcGVyYXRpbmdTeXN0ZW1SdWxlc1tvc0luZGV4XVswXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzTW9iaWxlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBtb2JpbGVSRSA9IC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllc1s0Nl0wfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIChjZXxwaG9uZSl8eGRhfHhpaW5vL2lcclxuICAgICAgICByZXR1cm4gbW9iaWxlUkUudGVzdCh0aGlzLnVzZXJBZ2VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldERldmljZVR5cGUoKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAod2luZG93LkRldmljZURldGVjdG9yICYmIHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2UgJiYgd2luZG93LkRldmljZURldGVjdG9yLkRldmljZS5wbGF0Zm9ybSkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LkRldmljZURldGVjdG9yLkRldmljZS5wbGF0Zm9ybS50eXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNNb2JpbGUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJNb2JpbGVcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgdGFibGV0UkUgPSAvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXNbNDZdMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyAoY2V8cGhvbmUpfHhkYXx4aWlub3xhbmRyb2lkfGlwYWR8cGxheWJvb2t8c2lsay9pXHJcbiAgICAgICAgICAgIGlmICh0YWJsZXRSRS50ZXN0KHRoaXMudXNlckFnZW50KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiVGFibGV0XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBcIkRlc2t0b3BcIjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TWV0YURhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgQnJvd3NlcjogdGhpcy5nZXRCcm93c2VyKCksXHJcbiAgICAgICAgICAgIE9TOiB0aGlzLmdldE9zKCksXHJcbiAgICAgICAgICAgIERldmljZVR5cGU6IHRoaXMuZ2V0RGV2aWNlVHlwZSgpLFxyXG4gICAgICAgICAgICBVUkw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREZXZpY2VJZCgpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbGN1bGF0ZURldmljZUlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jYWxjdWxhdGVEZXZpY2VJZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGV2aWNlSWRGcm9tRlAoKVxyXG4gICAgICAgICAgICAudGhlbigoZGV2aWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDYWxjdWxhdGVkRGV2aWNlSWQoZGV2aWNlSWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkZXZpY2VJZCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXREZXZpY2VJZEZyb21GUCgpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgICAgIGNvbnN0IGZpbmdlclByaW50ID0gd2luZG93LkZpbmdlcnByaW50O1xyXG4gICAgICAgIGlmIChmaW5nZXJQcmludCAmJiB0eXBlb2YgZmluZ2VyUHJpbnQuZ2V0RGV2aWNlSUQgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LkZpbmdlcnByaW50LmdldERldmljZUlEKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGV2aWNlSWRGcm9tT2xkVmVyc2lvbkZQKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREZXZpY2VJZEZyb21PbGRWZXJzaW9uRlAoKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jYWxjdWxhdGVEZXZpY2VJZCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmNhbGN1bGF0ZURldmljZUlkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGZwSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmluZ2VyUHJpbnQgPSB0aGlzLmdldEZpbmdlclByaW50QWNjZXNzKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmluZ2VyUHJpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGV2aWNlSWQgPSBmaW5nZXJQcmludC5nZXREZXZpY2VJZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXZpY2VJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZURldmljZUlkID0gZGV2aWNlSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZnBJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGV2aWNlSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2FsY3VsYXRlRGV2aWNlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGZwSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZQIGlzIG5vdCBhdmFpbGFibGUgb3IgY2FuIG5vdCBjYWxjdWxhdGUgZGV2aWNlSWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LCAxMDAwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RmluZ2VyUHJpbnRBY2Nlc3MoKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5GcHJpbnRpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5GcHJpbnRpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHdpbmRvdy5GaW5nZXJwcmludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LkZpbmdlcnByaW50O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRDYWxjdWxhdGVkRGV2aWNlSWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlRGV2aWNlSWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q2FsY3VsYXRlZERldmljZUlkKGNhbGN1bGF0ZURldmljZUlkKSB7XHJcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVEZXZpY2VJZCA9IGNhbGN1bGF0ZURldmljZUlkO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRGV2aWNlRGV0ZWN0b3IgPSBuZXcgRGV2aWNlRGV0ZWN0b3JDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vdXRpbHMvRGV2aWNlRGV0ZWN0b3IudHMiLCJpbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9TZXNzaW9uU2VydmljZVwiO1xyXG5pbXBvcnQgeyBTZW5kT3B0aW9uc01vZGVsIH0gZnJvbSBcIi4vbW9kZWxzL1NlbmRPcHRpb25zTW9kZWxcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRNb2RlbCB9IGZyb20gXCIuL21vZGVscy9DZHBFdmVudE1vZGVsXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50IH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50XCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgRGF0YUNvbGxlY3RvciB9IGZyb20gXCJATW9kdWxlcy9kYXRhQ29sbGVjdG9yL0RhdGFDb2xsZWN0b3JcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuL2ludGVyZmFjZXMvbW9kZWxzL0NkcEV2ZW50TW9kZWxJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQ29tbW9uQ29uZmlnRGF0YSB9IGZyb20gXCJAQ29uZmlnL0NvbW1vbkNvbmZpZ0RhdGFcIjtcclxuaW1wb3J0IHsgUGx1Z2luSW5uZXJFdmVudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL1BsdWdpbklubmVyRXZlbnRzXCI7XHJcbmltcG9ydCB7IEJ1Z1RyYWNrVXRpbCB9IGZyb20gXCJAVXRpbHMvQnVnVHJhY2tVdGlsXCI7XHJcbmltcG9ydCB7IEZhaWxlZEV2ZW50U2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9GYWlsZWRFdmVudFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgSHR0cFNlcnZpY2UgfSBmcm9tIFwiQERhdGEvbW9kdWxlcy9IdHRwU2VydmljZVwiO1xyXG5pbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5pbXBvcnQgeyBTZW5kT3B0aW9uc01vZGVsSW50ZXJmYWNlIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9tb2RlbHMvU2VuZE9wdGlvbnNNb2RlbEludGVyZmFjZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENkcEV2ZW50c01hbmFnZXJDbGFzcyB7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJDZHBNb2R1bGVcIik7XHJcbiAgICBwcml2YXRlIHNlc3Npb25TZXJ2aWNlID0gU2Vzc2lvblNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICBwdWJsaWMgQ29sbGVjdE1ldGFUYWdzOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgZmlyZWRFdmVudHMgPSBbXTtcclxuICAgIHB1YmxpYyBzZW5kRXZlbnRzRGVsYXkgPSAwO1xyXG4gICAgcHJpdmF0ZSBpc0Nsb3NlUGFnZUZsYWcgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbGFzdFNlbmRlZElkczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICBzZXRDbG9zZVBhZ2VGbGFnKGNsb3NlRmxhZzogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuaXNDbG9zZVBhZ2VGbGFnID0gY2xvc2VGbGFnO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENsb3NlUGFnZUZsYWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDbG9zZVBhZ2VGbGFnO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2VudFF1ZXJ5RXZlbnRzKHVwZGF0ZWREYXRhOiBDZHBFdmVudE1vZGVsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmlyZWRFdmVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmZpcmVkRXZlbnRzLmZvckVhY2goKGZpcmVkRXZlbnQ6IENkcEV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmlyZWREYXRhID0gZmlyZWRFdmVudC5nZXRDYWxjdWxhdGVNb2RlbCgpO1xyXG4gICAgICAgICAgICAgICAgZmlyZWRFdmVudC51cGRhdGVSZXF1aXJlZEZpZWxkcyh1cGRhdGVkRGF0YSk7XHJcbiAgICAgICAgICAgICAgICBEYXRhQ29sbGVjdG9yLmFkZEV2ZW50SW5Db2xsZWN0b3IoZmlyZWRFdmVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFdmVudChmaXJlZERhdGEsIGZpcmVkRXZlbnQuZ2V0RXZlbnRPcHRpb25zKCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5maXJlZEV2ZW50cyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXZlbnRGaXJlKGNkcEV2ZW50OiBDZHBFdmVudCkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiZXZlbnRGaXJlIEV2ZW50TW9kZWwgLSBcIiwgY2RwRXZlbnQuZXZlbnRNb2RlbCk7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJldmVudEZpcmUgRXZlbnRUeXBlIC0gXCIsIGNkcEV2ZW50LmV2ZW50TW9kZWwuRXZlbnRUeXBlKTtcclxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImV2ZW50RmlyZSBEZXZpY2VJZCAtIFwiLCBjZHBFdmVudC5ldmVudE1vZGVsLkRldmljZUlkKTtcclxuICAgICAgICBsZXQgc2VuZERhdGE6IENkcEV2ZW50TW9kZWwgPSBjZHBFdmVudC5nZXRFdmVudE1vZGVsKCk7XHJcbiAgICAgICAgaWYgKCFzZW5kRGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIGxldCBzZXNzaW9uUmVxdWlyZWREYXRhOiBDZHBFdmVudE1vZGVsID0gdGhpcy5zZXNzaW9uU2VydmljZS5nZXRSZXF1aXJlZERhdGEoKTtcclxuICAgICAgICBsZXQgaXNWYWxpZCA9IGNkcEV2ZW50LmlzVmFsaWQoKTtcclxuICAgICAgICBCdWdUcmFja1V0aWwubG9nRXZlbnRGaXJlKHNlbmREYXRhLCBpc1ZhbGlkLCB0aGlzLmZpcmVkRXZlbnRzKTtcclxuXHJcbiAgICAgICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJldmVudEZpcmUgRXZlbnRUeXBlIC0gXCIgKyBjZHBFdmVudC5ldmVudE1vZGVsLkV2ZW50VHlwZSArIFwiIGlzVmFsaWRcIik7XHJcbiAgICAgICAgICAgIGlmICghc2Vzc2lvblJlcXVpcmVkRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uU2VydmljZS5zYXZlUmVxdWlyZWREYXRhKHNlbmREYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VudFF1ZXJ5RXZlbnRzKHNlbmREYXRhKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VudFF1ZXJ5RXZlbnRzKHNlc3Npb25SZXF1aXJlZERhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIERhdGFDb2xsZWN0b3IuYWRkRXZlbnRJbkNvbGxlY3RvcihjZHBFdmVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHNlbmREYXRhLCBjZHBFdmVudC5nZXRFdmVudE9wdGlvbnMoKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJldmVudEZpcmUgRXZlbnRUeXBlIC0gXCIgKyBjZHBFdmVudC5ldmVudE1vZGVsLkV2ZW50VHlwZSArIFwiIGlzIG5vdCBpc1ZhbGlkXCIpO1xyXG4gICAgICAgICAgICBpZiAoc2Vzc2lvblJlcXVpcmVkRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY2RwRXZlbnQudXBkYXRlUmVxdWlyZWRGaWVsZHMoc2Vzc2lvblJlcXVpcmVkRGF0YSk7XHJcbiAgICAgICAgICAgICAgICBEYXRhQ29sbGVjdG9yLmFkZEV2ZW50SW5Db2xsZWN0b3IoY2RwRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoY2RwRXZlbnQuZ2V0Q2FsY3VsYXRlTW9kZWwoKSwgY2RwRXZlbnQuZ2V0RXZlbnRPcHRpb25zKCkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlZEV2ZW50cy5wdXNoKE9iamVjdC5hc3NpZ24obmV3IENkcEV2ZW50KCksIGNkcEV2ZW50KSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImFkZCBFdmVudCBpbiBxdWVyeSAtIFwiICsgY2RwRXZlbnQuZXZlbnRNb2RlbC5FdmVudFR5cGUgKyBcIiBpcyBub3QgaXNWYWxpZFwiLCB0aGlzLmZpcmVkRXZlbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmRFdmVudChzZW5kRGF0YTogQ2RwRXZlbnRNb2RlbCB8IENkcEV2ZW50TW9kZWxbXSwgb3B0aW9ucz86IFNlbmRPcHRpb25zTW9kZWxJbnRlcmZhY2UpIHtcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2VuZERhdGEpKSB7XHJcbiAgICAgICAgICAgIHNlbmREYXRhID0gW3NlbmREYXRhXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJzZW5kQXJyYXlEYXRhXCIsIHNlbmREYXRhKTtcclxuICAgICAgICBCdWdUcmFja1V0aWwubG9nU2VuZEV2ZW50KHNlbmREYXRhLCBvcHRpb25zIGFzIFNlbmRPcHRpb25zTW9kZWwpO1xyXG4gICAgICAgIHNlbmREYXRhLmZvckVhY2goKGRhdGE6IENkcEV2ZW50TW9kZWwpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnRJZCA9IGRhdGEuSWQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTZW5kZWRJZHMuaW5kZXhPZihldmVudElkKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNlbmRlZElkcy5wdXNoKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTZW5kZWRJZHMgPSB0aGlzLmxhc3RTZW5kZWRJZHMuc2xpY2UoLTEwKTsgLy8gc3RvcmUgbGFzdCAxMFxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQmVhY29uU3VwcG9ydGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNkcFNlbmRCZWFjb24oZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZERhdGFGZXRjaChkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5sb2dQcmV2ZW50RHVwbGljYXRlKGV2ZW50SWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY291bGQgcmV0dXJuIGZhbHNlIHdoZW4gcmVxdWVzdCBpcyB2YWxpZCwgc28gd2Ugc3RvcCB1c2UgdGhpcyB2YWx1ZVxyXG4gICAgcHJpdmF0ZSBjZHBTZW5kQmVhY29uKGNkcERhdGE6IENkcEV2ZW50TW9kZWxJbnRlcmZhY2UpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGAke0NvbmZpZ01vZHVsZS5nZXRDZHBFdmVudHNVcmwoKX0/JHtCdWdUcmFja1V0aWwuZ2V0QmVhY29uUmVxdWVzdFVybFBhcmFtKGNkcERhdGEgYXMgQ2RwRXZlbnRNb2RlbCl9YDtcclxuICAgICAgICBzdWNjZXNzID0gbmF2aWdhdG9yLnNlbmRCZWFjb24odXJsLCBKU09OLnN0cmluZ2lmeShjZHBEYXRhKSk7XHJcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc0JlYWNvblN1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gbmF2aWdhdG9yLnNlbmRCZWFjb24gPyB0cnVlIDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZW5kRGF0YVhocihjZHBEYXRhOiBDZHBFdmVudE1vZGVsSW50ZXJmYWNlLCBvcHRpb25zPzogU2VuZE9wdGlvbnNNb2RlbCk6IHZvaWQge1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRFdmVudHNDYWxsKGNkcERhdGEgYXMgQ2RwRXZlbnRNb2RlbCwgXCJCRUJPUkVfU0VORFwiKTtcclxuICAgICAgICAvLyBGYWlsZWRFdmVudFNlcnZpY2UuSW5zdGFuY2Uuc3Rhc2goY2RwRGF0YSBhcyBDZHBFdmVudE1vZGVsKTtcclxuICAgICAgICBjb25zdCByZXNvbHZlID0gKHN1Y2Nlc3M6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgLy8gRmFpbGVkRXZlbnRTZXJ2aWNlLkluc3RhbmNlLmRyb3AoY2RwRGF0YSBhcyBDZHBFdmVudE1vZGVsLCBzdWNjZXNzKVxyXG4gICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkRXZlbnRzQ2FsbChjZHBEYXRhIGFzIENkcEV2ZW50TW9kZWwsIHN1Y2Nlc3MgPyBcIlJFU09MVkVfU1VDQ0VTU1wiIDogXCJSRVNPTFZFX0ZBSUxFRFwiKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICghY2RwRGF0YSkge1xyXG4gICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpc1N1Y2Nlc3NTZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Q2xvc2VQYWdlRmxhZygpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLklzQXN5bmMgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgZm5OYW1lID0gXCJbc2VuZERhdGFYaHJdIFwiO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiY2RwRGF0YSA9PiBcIiwgY2RwRGF0YSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAgICAgICAgIHhoci5vcGVuKFwicG9zdFwiLCBDb25maWdNb2R1bGUuZ2V0Q2RwRXZlbnRzVXJsKCksIG9wdGlvbnMuSXNBc3luYyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB4aHJPbkxvYWQgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJDRFAgTG9hZFwiLCBjZHBEYXRhKTtcclxuICAgICAgICAgICAgICAgIGlzU3VjY2Vzc1NlbmRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEV2ZW50c0NhbGwoY2RwRGF0YSBhcyBDZHBFdmVudE1vZGVsLCBcIk9OX0xPQURcIik7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGlzU3VjY2Vzc1NlbmRpbmcpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCB4aHJPbkVycm9yID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKFwiRXJyb3IgU2VuZGluZyBDRFAgRGF0YVwiLCBlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKGZuTmFtZSwgXCJzZW5kIGJlYWNvblwiLCBjZHBEYXRhLkV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkRXZlbnRzQ2FsbChjZHBEYXRhIGFzIENkcEV2ZW50TW9kZWwsIGBPTl9FUlJPUiAke1N0cmluZyhlKX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2RwU2VuZEJlYWNvbihjZHBEYXRhKTtcclxuICAgICAgICAgICAgICAgIGlzU3VjY2Vzc1NlbmRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEV2ZW50c0NhbGwoY2RwRGF0YSBhcyBDZHBFdmVudE1vZGVsLCBcIkFGVEVSX0VSUk9SX0JFQUNPTlwiKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoaXNTdWNjZXNzU2VuZGluZyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCB4aHJPbkxvYWQpO1xyXG4gICAgICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHhock9uRXJyb3IpO1xyXG5cclxuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJTaXRlLUNvZGVcIiwgY2RwRGF0YS5TaXRlQ29kZSk7XHJcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ2xpZW50LUNvZGVcIiwgY2RwRGF0YS5DbGllbnRDb2RlKTtcclxuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xyXG4gICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkUmVxdWVzdEhlYWRlcih4aHIsIGNkcERhdGEgYXMgQ2RwRXZlbnRNb2RlbCk7XHJcbiAgICAgICAgICAgIHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KGNkcERhdGEpKTtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEV2ZW50c0NhbGwoY2RwRGF0YSBhcyBDZHBFdmVudE1vZGVsLCBcIkFGVEVSX1NFTkRcIik7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKGZuTmFtZSwgXCJzZW5kXCIsIHhocik7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoXCJFcnJvciBjYXRjaCBTZW5kaW5nIENEUCBEYXRhXCIsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJ4aHIgZXJyb3JcIiwgaXNTdWNjZXNzU2VuZGluZyk7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRFdmVudHNDYWxsKGNkcERhdGEgYXMgQ2RwRXZlbnRNb2RlbCwgXCJPTl9DQVRDSFwiKTtcclxuICAgICAgICAgICAgaWYgKCFpc1N1Y2Nlc3NTZW5kaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInNlbmQgYmVhY29uXCIsIGNkcERhdGEuRXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRFdmVudHNDYWxsKGNkcERhdGEgYXMgQ2RwRXZlbnRNb2RlbCwgXCJCRUZPUkVfQ0FUQ0hfQkVBQ09OXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZHBTZW5kQmVhY29uKGNkcERhdGEpO1xyXG4gICAgICAgICAgICAgICAgaXNTdWNjZXNzU2VuZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkRXZlbnRzQ2FsbChjZHBEYXRhIGFzIENkcEV2ZW50TW9kZWwsIFwiQUZURVJfQ0FUQ0hfQkVBQ09OXCIpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShpc1N1Y2Nlc3NTZW5kaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlbmREYXRhRmV0Y2goY2RwRGF0YTogQ2RwRXZlbnRNb2RlbEludGVyZmFjZSk6IHZvaWQge1xyXG4gICAgICAgIC8vIHdlIGhhdmVuJ3QgYmVhY29uIHNvIHJlc2VuZCBldmVudHMgb24gbmV4dCBwYWdlbG9hZCBhZnRlciBvbmxvYWQgZXZlbnRcclxuICAgICAgICBpZiAodGhpcy5nZXRDbG9zZVBhZ2VGbGFnKCkpIHtcclxuICAgICAgICAgICAgRmFpbGVkRXZlbnRTZXJ2aWNlLkluc3RhbmNlLnN0YXNoKGNkcERhdGEgYXMgQ2RwRXZlbnRNb2RlbCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHdlIGNhbid0IHdhaXQgZm9yIHN1Y2Nlc3MvZmFpbCBjYWxsYmFja1xyXG4gICAgICAgIC8vIGFuZCB3ZSBkb24ndCB0cnVzdCBmYWlsIGNhbGxiYWNrXHJcbiAgICAgICAgRmFpbGVkRXZlbnRTZXJ2aWNlLkluc3RhbmNlLmRyb3AoY2RwRGF0YSBhcyBDZHBFdmVudE1vZGVsKTtcclxuXHJcbiAgICAgICAgbGV0IGZldGNoT3B0aW9ucyA9IHt9O1xyXG4gICAgICAgIGZldGNoT3B0aW9ucyA9IEJ1Z1RyYWNrVXRpbC5hZGREdXBsaWNhdGVJbmZvKGZldGNoT3B0aW9ucyk7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEV2ZW50c0NhbGwoY2RwRGF0YSBhcyBDZHBFdmVudE1vZGVsLCBcIkJFQk9SRV9TRU5EXCIpO1xyXG5cclxuICAgICAgICBIdHRwU2VydmljZS5wb3N0KFwiXCIsIGNkcERhdGEsIGZldGNoT3B0aW9ucywgQ29uZmlnTW9kdWxlLmdldENkcEV2ZW50c1VybCgpKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkRXZlbnRzQ2FsbChjZHBEYXRhIGFzIENkcEV2ZW50TW9kZWwsIFwiVEhFTl9GRVRDSFwiKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEV2ZW50c0NhbGwoY2RwRGF0YSBhcyBDZHBFdmVudE1vZGVsLCBgQ0FUQ0hfRkVUQ0ggJHtTdHJpbmcoZXJyb3IpfWApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBCdWdUcmFja1V0aWwuYWRkRXZlbnRzQ2FsbChjZHBEYXRhIGFzIENkcEV2ZW50TW9kZWwsIFwiQUZURVJfU0VORFwiKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENkcEV2ZW50c01hbmFnZXIgPSBuZXcgQ2RwRXZlbnRzTWFuYWdlckNsYXNzKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50c01hbmFnZXIudHMiLCJpbXBvcnQgeyBIdHRwIH0gZnJvbSBcIi4uLy4uL2NvcmUvc3RvcmFnZXMvaHR0cC9IdHRwXCI7XHJcbmltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlXCI7XHJcbmltcG9ydCB7IERldmljZURldGVjdG9yIH0gZnJvbSBcIkBVdGlscy9EZXZpY2VEZXRlY3RvclwiO1xyXG5pbXBvcnQgeyBEZXZpY2VNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvZGV2aWNlTW9kdWxlL0RldmljZU1vZHVsZVwiO1xyXG5cclxuY2xhc3MgSHR0cFNlcnZpY2VDbGFzcyB7XHJcbiAgICBwcml2YXRlIGh0dHA6IEh0dHA7XHJcbiAgICBwcml2YXRlIEFQSV9QQVRIOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5odHRwID0gbmV3IEh0dHAoKTtcclxuICAgfVxyXG5cclxuICAgcHVibGljIGdldCh1cmw6IHN0cmluZywgcGF5bG9hZDogYW55PSB7fSwgb3B0aW9uczogYW55PSB7fSwgYXBpUGF0aD86IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIERldmljZU1vZHVsZS5nZXREZXZpY2VJZFRvQXBpKCkudGhlbigoZGV2aWNlSWQpID0+IHtcclxuICAgICAgICAgICAgcGF5bG9hZFtcImRldmljZWlkXCJdID0gZGV2aWNlSWQ7XHJcbiAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYWxsKFwiZ2V0XCIsIHVybCwgcGF5bG9hZCwgb3B0aW9ucywgYXBpUGF0aCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBvc3QodXJsOiBzdHJpbmcsIHBheWxvYWQ6IGFueSwgb3B0aW9ucz86IGFueSwgYXBpUGF0aD86IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbChcInBvc3RcIiwgdXJsLCBwYXlsb2FkLCBvcHRpb25zLCBhcGlQYXRoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbGwobWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBwYXlsb2FkPzogYW55LCBvcHRpb25zOiBhbnkgPSB7fSwgYXBpUGF0aD86IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgdGhpcy5BUElfUEFUSCA9IGFwaVBhdGggfHwgQ29uZmlnTW9kdWxlLmdldENkcEFwaVVybCgpO1xyXG4gICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcclxuICAgICAgICBvcHRpb25zLmhlYWRlcnNbXCJTaXRlLUNvZGVcIl0gPSBDb25maWdNb2R1bGUuZ2V0U2l0ZUNvZGUoKTtcclxuICAgICAgICBvcHRpb25zLmhlYWRlcnNbXCJDbGllbnQtQ29kZVwiXSA9IENvbmZpZ01vZHVsZS5nZXRDbGllbnRDb2RlKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cFttZXRob2RdKHRoaXMuQVBJX1BBVEggKyB1cmwsIHBheWxvYWQsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEh0dHBTZXJ2aWNlID0gbmV3IEh0dHBTZXJ2aWNlQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2RhdGEvbW9kdWxlcy9IdHRwU2VydmljZS50cyIsImV4cG9ydCB7IE1ldGFEYXRhU2VydmljZSB9IGZyb20gXCIuL01ldGFEYXRhU2VydmljZVwiO1xyXG5leHBvcnQgeyBBenVyZVNlcnZpY2UgfSBmcm9tIFwiLi9BenVyZVNlcnZpY2VcIjtcclxuZXhwb3J0IHsgVXNlclNlcnZpY2UgfSBmcm9tIFwiLi9Vc2VyU2VydmljZVwiO1xyXG5leHBvcnQgeyBJVXNlclNlcnZpY2UgfSBmcm9tIFwiLi4vY29udHJhY3RzL0lVc2VyU2VydmljZVwiO1xyXG5leHBvcnQgeyBUYWdNYW5hZ2VyU2VydmljZSB9IGZyb20gXCIuL1RhZ01hbmFnZXJTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IElUYWdNYW5hZ2VyU2VydmljZSB9IGZyb20gXCIuLi9jb250cmFjdHMvSVRhZ01hbmFnZXJTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IEV2ZW50U2VydmljZSB9IGZyb20gXCIuL0V2ZW50U2VydmljZVwiO1xyXG5leHBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCIuL1Nlc3Npb25TZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IElFdmVudFNlcnZpY2UgfSBmcm9tIFwiLi4vY29udHJhY3RzL0lFdmVudFNlcnZpY2VcIjtcclxuZXhwb3J0IHsgQXBwSW5zaWdodHNTZXJ2aWNlIH0gZnJvbSBcIi4vQXBwSW5zaWdodHNTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IElBcHBJbnNpZ2h0c1NlcnZpY2UgfSBmcm9tIFwiLi4vY29udHJhY3RzL0lBcHBJbnNpZ2h0c1NlcnZpY2VcIjtcclxuZXhwb3J0IHsgSUZhaWxlZEV2ZW50U2VydmljZSB9IGZyb20gXCIuLi9jb250cmFjdHMvSUZhaWxlZEV2ZW50U2VydmljZVwiO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9JbmRleC50cyIsImltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlXCI7XHJcbmltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL1Nlc3Npb25TZXJ2aWNlXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRNb2RlbCB9IGZyb20gXCIuL21vZGVscy9DZHBFdmVudE1vZGVsXCI7XHJcbmltcG9ydCB7IFNlbmRPcHRpb25zTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL1NlbmRPcHRpb25zTW9kZWxcIjtcclxuaW1wb3J0IHsgQm90RGV0ZWN0b3IgfSBmcm9tIFwiQE1vZHVsZXMvYm90RGV0ZWN0aW9uL0JvdERldGVjdG9yXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50c01hbmFnZXIgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRzTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTZW5kT3B0aW9uc01vZGVsSW50ZXJmYWNlIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9tb2RlbHMvU2VuZE9wdGlvbnNNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudEludGVyZmFjZSB9IGZyb20gXCIuL0NkcEV2ZW50SW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IERhdGVVdGlsIH0gZnJvbSBcIkBVdGlscy9EYXRlVXRpbFwiO1xyXG5pbXBvcnQgeyBEZXZpY2VEZXRlY3RvciB9IGZyb20gXCJAVXRpbHMvRGV2aWNlRGV0ZWN0b3JcIjtcclxuaW1wb3J0IHsgQ29ubmV4dE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25uZXh0TW9kdWxlL0Nvbm5leHRNb2R1bGVcIjtcclxuaW1wb3J0IHsgQ2RwTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NkcE1vZHVsZS9DZHBNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDZHBFdmVudCBpbXBsZW1lbnRzIENkcEV2ZW50SW50ZXJmYWNlIHtcclxuICAgIGV2ZW50TW9kZWw6IENkcEV2ZW50TW9kZWw7XHJcbiAgICBJc0FzeW5jOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHByb3RlY3RlZCBvcmlnaW5hbEV2ZW50TmFtZTtcclxuICAgIHByb3RlY3RlZCBvcmlnaW5hbEV2ZW50TmFtZXMgPSBbXTtcclxuICAgIHByb3RlY3RlZCBvcmlnaW5hbEV2ZW50RGF0YTtcclxuICAgIHB1YmxpYyBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiQ2RwRXZlbnRcIik7XHJcbiAgICBzZXNzaW9uU2VydmljZTogU2Vzc2lvblNlcnZpY2U7XHJcbiAgICBwcm90ZWN0ZWQgY3VycmVudEV2ZW50TmFtZTsgLy8gZm9yIG11bHR5IG9yaWdpbiBldmVudFxyXG4gICAgcmVxdWlyZWRGaWVsZHMgPSBbXCJEZXZpY2VJZFwiLCBcIlNpdGVDb2RlXCIsIFwiQ2xpZW50Q29kZVwiLCBcIkNvbmZpZ0NvZGVcIl07XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsID0gbmV3IENkcEV2ZW50TW9kZWwobnVsbCk7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uU2VydmljZSA9IFNlc3Npb25TZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuY2xlYXJQcmV2aW91c0RhdGEoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFdmVudE9wdGlvbnMoKTogU2VuZE9wdGlvbnNNb2RlbEludGVyZmFjZSB7XHJcbiAgICAgICAgbGV0IHNlbmRPcHRpb25zID0gbmV3IFNlbmRPcHRpb25zTW9kZWwoKTtcclxuICAgICAgICBzZW5kT3B0aW9ucy5Jc0FzeW5jID0gdGhpcy5Jc0FzeW5jO1xyXG4gICAgICAgIHJldHVybiBzZW5kT3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbGlzdGVuKCkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiUmVnaXN0ZXJpbmcgRXZlbnRMaXN0ZW5lclwiKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50TmFtZXMgJiYgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZXMuZm9yRWFjaCgoZXZlbnROYW1lLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbkV2ZW50KGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxFdmVudE5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbkV2ZW50KHRoaXMub3JpZ2luYWxFdmVudE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihcIk5vIGV2ZW50IE5hbWUgaW4gT2JqZWN0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihcImFkZENvbGxlY3RvckV2ZW50TGlzdGVuZXIuRXJyb3JcIiwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxpc3RlbkV2ZW50KGV2ZW50TmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJhZGRFdmVudExpc3RlbmVyLi4uXCIsIGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIGV2ZW50TmFtZSwgKGU6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkZpcmluZ1wiLCB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJQcmV2aW91c0RhdGEoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0T3JpZ2luYWxFdmVudERhdGEoZS5kZXRhaWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RXZlbnROYW1lID0gZXZlbnROYW1lO1xyXG4gICAgICAgICAgICAgICAgQ2RwRXZlbnRzTWFuYWdlci5ldmVudEZpcmUodGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRyYW5zZm9ybUV2ZW50RGF0YSh0cmFuc2Zvcm1EYXRhPzogYW55KSB7XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsRXZlbnREYXRhID0gdGhpcy5nZXRPcmlnaW5hbEV2ZW50RGF0YSgpO1xyXG4gICAgICAgIGxldCBldmVudERhdGEgPSB0cmFuc2Zvcm1EYXRhIHx8IG9yaWdpbmFsRXZlbnREYXRhLkV2ZW50RGF0YSB8fCB7fTtcclxuICAgICAgICBsZXQgZGF0YU9iamVjdFRvQXJyYXkgPSBVdGlscy5BcnJheVRvRGljdGlvbmFyeVJlY3Vyc2l2ZShldmVudERhdGEsIFtdKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhID0gdGhpcy5ldmVudE1vZGVsLkV2ZW50RGF0YS5jb25jYXQodGhpcy5jb252ZXJ0RGF0YVZhbHVlVG9TdHJpbmcoZGF0YU9iamVjdFRvQXJyYXkpKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRCb3RJbmZvKCkge1xyXG4gICAgICAgIGlmIChDb25maWdNb2R1bGUuaXNBZGRCb3RJbmZvcm1hdGlvbigpKSB7XHJcbiAgICAgICAgICAgIGxldCBib3REZXRlY3RvciA9IG5ldyBCb3REZXRlY3RvcigpO1xyXG4gICAgICAgICAgICBsZXQgZGV0ZWN0Qm90ID0gYm90RGV0ZWN0b3IuZ2V0RGV0ZWN0Qm90KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGV0ZWN0Qm90KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhLnB1c2goeyBLZXk6IFwiQm90TmFtZVwiLCBWYWx1ZTogZGV0ZWN0Qm90Lm5hbWUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhLnB1c2goeyBLZXk6IFwiQm90Q2F0ZWdvcnlcIiwgVmFsdWU6IGRldGVjdEJvdC5jYXRlZ29yeSB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudERhdGEucHVzaCh7IEtleTogXCJVc2VyQm90XCIsIFZhbHVlOiBcImZhbHNlXCIgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RXZlbnRNb2RlbCgpOiBDZHBFdmVudE1vZGVsIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwgPSBuZXcgQ2RwRXZlbnRNb2RlbChudWxsKTtcclxuICAgICAgICBsZXQgb3JpZ2luYWxFdmVudERhdGEgPSB0aGlzLmdldE9yaWdpbmFsRXZlbnREYXRhKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLlBhZ2VTZXNzaW9uSWQgPSB0aGlzLnNlc3Npb25TZXJ2aWNlLlBhZ2VTZXNzaW9uSWQgfHwgdGhpcy5nZXRFdmVudFBhZ2VTZXNzaW9uSWQob3JpZ2luYWxFdmVudERhdGEpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5EZXZpY2VCcm93c2VyU2Vzc2lvbklkID0gdGhpcy5zZXNzaW9uU2VydmljZS5nZXREZXZpY2VTZXNzaW9uSWQoKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUaW1lc3RhbXAgPSBEYXRlVXRpbC5nZXROb3dEYXRlSW5TZWMoKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuU2l0ZUVudmlyb25tZW50ID0gQ29uZmlnTW9kdWxlLmdldFNpdGVFbnZpcm9ubWVudCgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5DbGllbnRDb2RlID0gQ29uZmlnTW9kdWxlLmdldENsaWVudENvZGUoKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuU2l0ZUNvZGUgPSBDb25maWdNb2R1bGUuZ2V0U2l0ZUNvZGUoKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRGV2aWNlSWQgPSBEZXZpY2VEZXRlY3Rvci5nZXRDYWxjdWxhdGVkRGV2aWNlSWQoKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRzJJZGV2aWNlaWQgPSBDZHBNb2R1bGUuZ2V0RzJpRGV2aWNlSWQoKSB8fCBcIlwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5Db25maWdDb2RlID0gQ29ubmV4dE1vZHVsZS5nZXRDb25maWdDb2RlKCkgfHwgXCJVbmtub3duXCI7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkVmVyc2lvbkluZm8oKTtcclxuICAgICAgICB0aGlzLmFkZEJvdEluZm8oKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5ldmVudE1vZGVsO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKTogdm9pZCB7IH1cclxuXHJcbiAgICBhZGRWZXJzaW9uSW5mbygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhLnB1c2goeyBLZXk6IFwiVmVyc2lvblwiLCBWYWx1ZTogVXRpbHMuZ2V0VmVyc2lvbigpIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RXZlbnRQYWdlU2Vzc2lvbklkKG9yaWdpbmFsRXZlbnREYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsRXZlbnREYXRhLkV2ZW50SW5mbyA/IG9yaWdpbmFsRXZlbnREYXRhLkV2ZW50SW5mby5TZXNzaW9uSWQgOiBVdGlscy5jcmVhdGVHVUlEKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbnZlcnREYXRhVmFsdWVUb1N0cmluZyhkYXRhOiBhbnkpOiBhbnkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiZXZlbnREYXRhVmFsdWVUb1N0cmluZ1wiLCBcImV2ZW50RGF0YVZhbHVlVG9TdHJpbmdcIiwgZGF0YSk7XHJcbiAgICAgICAgbGV0IGNsZWFuZWQgPSBbXTtcclxuICAgICAgICBkYXRhLm1hcChlID0+IHtcclxuICAgICAgICAgICAgaWYgKCh0eXBlb2YgZS5WYWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlLlZhbHVlICE9PSBudWxsKSkge1xyXG4gICAgICAgICAgICAgICAgY2xlYW5lZC5wdXNoKHsgXCJLZXlcIjogZS5LZXksIFwiVmFsdWVcIjogZS5WYWx1ZS50b1N0cmluZygpIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2xlYW5lZC5wdXNoKHsgXCJLZXlcIjogZS5LZXksIFwiVmFsdWVcIjogXCJcIiB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiZXZlbnREYXRhVmFsdWVUb1N0cmluZ1wiLCBcImV2ZW50RGF0YVZhbHVlVG9TdHJpbmdcIiwgY2xlYW5lZCk7XHJcbiAgICAgICAgcmV0dXJuIGNsZWFuZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaXNWYWxpZCgpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgZmllbGRMZW5ndGggPSB0aGlzLnJlcXVpcmVkRmllbGRzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmV2ZW50TW9kZWxbdGhpcy5yZXF1aXJlZEZpZWxkc1tpXV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVSZXF1aXJlZEZpZWxkcyh1cGRhdGVVc2VyRGF0YU1vZGVsOiBDZHBFdmVudE1vZGVsIHwgQ2RwRXZlbnRNb2RlbFtdKSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodXBkYXRlVXNlckRhdGFNb2RlbCkpIHtcclxuICAgICAgICAgICAgdXBkYXRlVXNlckRhdGFNb2RlbCA9IHVwZGF0ZVVzZXJEYXRhTW9kZWxbMF07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJ1cGRhdGVVc2VyRGF0YU1vZGVsXCIsIHVwZGF0ZVVzZXJEYXRhTW9kZWwpXHJcblxyXG4gICAgICAgIGlmICghdXBkYXRlVXNlckRhdGFNb2RlbCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMucmVxdWlyZWRGaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudE1vZGVsW2ZpZWxkXSA9IHRoaXMuZXZlbnRNb2RlbFtmaWVsZF0gPyB0aGlzLmV2ZW50TW9kZWxbZmllbGRdIDogdXBkYXRlVXNlckRhdGFNb2RlbFtmaWVsZF07XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICB0cnlVcGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRNb2RlbCAmJiAhdGhpcy5ldmVudE1vZGVsLkRldmljZUlkKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5ldmVudE1vZGVsLkRldmljZUlkID0gRGV2aWNlRGV0ZWN0b3IuZ2V0Q2FsY3VsYXRlZERldmljZUlkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldE9yaWdpbmFsRXZlbnREYXRhKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudERhdGEgfHwge307XHJcbiAgICB9XHJcblxyXG4gICAgc2V0T3JpZ2luYWxFdmVudERhdGEoZXZlbnREYXRhKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSA9IGV2ZW50RGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhclByZXZpb3VzRGF0YSgpIHtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnREYXRhID0gbnVsbDtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwgPSBuZXcgQ2RwRXZlbnRNb2RlbChudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXNlSW5DYWxjdWxhdGVGaXJzdFZpc2l0TW9kZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRGaXJzdFZpc2l0UHJvcGVydHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENhbGN1bGF0ZU1vZGVsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50TW9kZWw7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnQudHMiLCJleHBvcnQgY29uc3QgRmlyc3RWaXNpdFByb3BlcnRpZXMgPSB7XHJcbiAgICBDb2xsZWN0VGltZTogXCJ0c19kaWZmXCIsXHJcbiAgICBDb3VudENsaWNrOiBcImNudF9jbGlja1wiLFxyXG4gICAgQ291bnRQYWdldmlldzogXCJjbnRfcGFnZXZpZXdcIixcclxuICAgIENvdW50Q3JlYXRlQWNjb3VudEV2ZW50czogXCJjbnRfY3JlYXRlYWNjb3VudFwiLFxyXG4gICAgQ291bnRDaGVja291dFN0YXJ0RXZlbnRzOiBcImNudF9jaGVja291dHN0YXJ0XCJcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29yZS9jb25zdGFudHMvRmlyc3RWaXNpdFByb3BlcnRpZXMudHMiLCJleHBvcnQgY2xhc3MgRGF0ZVV0aWwge1xyXG4gICAgc3RhdGljIGdldE5vd0RhdGVJblNlYygpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoKG5ldyBEYXRlKCkuZ2V0VGltZSgpKS50b1N0cmluZygpLnNsaWNlKDAsIC0gMykpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRJU09Gb3JtYXQoZGF0ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICAvLyAyMDE5MDQyNlQxMjoyMToxOFpcclxuICAgICAgICBjb25zdCBpc29SZWd4cCA9IG5ldyBSZWdFeHAoL14oLT8oPzpbMS05XVswLTldKik/WzAtOV17NH0pKDFbMC0yXXwwWzEtOV0pKDNbMDFdfDBbMS05XXxbMTJdWzAtOV0pVCgyWzAtM118WzAxXVswLTldKTooWzAtNV1bMC05XSkoLlswLTldKyk/KFopPyQvKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihpc29SZWd4cC50ZXN0KGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gZGF0ZS5tYXRjaChpc29SZWd4cCk7XHJcbiAgICAgICAgICAgICAgICBkYXRlID0gbWF0Y2hlc1sxXStcIi1cIiArIG1hdGNoZXNbMl0gKyBcIi1cIiArIG1hdGNoZXNbM10gKyBcIlRcIiArIG1hdGNoZXNbNF0gKyBcIjpcIiArIG1hdGNoZXNbNV0gKyBtYXRjaGVzWzZdICsgXCJaXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNWYWxpZERhdGUoZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGUgPSB0aGlzLmdldENvcnJlY3REYXRlKGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9JU09TdHJpbmcocGFyc2VkRGF0ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZ2V0SVNPRm9ybWF0XCIsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc0lzb0Zvcm1hdChzdHJpbmdEYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZ0RhdGUudGVzdCgvXigtPyg/OlsxLTldWzAtOV0qKT9bMC05XXs0fSkoMVswLTJdfDBbMS05XSkoM1swMV18MFsxLTldfFsxMl1bMC05XSlUKDJbMC0zXXxbMDFdWzAtOV0pOihbMC01XVswLTldKSguWzAtOV0rKT8oWik/JC8pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc1ZhbGlkRGF0ZShkYXRlU3RyOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgdGltZXN0YW1wID0gRGF0ZS5wYXJzZShkYXRlU3RyKTtcclxuICAgICAgICByZXR1cm4gIWlzTmFOKHRpbWVzdGFtcCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldENvcnJlY3REYXRlKGRhdGU6IHN0cmluZyk6IERhdGUge1xyXG4gICAgICAgIGNvbnN0IHBhcnNlZERhdGU6IERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgICBpZiAodGhpcy5pc1VuaXhUaW1lUmFuZ2UocGFyc2VkRGF0ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZERhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc1VuaXhUaW1lUmFuZ2UoZGF0ZTogRGF0ZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBkYXRlLmdldFVUQ0Z1bGxZZWFyKCkgPj0gMTk3MDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcGFkKG51bWJlcikge1xyXG4gICAgICAgIGlmIChudW1iZXIgPCAxMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCIwXCIgKyBudW1iZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudW1iZXI7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHRvSVNPU3RyaW5nKGRhdGU6IERhdGUpIHtcclxuICAgICAgICAvLyAyMDE5MDYwMVQxMzoxNDoxNVpcclxuICAgICAgICByZXR1cm4gZGF0ZS5nZXRVVENGdWxsWWVhcigpICtcclxuICAgICAgICAgICAgXCJcIiArIHRoaXMucGFkKGRhdGUuZ2V0VVRDTW9udGgoKSArIDEpICtcclxuICAgICAgICAgICAgXCJcIiArIHRoaXMucGFkKGRhdGUuZ2V0VVRDRGF0ZSgpKSArXHJcbiAgICAgICAgICAgIFwiVFwiICsgdGhpcy5wYWQoZGF0ZS5nZXRVVENIb3VycygpKSArXHJcbiAgICAgICAgICAgIFwiOlwiICsgdGhpcy5wYWQoZGF0ZS5nZXRVVENNaW51dGVzKCkpICtcclxuICAgICAgICAgICAgXCI6XCIgKyB0aGlzLnBhZChkYXRlLmdldFVUQ1NlY29uZHMoKSkgK1xyXG4gICAgICAgICAgICBcIlpcIjtcclxuICAgIH07XHJcblxyXG4gICAgc3RhdGljIGdldFRpbWVzdGFtcChldmVudFRpbWVzdGFtcD86IGFueSk6IG51bWJlciB7XHJcblxyXG4gICAgICAgIGlmICghZXZlbnRUaW1lc3RhbXApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm93RGF0ZUluU2VjKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0aW1lc3RhbXBQYXJ0ID0gKFwiXCIgKyBldmVudFRpbWVzdGFtcCkuc3Vic3RyaW5nKDAsIDEwKTtcclxuXHJcbiAgICAgICAgbGV0IGluZGV4UG9pbnQgPSB0aW1lc3RhbXBQYXJ0LmluZGV4T2YoXCIuXCIpO1xyXG4gICAgICAgIGlmIChpbmRleFBvaW50ID4gLSAxKSB7XHJcbiAgICAgICAgICAgIHRpbWVzdGFtcFBhcnQgPSBldmVudFRpbWVzdGFtcC5yZXBsYWNlKC9cXC4vZywgXCJcIik7XHJcbiAgICAgICAgICAgIHRpbWVzdGFtcFBhcnQgPSAoXCJcIiArIHRpbWVzdGFtcFBhcnQpLnN1YnN0cmluZygwLCAxMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgaW50UGFydCA9IHBhcnNlSW50KHRpbWVzdGFtcFBhcnQpO1xyXG4gICAgICAgIGlmIChpbnRQYXJ0LnRvU3RyaW5nKCkubGVuZ3RoICE9PSAxMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXROb3dEYXRlSW5TZWMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gaW50UGFydDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZERheXModGhlRGF0ZTogRGF0ZSwgZGF5czogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUodGhlRGF0ZS5nZXRUaW1lKCkgKyBkYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCkudmFsdWVPZigpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXREYXRlVmFsdWVGcm9tVGltZXN0YW1wKHRpbWVzdGFtcDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGltZXN0YW1wICogMTAwMDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZGF5c0RpZmYoc3RhcnREYXRlVmFsdWU6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKG5ldyBEYXRlKCkudmFsdWVPZigpIC0gK3N0YXJ0RGF0ZVZhbHVlKSAvIDg2NDAwMDAwKTtcclxuICAgIH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL3V0aWxzL0RhdGVVdGlsLnRzIiwiZXhwb3J0IGNsYXNzIFNob3J0T2ZmZXJNb2RlbCB7XHJcbiAgICBOYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuTmFtZSA9IGRhdGEuTmFtZTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9tb2RlbHMvU2hvcnRPZmZlck1vZGVsLnRzIiwiZXhwb3J0IGNvbnN0IFBsdWdpbklubmVyRXZlbnRzID0ge1xyXG4gICAgRGxDZHBHZXRTdWNjZXNzOiBcImcyaURsRmluaXNoZWRcIixcclxuICAgIERsQ2RwR2V0RmFpbDogXCJnMmlEbEVycm9yXCIsXHJcbiAgICBHZXRJbnRlcmVzdHNTdGF0czogXCJnMmlESW50ZXJlc3RzU3RhdHNGaW5pc2hlZFwiLFxyXG4gICAgR2V0SW50ZXJlc3RzU3RhdHNFcnJvcjogXCJnMmlESW50ZXJlc3RzU3RhdHNFcnJvclwiLFxyXG4gICAgR2V0RXJJbnRlcnByZXRhdGlvbjogXCJvbkcySVNldEVySW50ZXJwcmV0YXRpb25cIixcclxuICAgIEdldEVySW50ZXJwcmV0YXRpb25FcnJvcjogXCJvbkcySUVycm9yU2V0RXJJbnRlcnByZXRhdGlvblwiLFxyXG4gICAgRGxSZWNvbW1lbmRhdGlvbnNGaW5pc2hlZDogXCJnMmlEbFJlY29tbWVuZGF0aW9uc0ZpbmlzaGVkXCIsXHJcbiAgICBEbFJlY29tbWVuZGF0aW9uc0Vycm9yOiBcImcyaURsUmVjb21tZW5kYXRpb25zRXJyb3JcIixcclxuICAgIERsUmVjb21tZW5kYXRpb25zU3RhdHNGaW5pc2hlZDogXCJnMmlEbFJlY29tbWVuZGF0aW9uc1N0YXRzRmluaXNoZWRcIixcclxuICAgIERsUmVjb21tZW5kYXRpb25zU3RhdHNFcnJvcjogXCJnMmlEbFJlY29tbWVuZGF0aW9uc1N0YXRzRXJyb3JcIixcclxuICAgIElubmVyQ2xpY2s6IFwib25Jbm5lckNsaWNrXCJcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29yZS9jb25zdGFudHMvUGx1Z2luSW5uZXJFdmVudHMudHMiLCJpbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5pbXBvcnQgeyBDb21tb25NZXRhRGF0YSB9IGZyb20gXCIuL2NsYXNzZXMvQ29tbW9uTWV0YURhdGFcIjtcclxuaW1wb3J0IHsgc2hhMjU2IH0gZnJvbSBcImpzLXNoYTI1NlwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEaW1lbnNpb25zTW9kdWxlQ2xhc3Mge1xyXG4gICAgZGltZW5zaW9uczogT2JqZWN0ID0ge307XHJcbiAgICAvLyB0b2RvIG5lZWQgYWRkIHRvIG1vZGVsXHJcbiAgICBwcm9wZXJ0aWVzID0gW1xyXG4gICAgICAgIFwiVGl0bGVcIixcclxuICAgICAgICBcIktleXdvcmRzXCIsXHJcbiAgICAgICAgXCJTZWN0aW9uXCIsXHJcbiAgICAgICAgXCJVcmxcIixcclxuICAgICAgICBcIkNvbnRlbnRUeXBlXCIsXHJcbiAgICAgICAgXCJBdXRob3JcIixcclxuICAgICAgICBcIlRhZ3NcIixcclxuICAgICAgICBcIkNvbnRlbnRJZFwiLFxyXG4gICAgICAgIFwiUHVibGlzaERhdGVcIixcclxuICAgICAgICBcIkxlYWRUZXh0XCIsXHJcbiAgICAgICAgXCJUZXh0XCIsXHJcbiAgICAgICAgXCJDYXRlZ29yeVwiLFxyXG4gICAgICAgIFwiRGVzY3JpcHRpb25cIixcclxuICAgICAgICBcIlBpY3R1cmVzXCIsXHJcbiAgICAgICAgXCJWaWRlb1wiLFxyXG4gICAgICAgIFwiTGlrZXNcIixcclxuICAgICAgICBcIlNoYXJlc1wiLFxyXG4gICAgICAgIFwiQnJlYWtpbmdOZXdzXCIsXHJcbiAgICAgICAgXCJQcmVtaXVtXCIsXHJcbiAgICAgICAgXCJMYW5ndWFnZVwiLFxyXG4gICAgICAgIFwiUmVjb21tZW5kZWRcIixcclxuICAgICAgICBcIkxlYWRJbWFnZVVybFwiXHJcbiAgICBdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlT3RoZXJQbHVnaW5TdGFydENoYW5nZUNvbnRlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREaW1lbnNpb25zKCkge1xyXG4gICAgICAgIGlmICghVXRpbHMuaXNFbXB0eSh0aGlzLmRpbWVuc2lvbnMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGN1c3RvbUNvbmZpZ0RpbSA9IHRoaXMuZ2V0RGltZW5zaW9uc0Zyb21DdXN0b21Db25maWcoKTtcclxuICAgICAgICB0aGlzLmV4dGVuZERpbWVuc2lvbnMoY3VzdG9tQ29uZmlnRGltKTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5pdERpbSA9IHRoaXMuZ2V0RGltZW5zaW9uc0Zyb21DbGllbnRJbml0KCk7XHJcbiAgICAgICAgdGhpcy5leHRlbmREaW1lbnNpb25zKGluaXREaW0pO1xyXG5cclxuICAgICAgICB0aGlzLmZpbGxFbXB0eURpbUZyb21NZXRhKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMgJiYgIXRoaXMuZGltZW5zaW9uc1tcIkNvbnRlbnRJZFwiXSkge1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNbXCJDb250ZW50SWRcIl0gPSB0aGlzLmdldENhbGN1bGF0ZUNvbnRlbnRJZCh0aGlzLmRpbWVuc2lvbnNbXCJUZXh0XCJdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZGltZW5zaW9uc1tcIkNvbnRlbnRUeXBlXCJdID0gdGhpcy5nZXRDb250ZW50VHlwZSgpO1xyXG5cclxuICAgICAgICB0aGlzLnJlc2V0SW52YWxpZFZhbHVzKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDb250ZW50VHlwZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMgJiYgdGhpcy5kaW1lbnNpb25zW1wiQ29udGVudFR5cGVcIl0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9uc1tcIkNvbnRlbnRUeXBlXCJdLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcInVua25vd25cIlxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Q2FsY3VsYXRlQ29udGVudElkKGFydGljbGVUZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICghYXJ0aWNsZVRleHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2hhMjU2KGFydGljbGVUZXh0LnJlcGxhY2UoL1xccy9nLCBcIlwiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXREaW1lbnNpb25zRnJvbUN1c3RvbUNvbmZpZygpOiBPYmplY3Qge1xyXG4gICAgICAgIHJldHVybiBDb25maWdNb2R1bGUuZ2V0Q3VzdG9tRGltZW5zaW9ucygpIHx8IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RGltZW5zaW9uc0Zyb21DbGllbnRJbml0KCk6IE9iamVjdCB7XHJcbiAgICAgICAgcmV0dXJuIENvbmZpZ01vZHVsZS5nZXRJbml0RGltZW5zaW9ucygpIHx8IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmlsbEVtcHR5RGltRnJvbU1ldGEoKSB7XHJcbiAgICAgICAgY29uc3QgZGVmYXVsdERpbSA9IENvbW1vbk1ldGFEYXRhLmdldERlZmF1bHRNZXRhKCk7XHJcbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gZGVmYXVsdERpbSkge1xyXG4gICAgICAgICAgICBpZiAoZGVmYXVsdERpbS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkgJiYgIXRoaXMuZGltZW5zaW9uc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1twcm9wZXJ0eV0gPSBkZWZhdWx0RGltW3Byb3BlcnR5XSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZXh0ZW5kRGltZW5zaW9ucyhkYXRhTW9kZWw6IGFueSkge1xyXG4gICAgICAgIGlmICghZGF0YU1vZGVsKSByZXR1cm47XHJcblxyXG4gICAgICAgIGZvciAobGV0IHByb3BlcnR5IGluIGRhdGFNb2RlbCkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YU1vZGVsLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zW3Byb3BlcnR5XSA9IGRhdGFNb2RlbFtwcm9wZXJ0eV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldER5bmFtaWNEaW1lbnNpb25zKCkge1xyXG4gICAgICAgIGNvbnN0IGR5bmFtaWNEaW1lbnNpb25zID0ge307XHJcbiAgICAgICAgY29uc3QgZGltZW5zaW9uc09iamVjdCA9IHRoaXMuZ2V0RGltZW5zaW9ucygpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBwcm9wZXJ0eSBpbiBkaW1lbnNpb25zT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGlmIChkaW1lbnNpb25zT2JqZWN0Lmhhc093blByb3BlcnR5KHByb3BlcnR5KSAmJiB0aGlzLnByb3BlcnRpZXMuaW5kZXhPZihwcm9wZXJ0eSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBkeW5hbWljRGltZW5zaW9uc1twcm9wZXJ0eV0gPSBkaW1lbnNpb25zT2JqZWN0W3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZHluYW1pY0RpbWVuc2lvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENvbnRlbnRJZCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLmdldERpbWVuc2lvbnMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMgJiYgdGhpcy5kaW1lbnNpb25zW1wiQ29udGVudElkXCJdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbnNbXCJDb250ZW50SWRcIl07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN1YnNjcmliZU90aGVyUGx1Z2luU3RhcnRDaGFuZ2VDb250ZW50KCkge1xyXG4gICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFwib25Jbm5lckJlZm9yZUNvbnRlbnRDaGFuZ2VkXCIsIChlOiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdldERpbWVuc2lvbnMoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgVXRpbHMuYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgXCJvbkNhbXBhaWduRm91bmRcIiwgKGU6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RGltZW5zaW9ucygpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZXNldEludmFsaWRWYWx1cygpIHtcclxuICAgICAgICBjb25zdCBpbnZhbGlkU3RyaW5ncyA9IFtTdHJpbmcodW5kZWZpbmVkKSwgU3RyaW5nKE5hTikudG9Mb3dlckNhc2UoKSwgU3RyaW5nKG51bGwpXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gdGhpcy5kaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5kaW1lbnNpb25zW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiBpbnZhbGlkU3RyaW5ncy5pbmRleE9mKHZhbHVlLnRvTG93ZXJDYXNlKCkpICE9PSAtMSB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNbcHJvcGVydHldID0gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERpbWVuc2lvbnNNb2R1bGUgPSBuZXcgRGltZW5zaW9uc01vZHVsZUNsYXNzKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2RpbWVuc2lvbnNNb2R1bGUvRGltZW5zaW9uc01vZHVsZS50cyIsIi8vIGltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuLi91dGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuaW1wb3J0IHsgQm90RGV0ZWN0b3IgfSBmcm9tIFwiQE1vZHVsZXMvYm90RGV0ZWN0aW9uL0JvdERldGVjdG9yXCI7XHJcbmltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvQ2RwRXZlbnRNb2RlbFwiO1xyXG5pbXBvcnQgeyBTZW5kT3B0aW9uc01vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9TZW5kT3B0aW9uc01vZGVsXCI7XHJcbmltcG9ydCB7IENkcERhdGFMYXllciB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwRGF0YUxheWVyXCI7XHJcbmltcG9ydCB7IEFwaURsSW50ZXJmYWNlIH0gZnJvbSBcIkBNb2R1bGVzL2NkcE1vZHVsZS9pbnRlcmZhY2VzL0FwaURsSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IERsU3RvcmFnZUludGVyZmFjZSB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvaW50ZXJmYWNlcy9EbFN0b3JhZ2VJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvSW5kZXhcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdWdUcmFja1V0aWwge1xyXG4gICAgLy8gc3RhdGljIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJCdWdUcmFja1V0aWxcIik7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBldmVudHNMb2cgPSBcIlwiO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZXZlbnRzRmlyZWQgPSAwO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZXZlbnRzU2VuZGVkID0gMDtcclxuICAgIHByaXZhdGUgc3RhdGljIGlzTmVlZENvbGxlY3QgPSBmYWxzZTtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBsb2dQcmVmaXg6IHN0cmluZyA9IFwiRmFpbGVkRXZlbnRMb2dfXCI7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBmYWlsZWRFdmVudHNMb2c6IHN0cmluZztcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBndWlkTG9nID0gXCJcIjtcclxuICAgIHByaXZhdGUgc3RhdGljIGxvZ0NvdW50ID0gMDtcclxuXHJcbiAgICBzdGF0aWMgYWRkQm90SW5mb0hlYWRlcihvcHRpb25zPzogYW55LCBoZWFkZXI6IHN0cmluZyA9IFwiYm90aW5mb1wiKTogYW55IHtcclxuICAgICAgICBsZXQgYm90RGV0ZWN0b3IgPSBuZXcgQm90RGV0ZWN0b3IoKTtcclxuICAgICAgICBsZXQgZGV0ZWN0Qm90ID0gYm90RGV0ZWN0b3IuZ2V0RGV0ZWN0Qm90KCk7XHJcblxyXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcclxuICAgICAgICBpZiAoZGV0ZWN0Qm90KSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVyc1toZWFkZXJdID0gSlNPTi5zdHJpbmdpZnkoZGV0ZWN0Qm90KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZEluaXRTZXR0aW5nc0hlYWRlcihvcHRpb25zPzogYW55LCBoZWFkZXI6IHN0cmluZyA9IFwiaW5pdHNldHRpbmdzXCIpOiBhbnkge1xyXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcclxuICAgICAgICBpZiAoQ29uZmlnTW9kdWxlLmdldFNpdGVDb2RlKCkudG9Mb3dlckNhc2UoKSA9PT0gXCJ1bmtub3duXCIpIHtcclxuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gQ29uZmlnTW9kdWxlLmdldEluaXRDb25maWd1cmF0aW9uKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSBPYmplY3Qua2V5cyhjb25maWcuZGltZW5zaW9ucyk7XHJcbiAgICAgICAgICAgIC8vIHNlcnZlcnMgaGFzIGhlYWRlcnMgc2l6ZSBsaW1pdCB+OGtiXHJcbiAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVyc1toZWFkZXJdID0gSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgbG9hZGVySW5mbzogVXRpbHMuZ2V0TG9hZGVyVmVyc2lvbkluZm8oKSxcclxuICAgICAgICAgICAgICAgIGluaXRPcHRpb25zOiBKU09OLnN0cmluZ2lmeShDb25maWdNb2R1bGUuZ2V0SW5pdE9wdGlvbnMoKSkuc3Vic3RyaW5nKDAsIDEwMDApLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbjogSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmFzc2lnbih7fSwgY29uZmlnLCB7IGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMgfSkpLnN1YnN0cmluZygwLCAxMDAwKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZFJlcXVlc3RIZWFkZXIoeGhyOiBYTUxIdHRwUmVxdWVzdCwgbW9kZWw6IENkcEV2ZW50TW9kZWwpOiBhbnkge1xyXG4gICAgICAgIGxldCBsb2cgPSB0aGlzLmdldEV2ZXRuTG9nKCk7XHJcbiAgICAgICAgbG9nICs9IHRoaXMuZ2V0RXZlbnRzQ2FsbCgpO1xyXG4gICAgICAgIGxvZyArPSB0aGlzLmdldEd1aWRMb2coKTtcclxuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcImcyaS1yZXFpZFwiLCBsb2cpO1xyXG4gICAgICAgIHJldHVybiB4aHI7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEJlYWNvblJlcXVlc3RVcmxQYXJhbShtb2RlbDogQ2RwRXZlbnRNb2RlbCk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGxvZyA9IHRoaXMuZ2V0RXZldG5Mb2coKTtcclxuICAgICAgICBsb2cgKz0gdGhpcy5jcmVhdGVFdmVudENhbGwobW9kZWwuSWQpO1xyXG4gICAgICAgIGxvZyArPSB0aGlzLmdldEd1aWRMb2coKTtcclxuICAgICAgICBsb2cgPSBlbmNvZGVVUklDb21wb25lbnQobG9nLnN1YnN0cmluZygwLCAxMDAwKSk7XHJcbiAgICAgICAgcmV0dXJuIGBnMmktcmVxaWQ9JHtsb2d9YDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWRkRHVwbGljYXRlSW5mbyhvcHRpb25zPzogYW55LCBoZWFkZXI6IHN0cmluZyA9IFwiZzJpLXJlcWlkXCIpOiBhbnkge1xyXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcclxuICAgICAgICBsZXQgbG9nID0gdGhpcy5nZXRFdmV0bkxvZygpO1xyXG4gICAgICAgIGxvZyArPSB0aGlzLmdldEV2ZW50c0NhbGwoKTtcclxuICAgICAgICBsb2cgKz0gdGhpcy5nZXRHdWlkTG9nKCk7XHJcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzW2hlYWRlcl0gPSBsb2c7XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGxvZ0V2ZW50RmlyZShldmVudE1vZGVsOiBDZHBFdmVudE1vZGVsLCBpc1ZhbGlkOiBib29sZWFuLCBmaXJlZEV2ZW50czogYW55W10pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmV2ZW50c0ZpcmVkKys7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNOZWVkQ29sbGVjdCB8fCAhaXNWYWxpZCB8fCBmaXJlZEV2ZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5pc05lZWRDb2xsZWN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHNMb2cgKz0gYCoqKkZJUkVEKioqaXY6JHtpc1ZhbGlkfSxmZWw6JHtmaXJlZEV2ZW50cy5sZW5ndGh9LGRhdGE6JHt0aGlzLmdldEV2ZW50TW9kZWxEYXRhKFtldmVudE1vZGVsXSl9YDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGxvZ1NlbmRFdmVudChldmVudE1vZGVsczogQ2RwRXZlbnRNb2RlbFtdLCBvcHRpb25zPzogU2VuZE9wdGlvbnNNb2RlbCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzTG9nICs9IGAqKipSRVA6JHtvcHRpb25zPy5Jc1Jlc2VuZCB8fCBmYWxzZX0sUFNJRDoke1Nlc3Npb25TZXJ2aWNlLkluc3RhbmNlLlBhZ2VTZXNzaW9uSWR9KioqYDtcclxuICAgICAgICB0aGlzLmV2ZW50c1NlbmRlZCsrO1xyXG4gICAgICAgIGlmICh0aGlzLmlzTmVlZENvbGxlY3QgfHwgZXZlbnRNb2RlbHMubGVuZ3RoID4gMSB8fCB0aGlzLmV2ZW50c0ZpcmVkICE9PSB0aGlzLmV2ZW50c1NlbmRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzTmVlZENvbGxlY3QgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50c0xvZyArPSBgKioqU0VORCoqKmVmL2VzOiR7dGhpcy5ldmVudHNGaXJlZH0vJHt0aGlzLmV2ZW50c1NlbmRlZH0sZGF0YToke3RoaXMuZ2V0RXZlbnRNb2RlbERhdGEoZXZlbnRNb2RlbHMpfWA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBsb2dQcmV2ZW50RHVwbGljYXRlKGV2ZW50SWQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzTG9nICs9IGAqKipTVE9QX0RVUEw6JHtldmVudElkfSoqKmA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEV2ZW50TW9kZWxEYXRhKGV2ZW50TW9kZWxzOiBDZHBFdmVudE1vZGVsW10pOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gICAgICAgIGV2ZW50TW9kZWxzLmZvckVhY2goKG1vZGVsOiBDZHBFdmVudE1vZGVsKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBJZDogbW9kZWwuSWQsXHJcbiAgICAgICAgICAgICAgICBFVDogbW9kZWwuRXZlbnRUeXBlLFxyXG4gICAgICAgICAgICAgICAgRElkOiBtb2RlbC5EZXZpY2VJZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXN1bHQgKz0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0RXZldG5Mb2coKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgbG9nID0gYCR7dGhpcy5sb2dDb3VudCsrfXwke1V0aWxzLmNyZWF0ZUdVSUQoKX18JHtVdGlscy5jcmVhdGVHVUlEKCl9fCR7bmV3IERhdGUoKS52YWx1ZU9mKCl9YDtcclxuICAgICAgICBpZiAodGhpcy5ldmVudHNMb2cubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGxvZyArPSBgfCR7dGhpcy5ldmVudHNMb2cuc3Vic3RyaW5nKDAsIDEwMDApfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsb2c7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZEV2ZW50c0NhbGwoZGF0YTogQ2RwRXZlbnRNb2RlbCwgc3RhdHVzOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmxvZ1ByZWZpeCArIGRhdGEuSWQ7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZXhpc3RWYWx1ZTogc3RyaW5nICA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgIGlmIChleGlzdFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSBgJHtleGlzdFZhbHVlfSAke3N0YXR1c31gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgc3RhdHVzKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7fVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRFdmVudHNDYWxsKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFpbGVkRXZlbnRzTG9nO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcmVhdGVFdmVudHNDYWxsKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBsb2cgPSBcIlwiO1xyXG4gICAgICAgIE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkuZmlsdGVyKChrZXk6IHN0cmluZykgPT4ga2V5LnN0YXJ0c1dpdGgodGhpcy5sb2dQcmVmaXgpKVxyXG4gICAgICAgICAgICAuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWU6IHN0cmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCJSRVNPTFZFX1NVQ0NFU1NcIikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZyArPSBga2V5OiR7a2V5fSx2YWx1ZToke3ZhbHVlfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGxvZykge1xyXG4gICAgICAgICAgICBsb2cgPSBcInwqKipGQUlMRURfRVZFTlRTKioqXCIgKyBsb2cuc3Vic3RyaW5nKDAsIDEwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNsZWFuRXZlbnRzQ2FsbCgpO1xyXG4gICAgICAgIHRoaXMuZmFpbGVkRXZlbnRzTG9nID0gbG9nO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcmVhdGVFdmVudENhbGwoZXZlbnRJZDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgbG9nID0gXCIqKipCRUFDT04qKipcIjtcclxuICAgICAgICBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZpbHRlcigoa2V5OiBzdHJpbmcpID0+IGtleS5zdGFydHNXaXRoKHRoaXMubG9nUHJlZml4KSAmJiBrZXkuaW5kZXhPZihldmVudElkKSAhPT0gLTEpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChrZXk6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBsb2cgKz0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSArIFwifFwiO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGxvZztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2xlYW5FdmVudHNDYWxsKCk6IHZvaWQge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkuZmlsdGVyKChrZXk6IHN0cmluZykgPT4ga2V5LnN0YXJ0c1dpdGgodGhpcy5sb2dQcmVmaXgpKVxyXG4gICAgICAgICAgICAuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZEV4aXN0aW5nR3VpZExvZyhleGlzdGluZ0d1aWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ3VpZExvZyArPSBgJHtleGlzdGluZ0d1aWR9fGA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEd1aWRMb2coKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgbG9nID0gXCJcIjtcclxuICAgICAgICBpZiAodGhpcy5ndWlkTG9nLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBsb2cgKz0gYCoqKkdVSURfTE9HKioqfCR7dGhpcy5ndWlkTG9nLnN1YnN0cigtMTgwKX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbG9nO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRSZXBlYXREZWxheShkZWxheTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ndWlkTG9nICs9IGAqREVMQVk6JHtkZWxheX0qYDtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vdXRpbHMvQnVnVHJhY2tVdGlsLnRzIiwiaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCIuLy4uL1NwRXZlbnRcIjtcclxuaW1wb3J0IHsgT2ZmZXJNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvT2ZmZXJNb2RlbFwiO1xyXG5pbXBvcnQgeyBPZmZlcklucHV0SW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvT2ZmZXJJbnB1dEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudE1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9DZHBFdmVudE1vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT2ZmZXJFdmVudERhdGFFdmVudCBleHRlbmRzIFNwRXZlbnQge1xyXG5cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZU9mZmVyRXZlbnREYXRhKG9mZmVyOiBPZmZlcklucHV0SW50ZXJmYWNlKTogT2ZmZXJNb2RlbCB7XHJcbiAgICAgICAgbGV0IGZuTmFtZSA9IFwiW2NyZWF0ZU9mZmVyRXZlbnREYXRhXVwiO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKGZuTmFtZSwgXCJkYXRhXCIsIG9mZmVyKTtcclxuICAgICAgICAgICAgbGV0IG9mZmVyRXZlbnREYXRhID0gbmV3IE9mZmVyTW9kZWwob2ZmZXIpO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShmbk5hbWUsIFwiY2RwRGF0YSA9PiBcIiwgb2ZmZXJFdmVudERhdGEpO1xyXG4gICAgICAgICAgICByZXR1cm4gb2ZmZXJFdmVudERhdGE7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RXZlbnRNb2RlbCgpOiBDZHBFdmVudE1vZGVsIHtcclxuICAgICAgICBzdXBlci5nZXRFdmVudE1vZGVsKCk7XHJcbiAgICAgICAgbGV0IG9mZmVyRGF0YSA9IHt9O1xyXG4gICAgICAgIGlmICh0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm9mZmVyKSB7XHJcbiAgICAgICAgICAgIG9mZmVyRGF0YSA9IHRoaXMuY3JlYXRlT2ZmZXJFdmVudERhdGEodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5vZmZlcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShvZmZlckRhdGEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50TW9kZWw7XHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9PZmZlckV2ZW50RGF0YUV2ZW50LnRzIiwiZXhwb3J0IGNvbnN0IENsaWNrRXZlbnROYW1lID0ge1xyXG4gICAgTG9naW46IFwiTG9naW5cIixcclxuICAgIEFjdGl2YXRlOiBcIkFjdGl2YXRlXCIsXHJcbiAgICBVcGdyYWRlOiBcIlVwZ3JhZGVcIixcclxuICAgIE90aGVyOiBcIk90aGVyXCIsXHJcbiAgICBTaWduVXA6IFwiU2lnblVwXCIsXHJcbiAgICBTb2NpYWw6IFwiU29jaWFsXCIsXHJcbiAgICBBY3Rpb246IFwiQWN0aW9uXCIsXHJcbiAgICBSZWdpc3RlcjogXCJSZWdpc3RlclwiLFxyXG4gICAgTG9nb3V0OiBcIkxvZ291dFwiXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBFdmVudE5hbWUgPSB7XHJcbiAgICBNZXRlckxldmVsU2V0OiBcIm1ldGVyTGV2ZWxTZXRcIixcclxuICAgIENvbnZlcnNhdGlvbkRldGVybWluZWQ6IFwiY29udmVyc2F0aW9uRGV0ZXJtaW5lZFwiLFxyXG4gICAgTWV0ZXJTdGFydDogXCJtZXRlclN0YXJ0XCIsXHJcbiAgICBNZXRlclN0b3A6IFwibWV0ZXJTdG9wXCIsXHJcbiAgICBBY3Rpb25TaG93bjogXCJhY3Rpb25TaG93blwiLFxyXG4gICAgLy8gUGFnZVZpZXc6IFwicGFnZVZpZXdcIixcclxuICAgIE5ld3NsZXR0ZXJTaWdudXA6IFwibmV3c2xldHRlclNpZ251cFwiLFxyXG4gICAgLy8gT25Jbml0OiBcIm9uSW5pdFwiLFxyXG4gICAgQ2hlY2tvdXRTdGFydDogXCJDaGVja291dFN0YXJ0XCIsXHJcbiAgICBPZmZlcnNQcmVzZW50ZWQ6IFwiT2ZmZXJzUHJlc2VudGVkXCIsXHJcbiAgICBCaWxsaW5nQWRkcmVzczogXCJCaWxsaW5nQWRkcmVzc1wiLFxyXG4gICAgVXNlckluZm86IFwiVXNlckluZm9cIixcclxuICAgIENyZWF0ZWROZXdVc2VyOiBcIkNyZWF0ZWROZXdVc2VyXCIsXHJcbiAgICBQYXltZW50OiBcIlBheW1lbnRcIixcclxuICAgIERlbGl2ZXJ5QWRkcmVzczogXCJEZWxpdmVyeUFkZHJlc3NcIixcclxuICAgIFN1YnNjcmlwdGlvblN1Y2Nlc3M6IFwiU3Vic2NyaXB0aW9uU3VjY2Vzc1wiLFxyXG4gICAgQWJhbmRvblByZXNlbnRlZDogXCJBYmFuZG9uUHJlc2VudGVkXCIsXHJcbiAgICBBYmFuZG9uQ2xvc2VkOiBcIkFiYW5kb25DbG9zZWRcIixcclxuICAgIElkbGVQcmVzZW50ZWQ6IFwiSWRsZVByZXNlbnRlZFwiLFxyXG4gICAgSWRsZUNsb3NlZDogXCJJZGxlQ2xvc2VkXCIsXHJcbiAgICBVcHNlbGxTZWxlY3RlZDogXCJVcHNlbGxTZWxlY3RlZFwiXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBFdmVudE5hbWVzID0ge1xyXG4gICAgUGFnZVZpZXc6IFwiUGFnZVZpZXdcIlxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NvbnN0YW50cy9FdmVudHMudHMiLCJpbXBvcnQgeyBMb2dnZXIsIExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vdXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IERpbWVuc2lvblR5cGUsIENvbGxlY3RlZERpbWVuc2lvbnMgfSBmcm9tIFwiLi4vbW9kZWxzL0luZGV4XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTWV0YURhdGFTZXJ2aWNlIHtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBNZXRhRGF0YVNlcnZpY2U7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJNZXRhRGF0YVNlcnZpY2VcIik7XHJcbiAgICAvLyBob2xkcyBjdXN0b20gZGltZW5zaW9ucyB0byBldmFsdWF0ZVxyXG4gICAgcHJpdmF0ZSBjdXN0b21EaW1lbnNpb25zOiBhbnk7XHJcbiAgICBwcml2YXRlIGN1c3RvbUNvbGxlY3RlZERpbWVuc2lvbnMgPSBbXTtcclxuICAgIHB1YmxpYyBkaW1lbnNpb25zVG9Db2xsZWN0OiBBcnJheTxEaW1lbnNpb25UeXBlPiA9IFtdO1xyXG4gICAgcHVibGljIGNvbGxlY3RhYmxlRGltZW5zaW9uczogQXJyYXk8RGltZW5zaW9uVHlwZT4gPSBbXTtcclxuICAgIHB1YmxpYyBhbmFseXRpY3NEaW1lbnNpb25zOiBDb2xsZWN0ZWREaW1lbnNpb25zO1xyXG5cclxuICAgIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UgPT09IG51bGwgfHwgdGhpcy5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiRGltZW5zaW9uU2VydmljZS5HZXRJbnN0YW5jZS4gTk8gSU5TVEFOQ0UsIENSRUFUSU5HXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IE1ldGFEYXRhU2VydmljZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiRGltZW5zaW9uU2VydmljZS5HZXRJbnN0YW5jZS4gSEFTIElOU1RBTkNFXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkNUT1JcIik7XHJcbiAgICAgICAgdGhpcy5hbmFseXRpY3NEaW1lbnNpb25zID0gPENvbGxlY3RlZERpbWVuc2lvbnM+e307XHJcbiAgICAgICAgdGhpcy5zZXREZWZhdWx0RGltZW5zaW9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXR1cChkaW1lbnNpb25zPzogb2JqZWN0KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jdXN0b21EaW1lbnNpb25zID0gZGltZW5zaW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJvY2VzcygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlByb2Nlc3NpbmcuLi4uXCIsIHRoaXMuY3VzdG9tRGltZW5zaW9ucywgXCJkaW1lbnNpb25zVG9Db2xsZWN0XCIsIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdCk7XHJcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgY3VzdG9tIGRpbWVuc2lvbnMgcGFzc2VkIGluLCBzbyBwcm9jZXNzIHRoZW0gZmlyc3QuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbURpbWVuc2lvbnMpIHtcclxuICAgICAgICAgICAgICAgIC8vIGZpcnN0IGV2YWwgcGFzc2VkIGluIGN1c3RvbSBkaW1lbnNpb25zLlxyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmFsQ3VzdG9tRGltZW5zaW9ucyh0aGlzLmN1c3RvbURpbWVuc2lvbnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJlZ2FyZGxlc3MgaWYgd2UgaGF2ZSBjdXN0b20gZGltZW5zaW9ucyBwYXNzZWQgaW4sIHdlIGNvbGxlY3QgbWV0YSB0YWdzLlxyXG4gICAgICAgICAgICB0aGlzLmxvYWRNZXRhVGFncygpO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImNvbGxlY3RlZERpbWVuc2lvbnNcIiwgdGhpcy5hbmFseXRpY3NEaW1lbnNpb25zKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0cyB0aGUgZGVmYXVsdCB0YWdzIHRoYXQgc2hvdWxkIGJlIGNvbGxlY3RlZC5cclxuICAgICovXHJcbiAgICBwcml2YXRlIHNldERlZmF1bHREaW1lbnNpb25zKCk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiU2V0dGluZyBEZWZhdWx0IERpbWVuc2lvbnNcIik7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5wdXNoKDxEaW1lbnNpb25UeXBlPntcclxuICAgICAgICAgICAgICAgIElkOiBcImNvbnRlbnRUeXBlXCIsXHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkNvbnRlbnRUeXBlXCIsXHJcbiAgICAgICAgICAgICAgICBSZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIE1ldGFUYWdOYW1lczogW1widHlwZVwiLCBcIm9nOnR5cGVcIl1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5wdXNoKDxEaW1lbnNpb25UeXBlPntcclxuICAgICAgICAgICAgICAgIElkOiBcImtleXdvcmRzXCIsXHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIktleXdvcmRzXCIsXHJcbiAgICAgICAgICAgICAgICBSZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIE1ldGFUYWdOYW1lczogW1wia2V5d29yZHNcIiwgXCJvZzprZXl3b3Jkc1wiLCBcImJ0OmtleXdvcmRzXCJdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QucHVzaCg8RGltZW5zaW9uVHlwZT57XHJcbiAgICAgICAgICAgICAgICBJZDogXCJzZWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIlNlY3Rpb25cIixcclxuICAgICAgICAgICAgICAgIFJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgTWV0YVRhZ05hbWVzOiBbXCJzZWN0aW9uXCIsIFwib2c6c2VjdGlvblwiXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LnB1c2goPERpbWVuc2lvblR5cGU+e1xyXG4gICAgICAgICAgICAgICAgSWQ6IFwiYXV0aG9yXCIsXHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkF1dGhvclwiLFxyXG4gICAgICAgICAgICAgICAgUmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBNZXRhVGFnTmFtZXM6IFtcImJ5bGluZVwiLCBcImF1dGhvclwiLCBcImJ0OmF1dGhvclwiXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LnB1c2goPERpbWVuc2lvblR5cGU+e1xyXG4gICAgICAgICAgICAgICAgSWQ6IFwidGl0bGVcIixcclxuICAgICAgICAgICAgICAgIE5hbWU6IFwiVGl0bGVcIixcclxuICAgICAgICAgICAgICAgIFJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgTWV0YVRhZ05hbWVzOiBbXCJ0aXRsZVwiLCBcIm9nOnRpdGxlXCJdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QucHVzaCg8RGltZW5zaW9uVHlwZT57XHJcbiAgICAgICAgICAgICAgICBJZDogXCJ0YWdzXCIsXHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIlRhZ3NcIixcclxuICAgICAgICAgICAgICAgIFJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIE1ldGFUYWdOYW1lczogW1widGFnc1wiXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LnB1c2goPERpbWVuc2lvblR5cGU+e1xyXG4gICAgICAgICAgICAgICAgSWQ6IFwiY29udGVudElkXCIsXHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkNvbnRlbnRJZFwiLFxyXG4gICAgICAgICAgICAgICAgUmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgTWV0YVRhZ05hbWVzOiBbXCJjb250ZW50aWRcIl1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5wdXNoKDxEaW1lbnNpb25UeXBlPntcclxuICAgICAgICAgICAgICAgIElkOiBcInB1Ymxpc2hEYXRlXCIsXHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIlB1Ymxpc2hEYXRlXCIsXHJcbiAgICAgICAgICAgICAgICBSZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBNZXRhVGFnTmFtZXM6IFtcInB1Ymxpc2hEYXRlXCIsIFwicHViZGF0ZVwiLCBcIm9nOnBlcnNfcmVjX2ZpcnN0X3B1Yl9kYXRlXCIsIFwiYnQ6cHViRGF0ZVwiXVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5wdXNoKDxEaW1lbnNpb25UeXBlPntcclxuICAgICAgICAgICAgICAgIElkOiBcInRleHRcIixcclxuICAgICAgICAgICAgICAgIE5hbWU6IFwiVGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgUmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgRXhjbHVkZUZyb21BbmFseXRpY3M6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QucHVzaCg8RGltZW5zaW9uVHlwZT57XHJcbiAgICAgICAgICAgICAgICBJZDogXCJsZWFkVGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJMZWFkVGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgUmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgRXhjbHVkZUZyb21BbmFseXRpY3M6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIG1ha2UgY29weSBvZiBhcnJheS5cclxuICAgICAgICAgICAgLy8gd2UgdXNlIGNvbGxlY3RhYmxlRGltZW5zaW9ucyB0byB1c2UgaW4gQ0RQIHNvIHdlIGNhbiBzZXQgbnVsbCBzdHJpbmdzLlxyXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3RhYmxlRGltZW5zaW9ucyA9IE9iamVjdC5hc3NpZ24odGhpcy5jb2xsZWN0YWJsZURpbWVuc2lvbnMsIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0Q3VzdG9tRGltZW5zaW9ucygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21Db2xsZWN0ZWREaW1lbnNpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBldmFsQ3VzdG9tRGltZW5zaW9ucyhkaW1lbnNpb25zOiBvYmplY3QpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcImV2YWxDdXN0b21EaW1lbnNpb25zIFNUQVJUXCIsIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdCk7XHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGRpbWVuc2lvbnMpLmZvckVhY2goXHJcbiAgICAgICAgICAgICAgICBrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZGltID0gZGltZW5zaW9uc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKGtleSwgY2RpbSwgdHlwZW9mIGNkaW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2RpbSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiSXMgRnVuY3Rpb25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaW1WYWwgPSBjZGltLmNhbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJJcyBGdW5jdGlvbiBWQUxVRVwiLCBkaW1WYWwpOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0RGltZW5zaW9uRm9yQW5hbHl0aWNzKGtleSwgZGltVmFsKTsgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tQ29sbGVjdGVkRGltZW5zaW9uc1trZXldID0gZGltVmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QuZmluZEluZGV4KGQgPT4gZC5JZCA9PT0ga2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBrZXkgaXMgaW4gZGltZW5zaW9uc1RvQ29sbGVjdC4gTmVlZCB0aGlzIGluIGNhc2UgY2xpZW50IGFkZHMgbm9uLXN1cHBvcnRlZCBkaW1lbnNpb24gaW4gZGltZW5zaW9ucyBpbml0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImV2YWxDRCBJbmRleFwiLCB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3RbaW5kZXhdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdFtpbmRleF0uQ29sbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbG9hZE1ldGFUYWdzKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiTG9hZGluZyBNZXRhIFRhZ3NcIik7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IG1ldGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwibWV0YVwiKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJMb2FkaW5nIE1ldGEgVGFncy4gTUVUQVwiLCBtZXRhKTtcclxuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGFsbCBtZXRhIG5vZGVzXHJcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobWV0YSwgKG5vZGUpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiTWV0YVRhZy5FYWNoXCIsIG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgLy8gZ2V0IGRhdGEgZnJvbSB0aGlzIG5vZGUgKGhhbmRsZXMgbG9naWMgZm9yIG5hbWUvcHJvcGVyeS92YWx1ZSBldGMuLi4pXHJcbiAgICAgICAgICAgICAgICBsZXQgbWV0YURhdGEgPSA8Q29sbGVjdGVkRGltZW5zaW9ucz50aGlzLmdldE1ldGFEYXRhKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCIqKioqKiBtZXRhIGRhdGFcIiwgbWV0YURhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1ldGFEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJtZXRhRGF0YVwiLCBtZXRhRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgaGF2ZSBtZXRhRGF0YSBzbyBjaGVjayBpZiB3ZSBzaG91bGQgY29sbGVjdCB0aGlzLlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NyZWVuRGF0YShtZXRhRGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdFwiLCB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QpO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInRoaXMuY29sbGVjdGFibGVEaW1lbnNpb25zXCIsIHRoaXMuY29sbGVjdGFibGVEaW1lbnNpb25zKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldE1ldGFEYXRhKG1ldGFUYWcpOiBDb2xsZWN0ZWREaW1lbnNpb25zIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgbWV0YVByb3BlcnR5ID0gKG1ldGFUYWcuYXR0cmlidXRlc1tcInByb3BlcnR5XCJdID8gbWV0YVRhZy5hdHRyaWJ1dGVzW1wicHJvcGVydHlcIl0udmFsdWUgOiBcIlwiKTtcclxuICAgICAgICAgICAgbGV0IG1ldGFOYW1lID0gKG1ldGFUYWcuYXR0cmlidXRlc1tcIm5hbWVcIl0gPyBtZXRhVGFnLmF0dHJpYnV0ZXNbXCJuYW1lXCJdLnZhbHVlIDogXCJcIik7XHJcbiAgICAgICAgICAgIGxldCBtZXRhUHJvcENsZWFuZWQgPSBtZXRhTmFtZSB8fCBtZXRhUHJvcGVydHk7XHJcbiAgICAgICAgICAgIGlmIChtZXRhUHJvcENsZWFuZWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBtZXRhVmFsdWUgPSBtZXRhVGFnLmF0dHJpYnV0ZXNbXCJ2YWx1ZVwiXSB8fCBtZXRhVGFnLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAobWV0YVZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhZyA9IDxDb2xsZWN0ZWREaW1lbnNpb25zPntcclxuICAgICAgICAgICAgICAgICAgICAgICAgTmFtZTogbWV0YVByb3BDbGVhbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBWYWx1ZTogbWV0YVZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIisrKysrKysrKysgZ2V0TWV0YURhdGFcIiwgdGFnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihlKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBUaGlzIHRha2VzIGFuIElDb2xsZWN0ZWRNZXRhVGFnIGFuZCBzY3JlZW5zIGl0IGFnYWluc3QgdGhlIGRhdGEgd2UgYXJlIGFsbG93ZWQgdG8gY29sbGVjdCBhcyB3ZWxsIGFzIGRhdGEgd2UgYWxyZWFkeSBjb2xsZWN0ZWQuXHJcbiAgICAqIEBwYXJhbSBtZXRhVGFnXHJcbiAgICAqL1xyXG4gICAgcHJpdmF0ZSBzY3JlZW5EYXRhKG1ldGFUYWc6IENvbGxlY3RlZERpbWVuc2lvbnMpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZm5OYW1lID0gXCJzY3JlZW5EYXRhXCI7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKGZuTmFtZSwgXCJNZXRhVGFnXCIsIG1ldGFUYWcpO1xyXG4gICAgICAgICAgICAvLyAvLyBsZXQgaSA9IDA7XHJcbiAgICAgICAgICAgIC8vIC8vIHRoaXMubisrO1xyXG4gICAgICAgICAgICAvLyAvLyAvLyB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QuZm9yRWFjaCgoZGltKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIC8vIC8vICAgICB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiZGltLkVBQ0hcIiwgZGltKTtcclxuICAgICAgICAgICAgLy8gLy8gLy8gICAgIGlmICghZGltLkNvbGxlY3RlZCkge1xyXG5cclxuICAgICAgICAgICAgLy8gLy8gLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gLy8gLy8gfSk7XHJcbiAgICAgICAgICAgIC8vIC8vIGxldCBhbGxvd2VkVGFnRGF0YSA9IHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5maWx0ZXIoKGVsZW1lbnQsIGluZGV4LCBhcnJheSkgPT4ge1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgLy90aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiZmlsdGVyXCIsIFwiZWxlbWVudFwiLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgLy8gLy8gICAgIGxldCBpc0FsbG93ZWQgPSA8Ym9vbGVhbj5lbGVtZW50Lk1ldGFUYWdOYW1lcy5zb21lKHggPT4geCA9PT0gbWV0YVRhZy5OYW1lKTtcclxuICAgICAgICAgICAgLy8gLy8gICAgIGlmIChpc0FsbG93ZWQpIHtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiZmlsdGVyXCIsIFwiZWxlbWVudFwiLCBlbGVtZW50LCBcIioqIElTICoqIEFsbG93ZWRcIik7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy90aGlzLkxvZ2dlci5kZWJ1ZyhcIiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYgU0QgVGFnQWxsb3dlZFwiLCBtZXRhVGFnKTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvL3RoaXMgdGFnIGlzIGFsbG93ZWQuIGNoZWNrIGlmIHdlIGFscmVhZHkgY29sbGVjdGVkIHRoaXMgYnkgYWxsb3dlZERhdGEuRGF0YU5hbWVcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyBsZXQgYWxyZWFkeUNvbGxlY3RlZCA9IDxib29sZWFuPnRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5zb21lKHggPT4geC5OYW1lID09PSBlbGVtZW50LklkKTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyBsZXQgYWxyZWFkeUNvbGxlY3RlZDIgPSA8Ym9vbGVhbj50aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3Quc29tZSh4ID0+IHtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCIlJSUlJSUlJSUlJSUlJSBzY3JlZW5EYXRhXCIsIFwiYWxyZWFkeUNvbGxlY3RlZC5TT01FXCIsIFwieCA9PlwiLCB4LCBcImVsZW1lbnRcIiwgZWxlbWVudCk7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy8gICAgIHJldHVybiAoeC5OYW1lID09PSBlbGVtZW50LklkICYmIGVsZW1lbnQuQ29sbGVjdGVkID09IHRydWUpO1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmluZm8oXCIjIyMjIyMjIyMjIyMjIyMjIyAqKioqKioqIFNEIFRhZ0FsbG93ZWQgLS0gTm90IENvbGxlY3RlZFwiLCBlbGVtZW50LCBtZXRhVGFnLCBcImFscmVhZHlDb2xsZWN0ZWQyXCIsIGFscmVhZHlDb2xsZWN0ZWQyKTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyBpZiAoIWFscmVhZHlDb2xsZWN0ZWQpIHtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIiYmJiYmICoqKioqKiogU0QgVGFnQWxsb3dlZCAtLSBOb3QgQ29sbGVjdGVkXCIsIGVsZW1lbnQsIG1ldGFUYWcpO1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgICAgIC8vICAgICB0aGlzLmNvbGxlY3RlZERpbWVuc2lvbnNbZWxlbWVudC5JZF0gPSBtZXRhVGFnLlZhbHVlO1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy8gICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiJiYmJiYgKioqKioqKiBTRCBUYWdBbGxvd2VkIC0tIEFscmVhZHkgQ29sbGVjdGVkXCIsIGFscmVhZHlDb2xsZWN0ZWQpO1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgLy8gLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy90aGlzLkxvZ2dlci5kZWJ1ZyhcIiYmJiYmJiYmJiB4eHh4IFNEIE5PVCBBTExPV0VEXCIsIG1ldGFUYWcpO1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKGZuTmFtZSwgXCJmaWx0ZXJcIiwgXCJlbGVtZW50XCIsIGVsZW1lbnQsIFwiKiogTk9UICoqIEFsbG93ZWRcIik7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vIC8vICAgICBpKys7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICB0aGlzLm4rKztcclxuICAgICAgICAgICAgLy8gLy8gfSk7XHJcbiAgICAgICAgICAgIC8vIC8vIHRoaXMuaSsrO1xyXG4gICAgICAgICAgICAvLyAvLyB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiIyMjIyMjIyMjIyMjIyBcIiwgaSk7XHJcbiAgICAgICAgICAgIGxldCBhbGxvd2VkVGFnRGF0YSA9IHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5maWx0ZXIoKGVsZW1lbnQsIGluZGV4LCBhcnJheSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJTRCBhbGxvd2VkVGFnRGF0YS4gRUxFTUVOVFwiLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIGlmKCFlbGVtZW50IHx8ICFlbGVtZW50Lk1ldGFUYWdOYW1lcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IGlzQWxsb3dlZCA9IDxib29sZWFuPmVsZW1lbnQuTWV0YVRhZ05hbWVzLnNvbWUoeCA9PiB4ID09PSBtZXRhVGFnLk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzQWxsb3dlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiBTRCBUYWdBbGxvd2VkXCIsIG1ldGFUYWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgdGFnIGlzIGFsbG93ZWQuIGNoZWNrIGlmIHdlIGFscmVhZHkgY29sbGVjdGVkIHRoaXMgYnkgYWxsb3dlZERhdGEuRGF0YU5hbWVcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYWxyZWFkeUNvbGxlY3RlZCA9IDxib29sZWFuPnRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5zb21lKHggPT4geC5OYW1lID09PSBlbGVtZW50LklkKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBsZXQgYWxyZWFkeUNvbGxlY3RlZDIgPSA8Ym9vbGVhbj50aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3Quc29tZSh4ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCIlJSUlJSUlJSUlJSUlJSBzY3JlZW5EYXRhXCIsIFwiYWxyZWFkeUNvbGxlY3RlZC5TT01FXCIsIFwieCA9PlwiLCB4LCBcImVsZW1lbnRcIiwgZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJldHVybiAoeC5OYW1lID09PSBlbGVtZW50LklkICYmIGVsZW1lbnQuQ29sbGVjdGVkID09IHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmluZm8oXCIjIyMjIyMjIyMjIyMjIyMjIyAqKioqKioqIFNEIFRhZ0FsbG93ZWQgLS0gTm90IENvbGxlY3RlZFwiLCBlbGVtZW50LCBtZXRhVGFnLCBcImFscmVhZHlDb2xsZWN0ZWQyXCIsIGFscmVhZHlDb2xsZWN0ZWQyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFscmVhZHlDb2xsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuaW5mbyhcIiYmJiYmICoqKioqKiogU0QgVGFnQWxsb3dlZCAtLSBOb3QgQ29sbGVjdGVkXCIsIGVsZW1lbnQsIG1ldGFUYWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuYWx5dGljc0RpbWVuc2lvbnNbZWxlbWVudC5JZF0gPSBtZXRhVGFnLlZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiJiYmJiYgKioqKioqKiBTRCBUYWdBbGxvd2VkIC0tIEFscmVhZHkgQ29sbGVjdGVkXCIsIGFscmVhZHlDb2xsZWN0ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCImJiYmJiYmJiYgeHh4eCBTRCBOT1QgQUxMT1dFRFwiLCBtZXRhVGFnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29sbGVjdERpbWVuc2lvbkZvckFuYWx5dGljcyhkaW1lbnNpb25OYW1lLCBkaW1WYWwpe1xyXG4gICAgICAgIGNvbnN0IGNvbGxlY3REaW1lbnNpb249IHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5maW5kKGQgPT4gZC5OYW1lID09PSBkaW1lbnNpb25OYW1lKTtcclxuICAgICAgICBpZihjb2xsZWN0RGltZW5zaW9uICYmICFjb2xsZWN0RGltZW5zaW9uLkV4Y2x1ZGVGcm9tQW5hbHl0aWNzKXtcclxuICAgICAgICAgICAgIHRoaXMuYW5hbHl0aWNzRGltZW5zaW9uc1tjb2xsZWN0RGltZW5zaW9uLklkXSA9IGRpbVZhbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvTWV0YURhdGFTZXJ2aWNlLnRzIiwiaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBJVXNlclNlcnZpY2UsIFRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIi4vSW5kZXhcIjtcclxuaW1wb3J0IHsgRGV2aWNlRGV0YWlscyB9IGZyb20gXCIuLi9tb2RlbHMvY29tbW9uL0RldmljZURldGFpbHNcIjtcclxuaW1wb3J0IHsgRGV2aWNlRGV0ZWN0b3IgfSBmcm9tIFwiQFV0aWxzL0RldmljZURldGVjdG9yXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVXNlclNlcnZpY2UgaW1wbGVtZW50cyBJVXNlclNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFVzZXJTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiVXNlclNlcnZpY2VcIik7XHJcbiAgICBwcml2YXRlIHRhZ01hbmFnZXJTZXJ2aWNlOiBUYWdNYW5hZ2VyU2VydmljZTtcclxuXHJcblxyXG5cclxuICAgIHB1YmxpYyBEZXZpY2VEZXRhaWxzOiBEZXZpY2VEZXRhaWxzO1xyXG5cclxuICAgIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UgPT09IG51bGwgfHwgdGhpcy5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVXNlclNlcnZpY2UuR2V0SW5zdGFuY2UuIE5PIElOU1RBTkNFLCBDUkVBVElOR1wiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBVc2VyU2VydmljZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVXNlclNlcnZpY2UuR2V0SW5zdGFuY2UuIEhBUyBJTlNUQU5DRVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy50YWdNYW5hZ2VyU2VydmljZSA9IFRhZ01hbmFnZXJTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiQ1RPUlwiKTtcclxuICAgICAgICB0aGlzLnNldERldmljZURldGFpbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldERldmljZURldGFpbHMoKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJzZXREZXZpY2VEZXRhaWxzXCIpO1xyXG4gICAgICAgIHRoaXMuRGV2aWNlRGV0YWlscyA9IERldmljZURldGVjdG9yLmdldE1ldGFEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJzZXREZXZpY2VEZXRhaWxzXCIsIFwidGhpcy5EZXZpY2VEZXRhaWxzXCIsIHRoaXMuRGV2aWNlRGV0YWlscyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFVzZXJTdGF0ZSh1c2VyU3RhdGU6IHN0cmluZywgdXNlckRhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwic2V0VXNlclN0YXRlIHVzZXJTdGF0ZSA9PiBcIiwgdXNlclN0YXRlLCBcInVzZXJEYXRhXCIsIHVzZXJEYXRhKTtcclxuICAgICAgICAgICAgaWYgKHVzZXJTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWdNYW5hZ2VyU2VydmljZS5zZXRETFYoXCJ1c2VyU3RhdGVcIiwgdXNlclN0YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInNldFVzZXJTdGF0ZSB1c2VyU3RhdGUgPT4gXCIsIHVzZXJTdGF0ZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvVXNlclNlcnZpY2UudHMiLCJpbXBvcnQgeyBDb252ZXJzYXRpb25NYW5hZ2VyIH0gZnJvbSBcIi4vY2xhc3Nlcy9Db252ZXJzYXRpb25NYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEFjdGlvbk1hbmFnZXIgfSBmcm9tIFwiLi9jbGFzc2VzL0FjdGlvbk1hbmFnZXJcIjtcclxuaW1wb3J0IHsgQ2xpY2tBY3Rpb25Nb2RlbCB9IGZyb20gXCJARGF0YS9tb2RlbHMvY29ubmV4dC9DbGlja0FjdGlvbk1vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29ubmV4dE1vZHVsZUNsYXNzIHtcclxuXHJcbiAgIGdldEN1cnJlbnRDb252ZXJzYXRpb24oKSB7XHJcbiAgICAgIHJldHVybiBDb252ZXJzYXRpb25NYW5hZ2VyLmdldEN1cnJlbnRDb252ZXJzYXRpb24oKTtcclxuICAgfVxyXG5cclxuICAgZ2V0QWN0aW9uRGF0YUZyb21FbGVtZW50KGNsaWNrZWRFbGVtZW50KTogQ2xpY2tBY3Rpb25Nb2RlbCB8IG51bGwge1xyXG4gICAgICByZXR1cm4gQWN0aW9uTWFuYWdlci5nZXRJbmZvRnJvbUNsaWNrZWRFbGVtZW50KGNsaWNrZWRFbGVtZW50KVxyXG4gICB9XHJcblxyXG4gICBnZXRWZXJzaW9uSW5mbygpIHtcclxuICAgICAgaWYgKHdpbmRvdy5Db25uZXh0KSB7XHJcbiAgICAgICAgIHJldHVybiB3aW5kb3cuQ29ubmV4dC5HZXRWZXJzaW9uSW5mbygpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIHJldHVybiBcIkNvbm5leHQgaXMgbm90IGRlZmluZWRcIlxyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIGdldENvbmZpZ0NvZGUoKXtcclxuICAgICAgaWYod2luZG93LkNvbm5leHQgJiYgd2luZG93LkNvbm5leHQuU3RvcmFnZSl7XHJcbiAgICAgICAgICByZXR1cm4gd2luZG93LkNvbm5leHQuU3RvcmFnZS5HZXRDb25maWdDb2RlKCk7XHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG4gICAgIFxyXG4gICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ29ubmV4dE1vZHVsZSA9IG5ldyBDb25uZXh0TW9kdWxlQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvY29ubmV4dE1vZHVsZS9Db25uZXh0TW9kdWxlLnRzIiwiZXhwb3J0IGNsYXNzIENhbGN1bGF0aW9uUmVzdWx0TW9kZWwge1xyXG4gICAgbWlzY0tleTogc3RyaW5nO1xyXG4gICAgdmFsdWU6IGFueTtcclxuICAgIGVuYWJsZUdBOiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1pc2NLZXk6IHN0cmluZywgdmFsdWU6IGFueSwgZW5hYmxlR0E6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMubWlzY0tleSA9IG1pc2NLZXk7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuZW5hYmxlR0EgPSBlbmFibGVHQSB8fCBmYWxzZTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9taXNjTW9kdWxlL21vZGVscy9DYWxjdWxhdGlvblJlc3VsdE1vZGVsLnRzIiwiaW1wb3J0IHsgQ2RwRXZlbnQgfSBmcm9tIFwiLi9DZHBFdmVudFwiO1xyXG5pbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgRXZlbnROYW1lcyB9IGZyb20gXCJAQ29sbGVjdG9ycy9jb25zdGFudHMvRXZlbnRzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29sbGVjdG9yIHtcclxuICAgIGV2ZW50cztcclxuICAgIHByb3RlY3RlZCBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiQ29sbGVjdG9yXCIpO1xyXG4gICAgcHJvdGVjdGVkIGxpc3RlbmVycyA9IFtdO1xyXG5cclxuICAgIHJlZ2lzdGVyRXZlbnRzKCkge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IE9iamVjdC5rZXlzKHRoaXMuZXZlbnRzKTtcclxuXHJcbiAgICAgICAgZXZlbnRzLmZvckVhY2goKGV2ZW50TmFtZSkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TGlzdGVuZXI6IENkcEV2ZW50ID0gbmV3IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBldmVudExpc3RlbmVyO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRMaXN0ZW5lci5saXN0ZW4oKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgaXNIYXZlUGFnZVZpZXdFdmVudCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ29sbGVjdG9yLnRzIiwiaW1wb3J0IHsgSW5wdXRBZGRyZXNzTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9JbnB1dEFkZHJlc3NNb2RlbEludGVyZmFjZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFkZHJlc3NNb2RlbCB7XHJcbiAgICBGaXJzdE5hbWU6IHN0cmluZztcclxuICAgIExhc3ROYW1lOiBzdHJpbmc7XHJcbiAgICBBZGRyZXNzOiBzdHJpbmc7XHJcbiAgICBQaG9uZTogYW55O1xyXG4gICAgQXB0VW5pdDogYW55O1xyXG4gICAgWmlwY29kZTogYW55O1xyXG4gICAgQ2l0eTogc3RyaW5nO1xyXG4gICAgU3RhdGU6IHN0cmluZztcclxuICAgIENvdW50cnk6IHN0cmluZztcclxuICAgIE5hbWU6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBJbnB1dEFkZHJlc3NNb2RlbEludGVyZmFjZSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuRmlyc3ROYW1lID0gZGF0YS5maXJzdE5hbWU7XHJcbiAgICAgICAgdGhpcy5MYXN0TmFtZSA9IGRhdGEubGFzdE5hbWU7XHJcbiAgICAgICAgdGhpcy5BZGRyZXNzID0gZGF0YS5hZGRyZXNzO1xyXG4gICAgICAgIHRoaXMuUGhvbmUgPSBkYXRhLnBob25lO1xyXG4gICAgICAgIHRoaXMuQXB0VW5pdCA9IGRhdGEuYXB0VW5pdDtcclxuICAgICAgICB0aGlzLlppcGNvZGUgPSBkYXRhLnppcENvZGU7XHJcbiAgICAgICAgdGhpcy5DaXR5ID0gZGF0YS5jaXR5O1xyXG4gICAgICAgIHRoaXMuU3RhdGUgPSBkYXRhLnN0YXRlO1xyXG4gICAgICAgIHRoaXMuQ291bnRyeSA9IGRhdGEuY291bnRyeTtcclxuICAgICAgICB0aGlzLk5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL0FkZHJlc3NNb2RlbC50cyIsImltcG9ydCB7IElucHV0VXNlckluZm9ybWF0aW9uSW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvSW5wdXRVc2VySW5mb3JtYXRpb25JbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVc2VySW5mb3JtYXRpb25Nb2RlbCB7XHJcbiAgICBFbWFpbDogc3RyaW5nO1xyXG4gICAgRGlzcGxheU5hbWU6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBJbnB1dFVzZXJJbmZvcm1hdGlvbkludGVyZmFjZSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuRW1haWwgPSBkYXRhLmVtYWlsO1xyXG4gICAgICAgIHRoaXMuRGlzcGxheU5hbWUgPSBkYXRhLmRpc3BsYXlOYW1lO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL21vZGVscy9Vc2VySW5mb3JtYXRpb25Nb2RlbC50cyIsImltcG9ydCB7IENkcEV2ZW50RGF0YU1vZGVsIH0gZnJvbSBcIi4vQ2RwRXZlbnREYXRhTW9kZWxcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IEJ1Z1RyYWNrVXRpbCB9IGZyb20gXCJAVXRpbHMvQnVnVHJhY2tVdGlsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2RwRXZlbnRNb2RlbCB7XHJcbiAgICBJZDogc3RyaW5nID0gVXRpbHMuY3JlYXRlR1VJRCgpO1xyXG4gICAgRXZlbnROYW1lOiBzdHJpbmc7XHJcbiAgICBFdmVudFR5cGU6IHN0cmluZztcclxuICAgIEV2ZW50VGltZXN0YW1wOiBudW1iZXI7XHJcbiAgICBEZXZpY2VJZDogc3RyaW5nO1xyXG4gICAgRzJJZGV2aWNlaWQ6IHN0cmluZztcclxuICAgIERldmljZUJyb3dzZXJTZXNzaW9uSWQ6IHN0cmluZztcclxuICAgIFBhZ2VTZXNzaW9uSWQ6IHN0cmluZztcclxuICAgIFNpdGVFbnZpcm9ubWVudDogc3RyaW5nO1xyXG4gICAgQ29uZmlnQ29kZT86IHN0cmluZztcclxuICAgIFNpdGVDb2RlPzogc3RyaW5nO1xyXG4gICAgQ2xpZW50Q29kZT86IHN0cmluZztcclxuICAgIEV2ZW50U291cmNlOiBzdHJpbmc7XHJcbiAgICBFdmVudERhdGE6IEFycmF5PENkcEV2ZW50RGF0YU1vZGVsPiA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRFeGlzdGluZ0d1aWRMb2codGhpcy5JZCk7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5FdmVudE5hbWUgPSBkYXRhLkV2ZW50TmFtZTtcclxuICAgICAgICB0aGlzLkV2ZW50VHlwZSA9IGRhdGEuRXZlbnRUeXBlO1xyXG4gICAgICAgIHRoaXMuRXZlbnRUaW1lc3RhbXAgPSBkYXRhLkV2ZW50VGltZXN0YW1wO1xyXG4gICAgICAgIHRoaXMuRGV2aWNlSWQgPSBkYXRhLkRldmljZUlkO1xyXG4gICAgICAgIHRoaXMuRzJJZGV2aWNlaWQgPSBkYXRhLkcySWRldmljZWlkO1xyXG4gICAgICAgIHRoaXMuRGV2aWNlQnJvd3NlclNlc3Npb25JZCA9IGRhdGEuRGV2aWNlQnJvd3NlclNlc3Npb25JZDtcclxuICAgICAgICB0aGlzLlBhZ2VTZXNzaW9uSWQgPSBkYXRhLlBhZ2VTZXNzaW9uSWQ7XHJcbiAgICAgICAgdGhpcy5Db25maWdDb2RlID0gZGF0YS5Db25maWdDb2RlO1xyXG4gICAgICAgIHRoaXMuU2l0ZUNvZGUgPSBkYXRhLlNpdGVDb2RlO1xyXG4gICAgICAgIHRoaXMuQ2xpZW50Q29kZSA9IGRhdGEuQ2xpZW50Q29kZTtcclxuICAgICAgICB0aGlzLlNpdGVFbnZpcm9ubWVudCA9IGRhdGEuU2l0ZUVudmlyb25tZW50IHx8IFwiVW5rbm93blwiO1xyXG4gICAgICAgIHRoaXMuRXZlbnRTb3VyY2UgPSBkYXRhLkV2ZW50U291cmNlIHx8IFwiVW5rbm93blwiO1xyXG4gICAgICAgIHRoaXMuRXZlbnREYXRhID0gZGF0YS5FdmVudERhdGE7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL0NkcEV2ZW50TW9kZWwudHMiLCJpbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgRGV2aWNlRGV0ZWN0b3IgfSBmcm9tIFwiQFV0aWxzL0RldmljZURldGVjdG9yXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRGV2aWNlTW9kZWwge1xyXG4gICAgQnJvd3Nlcjogc3RyaW5nO1xyXG4gICAgVHlwZTogc3RyaW5nO1xyXG4gICAgT1M6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBjb25zdCB1c2VyTWV0YSA9IERldmljZURldGVjdG9yLmdldE1ldGFEYXRhKCk7XHJcblxyXG4gICAgICAgIHRoaXMuQnJvd3NlciA9IHVzZXJNZXRhLkJyb3dzZXI7XHJcbiAgICAgICAgdGhpcy5UeXBlID0gdXNlck1ldGEuRGV2aWNlVHlwZTtcclxuICAgICAgICB0aGlzLk9TID0gdXNlck1ldGEuT1M7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L0RldmljZU1vZGVsLnRzIiwiaW1wb3J0IHsgT2ZmZXJJbnB1dEludGVyZmFjZSB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9pbnRlcmZhY2VzL09mZmVySW5wdXRJbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPZmZlclRhZ01vZGVsIHtcclxuICAgIElkOiBzdHJpbmc7XHJcbiAgICBQbGFuTmFtZTogc3RyaW5nO1xyXG4gICAgVG90YWxQcmljZTogbnVtYmVyO1xyXG4gICAgVHlwZTogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9mZmVyOiBPZmZlcklucHV0SW50ZXJmYWNlKSB7XHJcbiAgICAgICAgdGhpcy5JZCA9IHRoaXMuZ2V0T2ZmZXJJZChvZmZlcik7XHJcbiAgICAgICAgdGhpcy5QbGFuTmFtZSA9IG9mZmVyLk5hbWUsXHJcbiAgICAgICAgdGhpcy5Ub3RhbFByaWNlID0gb2ZmZXIuVG90YWxQcmljZTtcclxuICAgICAgICB0aGlzLlR5cGUgPSB0aGlzLmdldE9mZmVyVHlwZShvZmZlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRPZmZlcklkKG9mZmVyOiBPZmZlcklucHV0SW50ZXJmYWNlKXtcclxuICAgICAgICBpZihvZmZlci5PZmZlcklkKXtcclxuICAgICAgICAgICAgcmV0dXJuIG9mZmVyLk9mZmVySWQudG9TdHJpbmcoKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgaWYob2ZmZXIuUGxhbklkKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvZmZlci5QbGFuSWQudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldE9mZmVyVHlwZShvZmZlcjogT2ZmZXJJbnB1dEludGVyZmFjZSl7XHJcbiAgICAgICAgaWYgKChvZmZlci5Jc0RpZ2l0YWwgfHwgb2ZmZXIuSXNFZWRpdGlvbikgJiYgb2ZmZXIuSXNQcmludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJCb3RoXCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvZmZlci5Jc0RpZ2l0YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiRGlnaXRhbFwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob2ZmZXIuSXNQcmludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJQcmludFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlVua25vd25cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9zcC9PZmZlclRhZ01vZGVsLnRzIiwiaW1wb3J0IHsgQ29va2llT3B0aW9ucyB9IGZyb20gXCIuL0Nvb2tpZU9wdGlvbnNcIjtcclxuaW1wb3J0IHsgSnNDb29raWUgfSBmcm9tIFwiLi9Kc0Nvb2tpZVwiO1xyXG5pbXBvcnQgeyBTdG9yYWdlSW50ZXJmYWNlIH0gZnJvbSBcIi4uL1N0b3JhZ2VJbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb29raWVzU3RvcmFnZUNsYXNzIGltcGxlbWVudHMgU3RvcmFnZUludGVyZmFjZSB7XHJcbiAgICBwcml2YXRlIGNvb2tpZXM6IEpzQ29va2llO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY29va2llcyA9IEpzQ29va2llLmdldEluc3RhbmNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQoa2V5OiBzdHJpbmcsIGNvbnZlcnRlciA9IHt9KTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb29raWVzLmdldChrZXksIGNvbnZlcnRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IG9iamVjdCwgb3B0aW9ucz86IENvb2tpZU9wdGlvbnMsIGNvbnZlcnRlciA9IHt9KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5kYXlzT2ZMaWZlKSB7XHJcbiAgICAgICAgICAgIGxldCBleHBpcmVEYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgZXhwaXJlRGF0ZS5zZXREYXRlKGV4cGlyZURhdGUuZ2V0RGF0ZSgpICsgb3B0aW9ucy5kYXlzT2ZMaWZlKTtcclxuICAgICAgICAgICAgb3B0aW9ucy5leHBpcmVzID0gZXhwaXJlRGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb29raWVzLnNldChrZXksIHZhbHVlLCBvcHRpb25zLCBjb252ZXJ0ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWxldGUoa2V5OiBzdHJpbmcsIG9wdGlvbnM/KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jb29raWVzLnJlbW92ZShrZXksIG9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENvb2tpZXNTdG9yYWdlID0gbmV3IENvb2tpZXNTdG9yYWdlQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvcmUvc3RvcmFnZXMvY29va2llcy9Db29raWVzU3RvcmFnZS50cyIsImV4cG9ydCBjb25zdCBVc2VyU3RhdGUgPSB7XHJcbiAgICBcIkxvZ2dlZEluXCI6IFwiS25vd25cIixcclxuICAgIFwiU3Vic2NyaWJlclwiOiBcIlN1YnNjcmliZXJcIixcclxuICAgIFwiVW5rbm93blwiOiBcIlVua25vd25cIlxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ29ubmV4dFVzZXJTdGF0ZSA9IHtcclxuICAgIFwibm90QXV0aG9yaXplZFwiOiBVc2VyU3RhdGUuVW5rbm93bixcclxuICAgIFwiYXV0aG9yaXplZFwiOiBVc2VyU3RhdGUuTG9nZ2VkSW4sXHJcbiAgICBcImhhc0FjY2Vzc1wiOiBVc2VyU3RhdGUuU3Vic2NyaWJlclxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9kYXRhL21vZGVscy9jb21tb24vVXNlck1vZGVsLnRzIiwiaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBJRXZlbnRTZXJ2aWNlLCBUYWdNYW5hZ2VyU2VydmljZSwgSVRhZ01hbmFnZXJTZXJ2aWNlLCBBcHBJbnNpZ2h0c1NlcnZpY2UsIElBcHBJbnNpZ2h0c1NlcnZpY2UsIEF6dXJlU2VydmljZSB9IGZyb20gXCIuL0luZGV4XCI7XHJcbmltcG9ydCB7IE1ldGFEYXRhU2VydmljZSB9IGZyb20gXCIuL01ldGFEYXRhU2VydmljZVwiO1xyXG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCIuL1Nlc3Npb25TZXJ2aWNlXCI7XHJcbmltcG9ydCB7IERldmljZURldGVjdG9yIH0gZnJvbSBcIkBVdGlscy9EZXZpY2VEZXRlY3RvclwiO1xyXG5pbXBvcnQgeyBGYWlsZWRFdmVudFNlcnZpY2UgfSBmcm9tIFwiLi9GYWlsZWRFdmVudFNlcnZpY2VcIjtcclxuXHJcbi8qKlxyXG4gKiBFdmVudFNlcnZpY2UgaXMgdGhlIG1haW4gY2xhc3MgZm9yIGFsbCBkYXRhIHRoYXQgaXMgc2VudC5cclxuICogSXQgd2lsbCBzdG9yZSBjb21tb24gZGF0YSBhbmQgaGFuZGxlIGZvcndhcmRpbmcgYWxsIGV2ZW50cyB0byBhbGwgb3RoZXIgYXBwcm9wcmlhdGUgc2VydmljZXMgKEdBLCBDRFAsIEF6dXJlKVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEV2ZW50U2VydmljZSBpbXBsZW1lbnRzIElFdmVudFNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiRXZlbnRTZXJ2aWNlXCIsIFwiI2ZiOWIyNVwiKTtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogRXZlbnRTZXJ2aWNlO1xyXG5cclxuICAgIHByaXZhdGUgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSB0YWdNYW5hZ2VyU2VydmljZTogVGFnTWFuYWdlclNlcnZpY2U7XHJcbiAgICBwcml2YXRlIGFwcEluc2lnaHRzU2VydmljZTogSUFwcEluc2lnaHRzU2VydmljZTtcclxuICAgIHByaXZhdGUgZGltZW5zaW9uU2VydmljZTogTWV0YURhdGFTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBhenVyZVNlcnZpY2U6IEF6dXJlU2VydmljZTtcclxuICAgIHByaXZhdGUgZmFpbGVkRXZlbnRTZXJ2aWNlOiBGYWlsZWRFdmVudFNlcnZpY2U7XHJcbiAgICBwcml2YXRlIGNvbGxlY3RlZEV2ZW50cyA9IFtdO1xyXG5cclxuICAgIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJMb2dnZXJTZXJ2aWNlLkdldEluc3RhbmNlXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlID09PSBudWxsIHx8IHRoaXMuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkV2ZW50U2VydmljZS5HZXRJbnN0YW5jZS4gTk8gSU5TVEFOQ0UsIENSRUFUSU5HXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IEV2ZW50U2VydmljZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiRXZlbnRTZXJ2aWNlLkdldEluc3RhbmNlLiBIQVMgSU5TVEFOQ0VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiQ1RPUlwiKTtcclxuICAgICAgICB0aGlzLnNlc3Npb25TZXJ2aWNlID0gU2Vzc2lvblNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICAgICAgdGhpcy5henVyZVNlcnZpY2UgPSBBenVyZVNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICAgICAgdGhpcy50YWdNYW5hZ2VyU2VydmljZSA9IFRhZ01hbmFnZXJTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuYXBwSW5zaWdodHNTZXJ2aWNlID0gQXBwSW5zaWdodHNTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuZGltZW5zaW9uU2VydmljZSA9IE1ldGFEYXRhU2VydmljZS5JbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmZhaWxlZEV2ZW50U2VydmljZSA9IEZhaWxlZEV2ZW50U2VydmljZS5JbnN0YW5jZTtcclxuXHJcbiAgICAgICAgY29uc3QgY2hlY2tRdWVyeUV2ZW50c0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb2xsZWN0ZWRFdmVudHMgJiYgdGhpcy5jb2xsZWN0ZWRFdmVudHMubGVuZ3RoICYmIHRoaXMuaXNSZWFkeURldmljZUlkKCkpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tRdWVyeUV2ZW50c0ludGVydmFsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZFRhZ0NvbGxlY3RlZEV2ZW50cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZEV2ZW50KGV2ZW50TmFtZTogc3RyaW5nLCBldmVudFBheWxvYWQ/OiBvYmplY3QsIHNraXBDb2xsZWN0ZWREaW1lbnNpb25zPzogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUmVhZHlEZXZpY2VJZCgpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbGxlY3RlZEV2ZW50cyAmJiB0aGlzLmNvbGxlY3RlZEV2ZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGVkRXZlbnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogZXZlbnROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50UGF5bG9hZDogZXZlbnRQYXlsb2FkLFxyXG4gICAgICAgICAgICAgICAgICAgIHNraXBDb2xsZWN0ZWREaW1lbnNpb25zOiBza2lwQ29sbGVjdGVkRGltZW5zaW9uc1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRUYWdDb2xsZWN0ZWRFdmVudHMoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgdGhpcy5zZW5kQXBwcm92ZWRFdmVudChldmVudE5hbWUsIGV2ZW50UGF5bG9hZCwgc2tpcENvbGxlY3RlZERpbWVuc2lvbnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0ZWRFdmVudHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6IGV2ZW50TmFtZSxcclxuICAgICAgICAgICAgICAgIGV2ZW50UGF5bG9hZDogZXZlbnRQYXlsb2FkLFxyXG4gICAgICAgICAgICAgICAgc2tpcENvbGxlY3RlZERpbWVuc2lvbnM6IHNraXBDb2xsZWN0ZWREaW1lbnNpb25zXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlzUmVhZHlEZXZpY2VJZCgpIHtcclxuICAgICAgICBpZiAoRGV2aWNlRGV0ZWN0b3IuZ2V0Q2FsY3VsYXRlZERldmljZUlkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZW5kVGFnQ29sbGVjdGVkRXZlbnRzKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5jb2xsZWN0ZWRFdmVudHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbGxlY3RlZEV2ZW50cy5mb3JFYWNoKChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZEFwcHJvdmVkRXZlbnQoZXZlbnQuZXZlbnROYW1lLCBldmVudC5ldmVudFBheWxvYWQsIGV2ZW50LnNraXBDb2xsZWN0ZWREaW1lbnNpb25zKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jb2xsZWN0ZWRFdmVudHMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBlbmhhbmNlIHRoaXMgdG8gYmV0dGVyIGhhbmRsZSBkaWZmZXJlbnQgZGF0YSBkZXN0aW5hdGlvbnMuXHJcbiAgICAvLyAgICAgIDEuIFBvc3NpYmx5IG1ha2UgY29weSBvZiBldmVudFBheWxvYWQgc28gd2UgZG9uJ3QgbmVlZCB0byByZW1vdmUgYW55IG9iamVjdHMuXHJcbiAgICAvLyAgICAgIDIuIE1vdmUgYXNzaWduaW5nIGNvbGxlY3RlZERpbWVuc2lvbnMgdG8gVGFnTWFuYWdlclNlcnZpY2VcclxuICAgIHB1YmxpYyBzZW5kQXBwcm92ZWRFdmVudChldmVudE5hbWU6IHN0cmluZywgZXZlbnRQYXlsb2FkPzogb2JqZWN0LCBza2lwQ29sbGVjdGVkRGltZW5zaW9ucz86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcInNlbmRFdmVudC4uLlwiLCBldmVudE5hbWUsIGV2ZW50UGF5bG9hZCwgXCJQYWdlU2Vzc2lvbklkID09PiBcIiwgdGhpcy5wYWdlU2Vzc2lvbklkKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuaW5mbyhcInNlbmRFdmVudC4uLnRoaXMucGFnZVNlcnZpY2UuUGFnZVNlc3Npb25JZFwiLCB0aGlzLnNlc3Npb25TZXJ2aWNlLlBhZ2VTZXNzaW9uSWQpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5pbmZvKFwiPz8/Pz8/Pz8/Pz8/Pz8/IHNlbmRFdmVudC4uLnRoaXMucGFnZVNlcnZpY2UuRGV2aWNlU2Vzc2lvbklkXCIsIHRoaXMuc2Vzc2lvblNlcnZpY2UuRGV2aWNlU2Vzc2lvbklkKTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJFdmVudFNlcnZpY2Uuc2VuZEV2ZW50Li4uXCIsIGV2ZW50TmFtZSwgZXZlbnRQYXlsb2FkKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5jZHBTZXJ2aWNlLnNlbmREYXRhKGV2ZW50TmFtZSwgZXZlbnRQYXlsb2FkKTtcclxuICAgICAgICAgICAgdGhpcy5henVyZVNlcnZpY2Uuc2VuZERhdGEoZXZlbnROYW1lLCBldmVudFBheWxvYWQpO1xyXG4gICAgICAgICAgICAvLyBhZGQgdGhlIGNvbGxlY3RlZCBkaW1lbnNpb25zIHRvIHRoZSBldmVudFBheWxvYWQuXHJcbiAgICAgICAgICAgIC8vIE5PVEU6IGNvbW1lbnRlZCBiZWNhdXNlIEkgdGhpbmsgbWVyZ2luZyB0aGlzIGlzIG5vdCB0aGUgYmVzdCBhcHByb2FjaCwgaW5zdGVhZCBJIHNob3VsZCBsb29wIHRocm91Z2ggdGhlc2UgcHJvcHMgYW5kIHNldCB0aGUgRExWIGZvciBlYWNoLlxyXG4gICAgICAgICAgICBpZiAoIXNraXBDb2xsZWN0ZWREaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50UGF5bG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50UGF5bG9hZCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9uU2VydmljZSAmJiB0aGlzLmRpbWVuc2lvblNlcnZpY2UuYW5hbHl0aWNzRGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50UGF5bG9hZCA9IE9iamVjdC5hc3NpZ24oZXZlbnRQYXlsb2FkLCB0aGlzLmRpbWVuc2lvblNlcnZpY2UuYW5hbHl0aWNzRGltZW5zaW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50YWdNYW5hZ2VyU2VydmljZS5zZW5kVGFnKGV2ZW50TmFtZSwgZXZlbnRQYXlsb2FkKTtcclxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50UGF5bG9hZFtcImd0bS51bmlxdWVFdmVudElkXCJdO1xyXG4gICAgICAgICAgICAvLyBOT1RFOiBjb21tZW50aW5nIG91dCBiZWNhdXNlIGlmIGkgcmVtb3ZlIHRoaXMgdGhlbiBHVE0gUHJldmlld2VyIGRvZXNuJ3Qga25vdyB3aGljaCBldmVudHMgd2VyZSBmaXJlZC5cclxuICAgICAgICAgICAgLy8gZGVsZXRlIGV2ZW50UGF5bG9hZFsnZXZlbnQnXTtcclxuICAgICAgICAgICAgdGhpcy5hcHBJbnNpZ2h0c1NlcnZpY2UudHJhY2tFdmVudChldmVudE5hbWUsIGV2ZW50UGF5bG9hZCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZW5kRmFpbGVkRXZlbnRzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZmFpbGVkRXZlbnRTZXJ2aWNlLmNsZWFuKCk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvRXZlbnRTZXJ2aWNlLnRzIiwiaW1wb3J0IHsgQ2RwRXZlbnRJbnRlcmZhY2UgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgRmlyc3RWaXNpdERhdGFDb2xsZWN0b3IgfSBmcm9tIFwiLi9jbGFzc2VzL0ZpcnN0VmlzaXREYXRhQ29sbGVjdG9yXCI7XHJcbmltcG9ydCB7IFBsdWdpbklubmVyRXZlbnRzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9QbHVnaW5Jbm5lckV2ZW50c1wiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRhQ29sbGVjdG9yQ2xhc3Mge1xyXG4gICAgcHJpdmF0ZSBjb2xsZWN0ZWRFdmVudHM6IEFycmF5PENkcEV2ZW50SW50ZXJmYWNlPiA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudEluQ29sbGVjdG9yKGV2ZW50OiBDZHBFdmVudEludGVyZmFjZSkge1xyXG4gICAgICAgIHRoaXMuY29sbGVjdGVkRXZlbnRzLnB1c2goZXZlbnQpO1xyXG4gICAgICAgIGlmIChldmVudC51c2VJbkNhbGN1bGF0ZUZpcnN0VmlzaXRNb2RlbCgpKSB7XHJcbiAgICAgICAgICAgIEZpcnN0VmlzaXREYXRhQ29sbGVjdG9yLmNvbGxlY3RDZHBFdmVudChldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsaXN0ZW5FckNvZGUoKSB7XHJcbiAgICAgICAgVXRpbHMuYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgUGx1Z2luSW5uZXJFdmVudHMuRGxDZHBHZXRTdWNjZXNzLCAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBldmVudERhdGEgPSBldmVudC5kZXRhaWw7XHJcbiAgICAgICAgICAgIGlmIChldmVudERhdGEgJiYgZXZlbnREYXRhLmVyID09IENvbnN0YW50cy5Ob0VySW5mb3JtYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIERhdGFDb2xsZWN0b3IucHJvY2VzcygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgRmlyc3RWaXNpdERhdGFDb2xsZWN0b3IuY2xlYXJEYXRhKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0NvbGxlY3RlZEZpcnN0VmlzaXQoY29sbGVjdGVkQnlDb25kaXRpb24/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIEZpcnN0VmlzaXREYXRhQ29sbGVjdG9yLmlzQ29sbGVjdGVkRmlyc3RWaXNpdChjb2xsZWN0ZWRCeUNvbmRpdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENvbGxlY3RlZEZpcnN0VmlzaXREYXRhKCkge1xyXG4gICAgICAgIHJldHVybiBGaXJzdFZpc2l0RGF0YUNvbGxlY3Rvci5nZXRQYWdlTG9hZENvbGxlY3RlZERhdGEoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJvY2VzcygpIHtcclxuICAgICAgICBGaXJzdFZpc2l0RGF0YUNvbGxlY3Rvci5wcm9jZXNzKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBEYXRhQ29sbGVjdG9yID0gbmV3IERhdGFDb2xsZWN0b3JDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9kYXRhQ29sbGVjdG9yL0RhdGFDb2xsZWN0b3IudHMiLCJpbXBvcnQgeyBIdHRwU2VydmljZSB9IGZyb20gXCJARGF0YS9tb2R1bGVzL0h0dHBTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvb2tpZXNTdG9yYWdlIH0gZnJvbSBcIkBDb3JlL3N0b3JhZ2VzL2Nvb2tpZXMvQ29va2llc1N0b3JhZ2VcIjtcclxuaW1wb3J0IHsgRGV2aWNlRGV0ZWN0b3IgfSBmcm9tIFwiQFV0aWxzL0RldmljZURldGVjdG9yXCI7XHJcbmltcG9ydCB7IEZwRGV2aWNlSW5mb0ludGVyZmFjZSB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9pbnRlcmZhY2VzL0ZwRGV2aWNlSW5mb0ludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDZHBNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY2RwTW9kdWxlL0NkcE1vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERldmljZU1vZHVsZUNsYXNzIHtcclxuICAgIFxyXG4gICAgcHJpdmF0ZSBvbGREZXZpY2VJZEtleSA9IFwib2xkRGV2aWNlSWRcIjtcclxuXHJcbiAgICBwdWJsaWMgc2V0dXAoKXtcclxuICAgICAgICB0aGlzLmRldmljZUlkSXNOb3RDaGFuZ2VkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldERldmljZUlkVG9BcGkoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCBzYXZlZE9sZERldmljZUlkID0gdGhpcy5nZXRDaGFuZ2VkRGV2aWNlSWQoKTtcclxuICAgICAgICBpZiAoc2F2ZWRPbGREZXZpY2VJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNhdmVkT2xkRGV2aWNlSWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEZXZpY2VEZXRlY3Rvci5nZXREZXZpY2VJZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGV2aWNlSWRJc05vdENoYW5nZWQoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCBzYXZlZE9sZERldmljZUlkID0gdGhpcy5nZXRDaGFuZ2VkRGV2aWNlSWQoKTtcclxuICAgICAgICBpZiAoc2F2ZWRPbGREZXZpY2VJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gRGV2aWNlRGV0ZWN0b3IuZ2V0RGV2aWNlSWQoKS50aGVuKChkZXZpY2VJZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgbm90aWZ5ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0lkOiBkZXZpY2VJZCxcclxuICAgICAgICAgICAgICAgICAgICBpZDogc2F2ZWRPbGREZXZpY2VJZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRGV2aWNlSWROb3RpZnkobm90aWZ5KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRldmljZUlDaGFuZ2VkKG5vdGlmeTogRnBEZXZpY2VJbmZvSW50ZXJmYWNlKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICB0aGlzLnNhdmVDaGFuZ2VkRGV2aWNlSWQobm90aWZ5LmlkKTtcclxuICAgICAgICBEZXZpY2VEZXRlY3Rvci5zZXRDYWxjdWxhdGVkRGV2aWNlSWQobm90aWZ5Lm5ld0lkKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kRGV2aWNlSWROb3RpZnkobm90aWZ5KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlbmREZXZpY2VJZE5vdGlmeShub3RpZnk6IEZwRGV2aWNlSW5mb0ludGVyZmFjZSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZEFwaUNoYW5nZURldmljZUlkTm90aWZ5KG5vdGlmeSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDaGFuZ2VkRGV2aWNlSWQoKTtcclxuICAgICAgICAgICAgICAgIENkcE1vZHVsZS51cGRhdGVEZXZpY2VJZEluQ2RwRGxTdG9yYWdlKG5vdGlmeS5uZXdJZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjaGFuZ2VEZXZpY2VJZFwiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZEFwaUNoYW5nZURldmljZUlkTm90aWZ5KG5vdGlmeTogRnBEZXZpY2VJbmZvSW50ZXJmYWNlKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2UucG9zdChcInVzZXIvY2hhbmdlZGV2aWNlaWRcIiwge1xyXG4gICAgICAgICAgICBuZXdfZGV2aWNlX2lkOiBub3RpZnkubmV3SWQsXHJcbiAgICAgICAgICAgIG9sZF9kZXZpY2VfaWQ6IG5vdGlmeS5pZFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNhdmVDaGFuZ2VkRGV2aWNlSWQob2xkRGV2aWNlSWQ6IHN0cmluZykge1xyXG4gICAgICAgIC8vIFRPRE8gd2h5PyBvbmx5IG9uZSBkYXlcclxuICAgICAgICBDb29raWVzU3RvcmFnZS5zZXQodGhpcy5vbGREZXZpY2VJZEtleSwgb2xkRGV2aWNlSWQsIHsgZGF5c09mTGlmZTogMzY1MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDaGFuZ2VkRGV2aWNlSWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gQ29va2llc1N0b3JhZ2UuZ2V0KHRoaXMub2xkRGV2aWNlSWRLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGVsZXRlQ2hhbmdlZERldmljZUlkKCkge1xyXG4gICAgICAgIENvb2tpZXNTdG9yYWdlLmRlbGV0ZSh0aGlzLm9sZERldmljZUlkS2V5KTtcclxuICAgIH1cclxuXHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERldmljZU1vZHVsZSA9IG5ldyBEZXZpY2VNb2R1bGVDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9kZXZpY2VNb2R1bGUvRGV2aWNlTW9kdWxlLnRzIiwiaW1wb3J0IHsgQ2RwRXZlbnRNb2RlbCB9IGZyb20gXCIuLi8uLi8uLi9tb2RlbHMvQ2RwRXZlbnRNb2RlbFwiO1xyXG5pbXBvcnQgeyBTcEV2ZW50IH0gZnJvbSBcIi4uL1NwRXZlbnRcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IE9mZmVyTW9kZWwgfSBmcm9tIFwiLi4vbW9kZWxzL09mZmVyTW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPZmZlcnNFdmVudERhdGFFdmVudCBleHRlbmRzIFNwRXZlbnQge1xyXG5cclxuICAgIGdldEV2ZW50TW9kZWwoKTogQ2RwRXZlbnRNb2RlbCB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsID0gc3VwZXIuZ2V0RXZlbnRNb2RlbCgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQ3VzdG9tUHJvcGVydGllcygpO1xyXG4gICAgICAgIGxldCBjZHBEYXRhTGlzdCA9IHRoaXMuZ2V0RXZlbnRNb2RlbHNCeU9mZmVycyh0aGlzLmV2ZW50TW9kZWwpO1xyXG4gICAgICAgIHJldHVybiBjZHBEYXRhTGlzdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFdmVudE1vZGVsc0J5T2ZmZXJzKHNoYXJlRXZlbnRNb2RlbDogQ2RwRXZlbnRNb2RlbCk6IGFueSB7XHJcbiAgICAgICAgbGV0IGNkcERhdGFMaXN0ID0gW107XHJcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhO1xyXG4gICAgICAgIGlmIChkYXRhLm9mZmVycykge1xyXG4gICAgICAgICAgICBkYXRhLm9mZmVycy5mb3JFYWNoKChvZmZlcjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VuZE9mZmVyTW9kZWwgPSBuZXcgT2ZmZXJNb2RlbChvZmZlcik7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2xvbmVTaGFyZUV2ZW50TW9kZWwgPSBPYmplY3QuYXNzaWduKHt9LCBzaGFyZUV2ZW50TW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY2xvbmVTaGFyZUV2ZW50TW9kZWwuSWQgPSBVdGlscy5jcmVhdGVHVUlEKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInRyYW5zZm9ybUV2ZW50RGF0YVwiLCBcIm9mZmVyID0+IFwiLCBzZW5kT2ZmZXJNb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnREYXRhID0gdGhpcy5jb252ZXJ0RGF0YVZhbHVlVG9TdHJpbmcoVXRpbHMub2JqZWN0VG9BcnJheURpY3Qoc2VuZE9mZmVyTW9kZWwpKTtcclxuICAgICAgICAgICAgICAgIGNsb25lU2hhcmVFdmVudE1vZGVsLkV2ZW50RGF0YSA9IGNsb25lU2hhcmVFdmVudE1vZGVsLkV2ZW50RGF0YS5jb25jYXQoZXZlbnREYXRhKTtcclxuICAgICAgICAgICAgICAgIGNkcERhdGFMaXN0LnB1c2goY2xvbmVTaGFyZUV2ZW50TW9kZWwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGNkcERhdGFMaXN0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9PZmZlcnNFdmVudERhdGFFdmVudC50cyIsImltcG9ydCB7IE9mZmVySW5wdXRJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9PZmZlcklucHV0SW50ZXJmYWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT2ZmZXJNb2RlbCB7XHJcbiAgICBPZmZlck5hbWU6IHN0cmluZztcclxuICAgIE9mZmVyTWFya2V0aW5nVGV4dDogc3RyaW5nO1xyXG4gICAgT2ZmZXJUZXh0OiBzdHJpbmc7XHJcbiAgICBPZmZlckltYWdlRGVzY3JpcHRpb246IGFueTtcclxuICAgIE9mZmVySXNCZXN0UGxhbjogYW55O1xyXG4gICAgT2ZmZXJEaXNwbGF5T3JkZXI6IGFueTtcclxuICAgIE9mZmVySXNEaWdpdGFsOiBhbnk7XHJcbiAgICBPZmZlcklzRWVkaXRpb246IGFueTtcclxuICAgIE9mZmVySXNFelBheTogYW55O1xyXG4gICAgT2ZmZXJJc0V6UGF5T3B0aW9uYWw6IGFueTtcclxuICAgIE9mZmVySXNQcmludDogYW55O1xyXG4gICAgT2ZmZXJQYXNzT3JUcmlhbERheXM6IGFueTtcclxuICAgIE9mZmVyQW1vdW50OiBhbnk7XHJcbiAgICBPZmZlclF1YW50aXR5OiBhbnk7XHJcbiAgICBPZmZlckNpdHlUYXg6IGFueTtcclxuICAgIE9mZmVyU3RhdGVUYXg6IGFueTtcclxuICAgIE9mZmVyQ291bnR5VGF4OiBhbnk7XHJcbiAgICBPZmZlclRheEFtb3VudDogYW55O1xyXG4gICAgT2ZmZXJBY3RpdmF0aW9uRmVlOiBhbnk7XHJcbiAgICBPZmZlclByaWNlU3VmZml4OiBhbnk7XHJcbiAgICBPZmZlclByZW1pdW1zOiBhbnk7XHJcbiAgICBPZmZlclRvdGFsUHJpY2U6IGFueTtcclxuICAgIE9mZmVyQWxsb3dQcmV2aW91c1N1bmRheTogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9mZmVyOiBPZmZlcklucHV0SW50ZXJmYWNlKSB7XHJcbiAgICAgICAgdGhpcy5PZmZlck5hbWUgPSBvZmZlci5OYW1lO1xyXG4gICAgICAgIHRoaXMuT2ZmZXJNYXJrZXRpbmdUZXh0ID0gdGhpcy5nZXRNYXJrZXRpbmdUZXh0KG9mZmVyKSxcclxuICAgICAgICAgICAgdGhpcy5PZmZlclRleHQgPSB0aGlzLmdldE9mZmVyVGV4dChvZmZlcik7XHJcbiAgICAgICAgdGhpcy5PZmZlckltYWdlRGVzY3JpcHRpb24gPSAob2ZmZXIuSW1hZ2UpID8gb2ZmZXIuSW1hZ2UuSW1hZ2VEZXNjcmlwdGlvbiA6IFwiXCI7XHJcbiAgICAgICAgdGhpcy5PZmZlcklzQmVzdFBsYW4gPSBvZmZlci5Jc0Jlc3RQbGFuO1xyXG4gICAgICAgIHRoaXMuT2ZmZXJEaXNwbGF5T3JkZXIgPSBvZmZlci5EaXNwbGF5T3JkZXI7XHJcbiAgICAgICAgdGhpcy5PZmZlcklzRGlnaXRhbCA9IG9mZmVyLklzRGlnaXRhbDtcclxuICAgICAgICB0aGlzLk9mZmVySXNFZWRpdGlvbiA9IG9mZmVyLklzRWVkaXRpb247XHJcbiAgICAgICAgdGhpcy5PZmZlcklzRXpQYXkgPSBvZmZlci5Jc0V6UGF5O1xyXG4gICAgICAgIHRoaXMuT2ZmZXJJc0V6UGF5T3B0aW9uYWwgPSBvZmZlci5Jc0V6UGF5T3B0aW9uYWw7XHJcbiAgICAgICAgdGhpcy5PZmZlcklzUHJpbnQgPSBvZmZlci5Jc1ByaW50O1xyXG4gICAgICAgIHRoaXMuT2ZmZXJQYXNzT3JUcmlhbERheXMgPSBvZmZlci5QYXNzT3JUcmlhbERheXM7XHJcbiAgICAgICAgdGhpcy5PZmZlckFtb3VudCA9IG9mZmVyLkFtb3VudDtcclxuICAgICAgICB0aGlzLk9mZmVyUXVhbnRpdHkgPSBvZmZlci5RdWFudGl0eTtcclxuICAgICAgICB0aGlzLk9mZmVyQ2l0eVRheCA9IG9mZmVyLkNpdHlUYXg7XHJcbiAgICAgICAgdGhpcy5PZmZlclN0YXRlVGF4ID0gb2ZmZXIuU3RhdGVUYXg7XHJcbiAgICAgICAgdGhpcy5PZmZlckNvdW50eVRheCA9IG9mZmVyLkNvdW50eVRheDtcclxuICAgICAgICB0aGlzLk9mZmVyVGF4QW1vdW50ID0gb2ZmZXIuVGF4QW1vdW50O1xyXG4gICAgICAgIHRoaXMuT2ZmZXJBY3RpdmF0aW9uRmVlID0gb2ZmZXIuQWN0aXZhdGlvbkZlZTtcclxuICAgICAgICB0aGlzLk9mZmVyUHJpY2VTdWZmaXggPSBvZmZlci5QcmljZVN1ZmZpeDtcclxuICAgICAgICB0aGlzLk9mZmVyUHJlbWl1bXMgPSAob2ZmZXIuUHJlbWl1bXMgJiYgb2ZmZXIuUHJlbWl1bXMubGVuZ3RoID4gMCkgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgdGhpcy5PZmZlclRvdGFsUHJpY2UgPSBvZmZlci5Ub3RhbFByaWNlO1xyXG4gICAgICAgIHRoaXMuT2ZmZXJBbGxvd1ByZXZpb3VzU3VuZGF5ID0gb2ZmZXIuQWxsb3dQcmV2aW91c1N1bmRheSB8fCBcIlVua25vd25cIjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldE1hcmtldGluZ1RleHQob2ZmZXIpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmIChvZmZlci5NYXJrZXRpbmcpIHsgLy8gdjM+XHJcbiAgICAgICAgICAgIHJldHVybiBvZmZlci5NYXJrZXRpbmcuQm9keTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gb2ZmZXIuTWFya2V0aW5nVGV4dDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRPZmZlclRleHQob2ZmZXIpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmIChvZmZlci5NYXJrZXRpbmcpIHsgLy8gdjM+XHJcbiAgICAgICAgICAgIHJldHVybiBvZmZlci5NYXJrZXRpbmcuTmFtZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gb2ZmZXIuT2ZmZXJUZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL09mZmVyTW9kZWwudHMiLCJleHBvcnQgY2xhc3MgU2VuZE9wdGlvbnNNb2RlbCB7XHJcbiAgICBJc0FzeW5jOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBJc1Jlc2VuZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE/KSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5Jc0FzeW5jID0gZGF0YS5Jc0FzeW5jO1xyXG4gICAgICAgIHRoaXMuSXNSZXNlbmQgPSBkYXRhLklzUmVzZW5kO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9TZW5kT3B0aW9uc01vZGVsLnRzIiwiZXhwb3J0IGNsYXNzIExvY2F0aW9uTW9kZWwge1xyXG4gICAgQ2l0eT86IHN0cmluZztcclxuICAgIENvbnRpbmVudENvZGU/OiBzdHJpbmc7XHJcbiAgICBDb3VudHJ5Q29kZT86IHN0cmluZztcclxuICAgIExhdDogbnVtYmVyO1xyXG4gICAgTG9uZzogbnVtYmVyO1xyXG4gICAgU3RhdGU/OiBzdHJpbmc7XHJcbiAgICBaaXA/OiBzdHJpbmcgfCBudW1iZXI7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICB0aGlzLkNpdHkgPSBkYXRhLkNpdHk7XHJcbiAgICAgICAgdGhpcy5Db250aW5lbnRDb2RlID0gZGF0YS5Db250aW5lbnRDb2RlO1xyXG4gICAgICAgIHRoaXMuQ291bnRyeUNvZGUgPSBkYXRhLkNvdW50cnlDb2RlO1xyXG4gICAgICAgIHRoaXMuTGF0ID0gZGF0YS5MYXQ7XHJcbiAgICAgICAgdGhpcy5Mb25nID0gZGF0YS5Mb25nO1xyXG4gICAgICAgIHRoaXMuU3RhdGUgPSBkYXRhLlN0YXRlO1xyXG4gICAgICAgIHRoaXMuWmlwID0gZGF0YS5aaXA7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L0xvY2F0aW9uTW9kZWwudHMiLCJpbXBvcnQgeyBEYXRlVXRpbCB9IGZyb20gXCJAVXRpbHMvRGF0ZVV0aWxcIjtcclxuaW1wb3J0IHsgUGFnZU1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9wYWdlTW9kdWxlL1BhZ2VNb2R1bGVcIjtcclxuaW1wb3J0IHsgRGltZW5zaW9uc01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9kaW1lbnNpb25zTW9kdWxlL0RpbWVuc2lvbnNNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYWdlTW9kZWwge1xyXG4gICAgS2V5d29yZHM/OiBzdHJpbmc7XHJcbiAgICBUaXRsZT86IHN0cmluZztcclxuICAgIFVybD86IHN0cmluZztcclxuICAgIFNlY3Rpb24/OiBzdHJpbmc7XHJcbiAgICBBdXRob3I/OiBzdHJpbmc7XHJcbiAgICBUYWdzPzogc3RyaW5nO1xyXG4gICAgQ29udGVudElkPzogc3RyaW5nO1xyXG4gICAgUHVibGlzaERhdGU/OiBzdHJpbmc7XHJcbiAgICBDb250ZW50VHlwZT86IHN0cmluZztcclxuICAgIFJlY29tbWVuZGVkPzogYW55O1xyXG5cclxuICAgIC8qQGRhdGEgLSBFdmVudERhdGEqL1xyXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldER5bmFtaWNQcm9wZXJ0eSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLktleXdvcmRzID0gZGF0YS5LZXl3b3JkcyAmJiBBcnJheS5pc0FycmF5KCBkYXRhLktleXdvcmRzKSA/IGRhdGEuS2V5d29yZHMuam9pbihcIixcIik6IGRhdGEuS2V5d29yZHM7XHJcbiAgICAgICAgdGhpcy5UaXRsZSA9IGRhdGEuVGl0bGU7XHJcbiAgICAgICAgdGhpcy5VcmwgPSBkYXRhLlVybDtcclxuICAgICAgICB0aGlzLlNlY3Rpb24gPSBkYXRhLlNlY3Rpb247XHJcbiAgICAgICAgdGhpcy5BdXRob3IgPSBkYXRhLkF1dGhvcjtcclxuICAgICAgICB0aGlzLlRhZ3MgPSBkYXRhLlRhZ3MgJiYgQXJyYXkuaXNBcnJheSggZGF0YS5UYWdzKSA/IGRhdGEuVGFncy5qb2luKFwiLFwiKTogZGF0YS5UYWdzOztcclxuICAgICAgICB0aGlzLkNvbnRlbnRJZCA9IGRhdGEuQ29udGVudElkO1xyXG4gICAgICAgIHRoaXMuUHVibGlzaERhdGUgPSBEYXRlVXRpbC5nZXRJU09Gb3JtYXQoZGF0YS5QdWJsaXNoRGF0ZSk7XHJcbiAgICAgICAgdGhpcy5Db250ZW50VHlwZSA9IGRhdGEuQ29udGVudFR5cGU7XHJcbiAgICAgICAgdGhpcy5SZWNvbW1lbmRlZCA9IGRhdGEuUmVjb21tZW5kZWQ7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0RHluYW1pY1Byb3BlcnR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RHluYW1pY1Byb3BlcnR5KCkge1xyXG4gICAgICAgIGNvbnN0IGR5bmFtaWNEaW1lbnNpb25zOiBhbnkgPSBEaW1lbnNpb25zTW9kdWxlLmdldER5bmFtaWNEaW1lbnNpb25zKClcclxuICAgICAgICB0aGlzLmV4dGVuZEN1cnJlbnRNb2RlbChkeW5hbWljRGltZW5zaW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgZXh0ZW5kQ3VycmVudE1vZGVsKGRhdGFNb2RlbDogYW55KSB7XHJcbiAgICAgICAgaWYgKCFkYXRhTW9kZWwpIHJldHVybjtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gZGF0YU1vZGVsKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhTW9kZWwuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzW3Byb3BlcnR5XSA9IGRhdGFNb2RlbFtwcm9wZXJ0eV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L1BhZ2VNb2RlbC50cyIsImV4cG9ydCBjb25zdCBDb2xsZWN0b3JUeXBlcyA9IHtcclxuICAgIENvbm5leHQ6IFwiQ29ubmV4dFwiLFxyXG4gICAgU1A6IFwiU1BcIixcclxuICAgIEZsaXR0ejogXCJGbGl0dHpcIlxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ29sVHlwZSA9IHtcclxuICAgIFwiQ29ubmV4dFwiOiBcIkNvbm5leHRcIixcclxuICAgIFwiU1BcIjogXCJTUFwiLFxyXG4gICAgXCJGbGl0dHpcIjogXCJGbGl0dHpcIlxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jb25zdGFudHMvQ29sbGVjdG9yVHlwZXMudHMiLCJleHBvcnQgY29uc3QgUGF5bWVudFR5cGVzID0ge1xyXG4gICAgXCJjcmVkaXRfY2FyZF9jb21wbGV0ZWRfZVwiOiBcIkNyZWRpdCBDYXJkXCIsXHJcbiAgICBcImJhbmtfYWNjb3VudF9jb21wbGV0ZWRfZVwiOiBcIkJhbmsgQWNjb3VudFwiLFxyXG4gICAgXCJiaWxsX21lX2NvbXBsZXRlZF9lXCI6IFwiQmlsbCBNZVwiLFxyXG4gICAgXCJhcHBsZV9wYXlfY29tcGxldGVkX2VcIjogXCJBcHBsZSBQYXlcIixcclxuICAgIFwicGF5cGFsX2NvbXBsZXRlZF9lXCI6IFwiUGF5cGFsXCJcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jb25zdGFudHMvUGF5bWVudFR5cGVzLnRzIiwiaW1wb3J0IHsgR3RtVGFnRXZlbnQgfSBmcm9tIFwiLi9HdG1UYWdFdmVudFwiO1xyXG5pbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHdG1UYWdDb2xsZWN0b3Ige1xyXG4gICAgZXZlbnRzO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiR3RtVGFnQ29sbGVjdG9yIHN0YXJ0XCIpO1xyXG5cclxuICAgIHJlZ2lzdGVyVGFnRXZlbnRzKCkge1xyXG4gICAgICAgIGxldCBldmVudHMgPSBPYmplY3Qua2V5cyh0aGlzLmV2ZW50cyk7XHJcbiAgICAgICAgZXZlbnRzLmZvckVhY2goKGV2ZW50TmFtZSkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TGlzdGVuZXI6IEd0bVRhZ0V2ZW50ID0gbmV3IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0oKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50TGlzdGVuZXIubGlzdGVuKCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvR3RtVGFnQ29sbGVjdG9yLnRzIiwiaW1wb3J0IHsgRXZlbnRTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL0V2ZW50U2VydmljZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHdG1UYWdFdmVudCB7XHJcbiAgICBwcm90ZWN0ZWQgb3JpZ2luYWxFdmVudE5hbWU7XHJcbiAgICBwcm90ZWN0ZWQgb3JpZ2luYWxFdmVudERhdGE7XHJcbiAgICBwdWJsaWMgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkd0bVRhZ0V2ZW50XCIpO1xyXG4gICAgc2VuZFRhZ05hbWU7XHJcbiAgICBldmVudFNlcnZpY2U6IEV2ZW50U2VydmljZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmV2ZW50U2VydmljZSA9IEV2ZW50U2VydmljZS5JbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBsaXN0ZW4oKSB7IH1cclxuXHJcbiAgICBnZXRTZW5kVGFnRGF0YSgpIHtcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcblxyXG4gICAgc2V0T3JpZ2luYWxFdmVudERhdGEoZGF0YTogYW55KSB7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSA9IGRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2VuZFRhZ05hbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZFRhZ05hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZFRhZ1RvQW5hbGl0Y3ModGFnTmFtZT8sIHRhZ0RhdGE/KSB7XHJcbiAgICAgICAgdGhpcy5ldmVudFNlcnZpY2Uuc2VuZEV2ZW50KHRhZ05hbWUgfHwgdGhpcy5nZXRTZW5kVGFnTmFtZSgpLCB0YWdEYXRhIHx8IHRoaXMuZ2V0U2VuZFRhZ0RhdGEoKSk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci9HdG1UYWdFdmVudC50cyIsImltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNZXRlclN0YXJ0VGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcIm1ldGVyU3RhcnRcIjtcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvTWV0ZXJTdGFydFRhZ0V2ZW50LnRzIiwiaW1wb3J0IHsgQ29ubmV4dEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4uL0Nvbm5leHRHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1ldGVyU3RvcFRhZ0V2ZW50IGV4dGVuZHMgQ29ubmV4dEd0bVRhZ0V2ZW50IHtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJtZXRlclN0b3BcIjtcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvTWV0ZXJTdG9wVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBJRmFjdG9yeSB9IGZyb20gXCIuL0lGYWN0b3J5XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmFjdG9yeSBpbXBsZW1lbnRzIElGYWN0b3J5IHsgfVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29yZS9iYXNlL2ZhY3RvcnkvRmFjdG9yeS50cyIsImltcG9ydCB7IEh0dHBJbnRlcmZhY2UgfSBmcm9tIFwiLi9IdHRwSW50ZXJmYWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSHR0cCBpbXBsZW1lbnRzIEh0dHBJbnRlcmZhY2Uge1xyXG4gICAgcHVibGljIGdldCh1cmw6IHN0cmluZywgcGF5bG9hZD86IGFueSwgb3B0aW9ucz86IGFueSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbChcIkdFVFwiLCB1cmwsIHBheWxvYWQsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwb3N0KHVybDogc3RyaW5nLCBwYXlsb2FkPzogYW55LCBvcHRpb25zPzogYW55KTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKFwiUE9TVFwiLCB1cmwsIHBheWxvYWQsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2FsbChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIHBheWxvYWQ/OiBhbnksIG9wdGlvbnM/OiBhbnkpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuICAgICAgICBsZXQgZmV0Y2hVUkwgPSBuZXcgVVJMKHVybCk7XHJcbiAgICAgICAgbGV0IGZldGNoT3B0aW9ucyA9IHt9O1xyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5oZWFkZXJzKSB7XHJcbiAgICAgICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKTtcclxuICAgICAgICAgICAgaGVhZGVycy5hcHBlbmQoXCJDb250ZW50LVR5cGVcIiwgb3B0aW9ucy5jb250ZW50VHlwZSA/IG9wdGlvbnMuY29udGVudFR5cGUgOiBcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcbiAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKFwiQWNjZXB0XCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuICAgICAgICAgICAgZmV0Y2hPcHRpb25zW1wiaGVhZGVyc1wiXSA9IGhlYWRlcnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmZXRjaE9wdGlvbnNbXCJtZXRob2RcIl0gPSBtZXRob2Q7XHJcblxyXG5cclxuICAgICAgICBpZiAobWV0aG9kID09PSBcIkdFVFwiKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXlsb2FkKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhwYXlsb2FkKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmZXRjaFVSTC5zZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgcGF5bG9hZFtrZXldKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmV0Y2hPcHRpb25zW1wiYm9keVwiXSA9IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGZldGNoVVJMLmhyZWYsIGZldGNoT3B0aW9ucylcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSA0MDQgfHwgcmVzcG9uc2Uuc3RhdHVzID09IDUwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCkudGhlbihmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHRleHQgPyBKU09OLnBhcnNlKHRleHQpIDoge30pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpLnRoZW4oZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGV4dCA/IEpTT04ucGFyc2UodGV4dCkgOiB7fVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvcmUvc3RvcmFnZXMvaHR0cC9IdHRwLnRzIiwiZXhwb3J0IGludGVyZmFjZSBBY3Rpb25EYXRhIHtcclxuICAgIEFjdGlvblR5cGVJZDogbnVtYmVyO1xyXG4gICAgQWN0aW9uVHlwZTogc3RyaW5nO1xyXG4gICAgQXJ0aWNsZXNMZWZ0OiBudW1iZXI7XHJcbiAgICBBcnRpY2xlc1ZpZXdlZDogbnVtYmVyO1xyXG4gICAgRGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIFVzZXJEZWZpbmVkRGF0YTogc3RyaW5nO1xyXG4gICAgTmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWN0aW9uVHlwZURpY3QgPSB7XHJcbiAgICAxOiBcIkJhbm5lclwiLFxyXG4gICAgNDogXCJJbmxpbmVcIixcclxuICAgIDI6IFwiTW9kYWxcIixcclxuICAgIDM6IFwiUGF5d2FsbFwiLFxyXG4gICAgNjogXCJTbWFsbEluZm9Cb3hcIixcclxuICAgIDc6IFwiSlNcIixcclxuICAgIDExOiBcIk5ld3NsZXR0ZXJcIixcclxuICAgIDE2OiBcIkluc2lnaHRzUmVjb21tZW5kYXRpb25cIlxyXG59XHJcblxyXG4vLyBleHBvcnQgY29uc3QgQWN0aW9uVHlwZSA9IHtcclxuLy8gICAgIFwiQmFubmVyXCI6IEFjdGlvblR5cGVEaWN0W1wiMVwiXSxcclxuLy8gICAgIFwiSW5saW5lXCI6IEFjdGlvblR5cGVEaWN0W1wiNFwiXSxcclxuLy8gICAgIFwiTW9kYWxcIjogQWN0aW9uVHlwZURpY3RbXCIyXCJdLFxyXG4vLyAgICAgXCJQYXl3YWxsXCI6IEFjdGlvblR5cGVEaWN0W1wiM1wiXSxcclxuLy8gICAgIFwiU21hbGxJbmZvQm94XCI6IEFjdGlvblR5cGVEaWN0W1wiNlwiXSxcclxuLy8gICAgIFwiSlNcIjogQWN0aW9uVHlwZURpY3RbXCI3XCJdLFxyXG4vLyAgICAgXCJOZXdzbGV0dGVyXCI6IEFjdGlvblR5cGVEaWN0W1wiMTFcIl1cclxuLy8gfVxyXG5cclxuZXhwb3J0IGNvbnN0IEFjdGlvblR5cGVzID0ge1xyXG4gICAgXCJCYW5uZXJcIjogXCJCYW5uZXJcIixcclxuICAgIFwiSW5saW5lXCI6IFwiSW5saW5lXCIsXHJcbiAgICBcIk1vZGFsXCI6IFwiTW9kYWxcIixcclxuICAgIFwiUGF5d2FsbFwiOiBcIlBheXdhbGxcIixcclxuICAgIFwiU21hbGxJbmZvQm94XCI6IFwiU21hbGxJbmZvQm94XCIsXHJcbiAgICBcIkpTXCI6IFwiSlNcIixcclxuICAgIFwiTmV3c2xldHRlclwiOiBcIk5ld3NsZXR0ZXJcIlxyXG59XHJcblxyXG4vLyBleHBvcnQgaW50ZXJmYWNlIEFjdGlvblR5cGV7XHJcbi8vICAgICBCYW5uZXI6IHN0cmluZztcclxuLy8gICAgIElubGluZTogc3RyaW5nO1xyXG4vLyAgICAgTW9kYWw6IHN0cmluZztcclxuLy8gICAgIFBheXdhbGw6IHN0cmluZztcclxuLy8gICAgIFNtYWxsSW5mb0JveDogc3RyaW5nO1xyXG4vLyAgICAgSlM6IHN0cmluZztcclxuLy8gICAgIE5ld3NsZXR0ZXI6IHN0cmluZztcclxuLy8gfVxyXG5cclxuZXhwb3J0IHR5cGUgQWN0aW9uVHlwZSA9IFwiQmFubmVyXCIgfCBcIklubGluZVwiIHwgXCJNb2RhbFwiIHwgXCJQYXl3YWxsXCIgfCBcIlNtYWxsSW5mb0JveFwiIHwgXCJKU1wiIHwgXCJOZXdzbGV0dGVyXCI7XHJcblxyXG4vLyBleHBvcnQgZW51bSBBY3Rpb25UeXBlIHtcclxuLy8gICAgIFwiQmFubmVyXCIgPSBcIkJhbm5lclwiLFxyXG4vLyAgICAgXCJJbmxpbmVcIiA9IFwiSW5saW5lXCIsXHJcbi8vICAgICBcIk1vZGFsXCIgPSBcIk1vZGFsXCIsXHJcbi8vICAgICBcIlBheXdhbGxcIiA9IFwiUGF5d2FsbFwiLFxyXG4vLyAgICAgXCJTbWFsbEluZm9Cb3hcIiA9IFwiU21hbGxJbmZvQm94XCIsXHJcbi8vICAgICBcIkpTXCIgPSBcIkpTXCIsXHJcbi8vICAgICBcIk5ld3NsZXR0ZXJcIiA9IFwiTmV3c2xldHRlclwiXHJcbi8vIH1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2RhdGEvbW9kZWxzL2Nvbm5leHQvQWN0aW9uTW9kZWxzLnRzIiwiaW1wb3J0IHsgTG9jYWxTdG9yYWdlIH0gZnJvbSBcIkBDb3JlL3N0b3JhZ2VzL2xvY2FsL0xvY2FsU3RvcmFnZVwiO1xyXG5pbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvY2FsU3RvcmFnZVNlcnZpY2VDbGFzcyBleHRlbmRzIExvY2FsU3RvcmFnZSB7XHJcbiAgICBwcml2YXRlIGxvY2FsU3RvcmFnZSA9IG5ldyBMb2NhbFN0b3JhZ2UoKTtcclxuXHJcbiAgICBleHBhbmRLZXkoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHNpdGVDb2RlID0gQ29uZmlnTW9kdWxlLmdldFNpdGVDb2RlKClcclxuICAgICAgICBjb25zdCBjbGllbnRDb2RlID0gQ29uZmlnTW9kdWxlLmdldENsaWVudENvZGUoKTtcclxuXHJcbiAgICAgICAgaWYgKCFzaXRlQ29kZSB8fCAhY2xpZW50Q29kZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ga2V5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZXhwYW5kZWRLZXkgPSBbXHJcbiAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgc2l0ZUNvZGUsXHJcbiAgICAgICAgICAgIGNsaWVudENvZGVcclxuICAgICAgICBdLmpvaW4oXCJfXCIpO1xyXG5cclxuICAgICAgICByZXR1cm4gZXhwYW5kZWRLZXk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0KGtleTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxTdG9yYWdlLmdldCh0aGlzLmV4cGFuZEtleShrZXkpKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQoa2V5OiBzdHJpbmcsICB2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgdGhpcy5sb2NhbFN0b3JhZ2Uuc2V0KHRoaXMuZXhwYW5kS2V5KGtleSksIHZhbHVlKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IExvY2FsU3RvcmFnZVNlcnZpY2UgPSBuZXcgTG9jYWxTdG9yYWdlU2VydmljZUNsYXNzKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9kYXRhL21vZHVsZXMvTG9jYWxTdG9yYWdlU2VydmljZS50cyIsImltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuLi8uLi91dGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuaW1wb3J0IHsgSUF6dXJlU2VydmljZSB9IGZyb20gXCIuLi9jb250cmFjdHMvSUF6dXJlU2VydmljZVwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuLi8uLi91dGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCIuL0luZGV4XCI7XHJcbmltcG9ydCB7IEFuYWx5c2lzT3B0aW9uc0ludGVyZmFjZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvb3B0aW9ucy9tb2RlbHMvQW5hbHlzaXNPcHRpb25zSW50ZXJmYWNlXCI7XHJcblxyXG4vLyBpbXBvcnQgeyBCYXNlRGF0YVNlcnZpY2UgfSBmcm9tIFwiLi9iYXNlL0Jhc2VEYXRhU2VydmljZVwiO1xyXG4vLyBpbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCIuL1Nlc3Npb25TZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXp1cmVTZXJ2aWNlIGltcGxlbWVudHMgSUF6dXJlU2VydmljZSB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogQXp1cmVTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBzZXNzaW9uU2VydmljZTogU2Vzc2lvblNlcnZpY2U7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJBenVyZVNlcnZpY2VcIiwgXCIjYjI3MGRmXCIpO1xyXG4gICAgLy8gcHJpdmF0ZSBldmVudFNlcnZpY2U6IEV2ZW50U2VydmljZTtcclxuICAgIC8vIHB1YmxpYyBwYWdlU2Vzc2lvbklkMjogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBPUFRJT05TOiBBbmFseXNpc09wdGlvbnNJbnRlcmZhY2UgPSB7XHJcbiAgICAgICAgZW5hYmxlZDogZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IEluc3RhbmNlKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQXp1cmVTZXJ2aWNlLkdldEluc3RhbmNlXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlID09PSBudWxsIHx8IHRoaXMuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkF6dXJlU2VydmljZS5ORVcgSW5zdGFuY2VcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgQXp1cmVTZXJ2aWNlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJBenVyZVNlcnZpY2UuR2V0SW5zdGFuY2UuIEhBUyBJTlNUQU5DRVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJDVE9SXCIpO1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvblNlcnZpY2UgPSBTZXNzaW9uU2VydmljZS5JbnN0YW5jZTtcclxuICAgICAgICAvLyB0aGlzLmV2ZW50U2VydmljZSA9IEV2ZW50U2VydmljZS5JbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBzZXRPcHRpb25zKG9wdHM6IEFuYWx5c2lzT3B0aW9ucylcclxuXHJcbiAgICBzZXR1cChvcHRzOiBBbmFseXNpc09wdGlvbnNJbnRlcmZhY2UpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcInNldE9wdGlvbnNcIiwgb3B0cyk7XHJcbiAgICAgICAgICAgIHRoaXMuT1BUSU9OUyA9IG9wdHM7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVQYXlsb2FkKGV2ZW50TmFtZTogc3RyaW5nKTogYW55IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl4gY3JlYXRlUGF5bG9hZFwiLCBldmVudE5hbWUsIFwiIC0tLS0tICBTZXNzaW9uSWQgPT0+XCIsIHRoaXMuQmFzZVNlc3Npb25JZCk7XHJcbiAgICAgICAgICAgIGxldCBlbnRpdHkgPSB7XHJcbiAgICAgICAgICAgICAgICBQYXJ0aXRpb25LZXk6IGV2ZW50TmFtZSxcclxuICAgICAgICAgICAgICAgIFJvd0tleTogVXRpbHMuY3JlYXRlR1VJRCgpLFxyXG4gICAgICAgICAgICAgICAgU2Vzc2lvbklkOiB0aGlzLnNlc3Npb25TZXJ2aWNlLlBhZ2VTZXNzaW9uSWQsXHJcbiAgICAgICAgICAgICAgICBBaUF2YWlsOiBVdGlscy5Jc0FwcEluc2lnaHRzQXZhaWwoKSxcclxuICAgICAgICAgICAgICAgIEdhQXZhaWw6IFV0aWxzLklzR29vZ2xlQW5hbHl0aWNzQXZhaWwoKSxcclxuICAgICAgICAgICAgICAgIEd0bUF2YWlsOiBVdGlscy5Jc0dUTUF2YWlsKCksXHJcbiAgICAgICAgICAgICAgICBDeHRBdmFpbDogVXRpbHMuSXNDb25uZXh0QXZhaWwoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHZhciBlbnRpdHkgPSB7XHJcbiAgICAgICAgICAgIC8vICAgICBQYXJ0aXRpb25LZXk6IGV2ZW50TmFtZSxcclxuICAgICAgICAgICAgLy8gICAgIFJvd0tleTogVXRpbHMuY3JlYXRlR1VJRCgpLFxyXG4gICAgICAgICAgICAvLyAgICAgQWlBdmFpbDogVXRpbHMuSXNBcHBJbnNpZ2h0c0F2YWlsKCksXHJcbiAgICAgICAgICAgIC8vICAgICBHYUF2YWlsOiBVdGlscy5Jc0dvb2dsZUFuYWx5dGljc0F2YWlsKCksXHJcbiAgICAgICAgICAgIC8vICAgICBHdG1BdmFpbDogVXRpbHMuSXNHVE1BdmFpbCgpLFxyXG4gICAgICAgICAgICAvLyAgICAgQ3h0QXZhaWw6IFV0aWxzLklzQ29ubmV4dEF2YWlsKCksXHJcbiAgICAgICAgICAgIC8vICAgICBTZXNzaW9uSWQ6IHRoaXMuX2luaXRPcHRpb25zLnNlc3Npb25JZCxcclxuICAgICAgICAgICAgLy8gICAgIFRpbWVzcGFuOiB0aW1lSW5pdCxcclxuICAgICAgICAgICAgLy8gICAgIERvbWFpbjogbG9jYXRpb24uaG9zdG5hbWUsXHJcbiAgICAgICAgICAgIC8vICAgICBCcm93c2VyOiB1c2VyTWV0YURhdGEuQnJvd3NlcixcclxuICAgICAgICAgICAgLy8gICAgIE9TOiB1c2VyTWV0YURhdGEuT1MsXHJcbiAgICAgICAgICAgIC8vICAgICBQYWdlOiBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKFwiLFwiLCBcIl5cIiksXHJcbiAgICAgICAgICAgIC8vICAgICBGUElkOiBmaW5nZXJQcmludElkXHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVudGl0eTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZW5kRGF0YShldmVudE5hbWU6IHN0cmluZywgZXZlbnREYXRhPzogb2JqZWN0KTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLk9QVElPTlMuZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJzZW5kRGF0YVwiLCBcIk5PVCBFTkFCTEVEXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJzZW5kRGF0YSB0aGlzLnBhZ2VTZXJ2aWNlLlBhZ2VTZXNzaW9uSWRcIiwgdGhpcy5zZXNzaW9uU2VydmljZS5QYWdlU2Vzc2lvbklkKTtcclxuICAgICAgICAgICAgbGV0IHBheWxvYWQgPSB0aGlzLmNyZWF0ZVBheWxvYWQoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJzZW5kRGF0YVwiLCBcIkV2ZW50TmFtZSA9PiBcIiwgZXZlbnROYW1lLCBcIkV2ZW50RGF0YSA9PiBcIiwgZXZlbnREYXRhLCBcIlBheWxvYWQgPT4gXCIsIHBheWxvYWQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICAvLyB0cnkge1xyXG4gICAgICAgICAgICAvLyAgICAgeGhyLm9wZW4oJ3Bvc3QnLCB0aGlzLk9QVElPTlMudXJsLCB0cnVlKTtcclxuICAgICAgICAgICAgLy8gICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKGUpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAvL3RoaXMuTG9nZ2VyLmRlYnVnKFwiQXp1cmUgRGF0YSBMb2FkZWRcIiwgZS5jdXJyZW50VGFyZ2V0WydzdGF0dXNUZXh0J10pO1xyXG4gICAgICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcclxuICAgICAgICAgICAgLy8gICAgIHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KGVudGl0eSkpO1xyXG4gICAgICAgICAgICAvLyB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoXCJFcnJvciBTZW5kaW5nIEF6dXJlIERhdGFcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvQXp1cmVTZXJ2aWNlLnRzIiwiaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBJRmFpbGVkRXZlbnRTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL2NvbnRyYWN0cy9JRmFpbGVkRXZlbnRTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50TW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRzTWFuYWdlciB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudHNNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFNlbmRPcHRpb25zTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL1NlbmRPcHRpb25zTW9kZWxcIjtcclxuaW1wb3J0IHsgQnVnVHJhY2tVdGlsIH0gZnJvbSBcIkBVdGlscy9CdWdUcmFja1V0aWxcIjtcclxuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tIFwiLi9TZXNzaW9uU2VydmljZVwiO1xyXG5pbXBvcnQgeyBEYXRlVXRpbCB9IGZyb20gXCJAVXRpbHMvRGF0ZVV0aWxcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmFpbGVkRXZlbnRTZXJ2aWNlIGltcGxlbWVudHMgSUZhaWxlZEV2ZW50U2VydmljZSB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogRmFpbGVkRXZlbnRTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBmYWlsZWRFdmVudFN0b3JhZ2VQcmVmaXg6IHN0cmluZyA9IFwiRmFpbGVkRXZlbnRfXCI7XHJcbiAgICBwcml2YXRlIG11dGV4S2V5OiBzdHJpbmcgPSBcIkZhaWxlZEV2ZW50TXV0ZXhcIjtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkZhaWxlZEV2ZW50U2VydmljZVwiKTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0IEluc3RhbmNlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlID09PSBudWxsIHx8IHRoaXMuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IEZhaWxlZEV2ZW50U2VydmljZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFzaChkYXRhOiBDZHBFdmVudE1vZGVsKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5nZXRGYWlsZWRFdmVudEtleShkYXRhKTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInN0YXNoXCIsIGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJvcChkYXRhOiBDZHBFdmVudE1vZGVsKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5nZXRGYWlsZWRFdmVudEtleShkYXRhKTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiZHJvcFwiLCBrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFuKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gVXRpbHMuZ2V0UmFuZG9tSW50ZWdlckluUmFuZ2UoMCwgMTAwMCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRSZXBlYXREZWxheShkZWxheSk7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5jcmVhdGVFdmVudHNDYWxsKCk7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgLy8gcHJvY2Vzc2VkIGJ5IGFub3RoZXIgdGFiXHJcbiAgICAgICAgICAgICAgICBjb25zdCBtdXRleElkID0gdGhpcy5nZXRNdXRleElkKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobXV0ZXhJZCAmJiBtdXRleElkICE9PSBTZXNzaW9uU2VydmljZS5JbnN0YW5jZS5QYWdlU2Vzc2lvbklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmVyeSBvbGQgbXV0ZXhcclxuICAgICAgICAgICAgICAgICAgICBpZiAoRGF0ZVV0aWwuZGF5c0RpZmYodGhpcy5nZXRNdXRleERhdGUoKSkgPiAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZU11dGV4KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldE11dGV4KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldEZhaWxlZEV2ZW50S2V5cygpLmZvckVhY2goKGV4cGFuZGVkS2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhOiBDZHBFdmVudE1vZGVsID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShleHBhbmRlZEtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvcHRpb25zID0gbmV3IFNlbmRPcHRpb25zTW9kZWwoeyBJc0FzeW5jOiB0cnVlLCBJc1Jlc2VuZDogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICBDZHBFdmVudHNNYW5hZ2VyLnNlbmRFdmVudChkYXRhLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyb3AoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgLy8gZ3VhcmFudGVlIG9mIHJlbW92YWwgbXV0ZXhcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTXV0ZXgoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGRlbGF5KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldE11dGV4SWQoKSB7XHJcbiAgICAgICAgY29uc3QgbXV0ZXhWYWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMubXV0ZXhLZXkpO1xyXG4gICAgICAgIGlmICghbXV0ZXhWYWx1ZSkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgY29uc3QgW2lkLCBkYXRlXSA9IG11dGV4VmFsdWUuc3BsaXQoXCJfX1wiKTtcclxuICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRNdXRleERhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgbXV0ZXhWYWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMubXV0ZXhLZXkpO1xyXG4gICAgICAgIGlmICghbXV0ZXhWYWx1ZSkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgY29uc3QgW2lkLCBkYXRlXSA9IG11dGV4VmFsdWUuc3BsaXQoXCJfX1wiKTtcclxuICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldE11dGV4KCkge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMubXV0ZXhLZXksIGAke1Nlc3Npb25TZXJ2aWNlLkluc3RhbmNlLlBhZ2VTZXNzaW9uSWR9X18ke25ldyBEYXRlKCkudmFsdWVPZigpfWApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGVsZXRlTXV0ZXgoKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5tdXRleEtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRGYWlsZWRFdmVudEtleShkYXRhOiBDZHBFdmVudE1vZGVsKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5mYWlsZWRFdmVudFN0b3JhZ2VQcmVmaXggKyBkYXRhLklkO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RmFpbGVkRXZlbnRLZXlzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKS5maWx0ZXIoKGtleTogc3RyaW5nKSA9PiBrZXkuc3RhcnRzV2l0aCh0aGlzLmZhaWxlZEV2ZW50U3RvcmFnZVByZWZpeCkpO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL0ZhaWxlZEV2ZW50U2VydmljZS50cyIsImltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuLi8uLi91dGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuaW1wb3J0IHsgSVRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uL2NvbnRyYWN0cy9JVGFnTWFuYWdlclNlcnZpY2VcIjtcclxuXHJcbmV4cG9ydCB0eXBlIERhdGFMYXllck1vZGVsID0gQXJyYXk8b2JqZWN0PjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWdNYW5hZ2VyU2VydmljZSBpbXBsZW1lbnRzIElUYWdNYW5hZ2VyU2VydmljZSB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogVGFnTWFuYWdlclNlcnZpY2U7XHJcbiAgICBwcml2YXRlIF9kYXRhTGF5ZXI6IERhdGFMYXllck1vZGVsO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiVGFnTWFuYWdlclNlcnZpY2VcIiwgXCIjZDIzNGMzXCIpO1xyXG5cclxuICAgIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJMb2dnZXJTZXJ2aWNlLkdldEluc3RhbmNlXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlID09PSBudWxsIHx8IHRoaXMuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlRhZ01hbmFnZXJTZXJ2aWNlLkdldEluc3RhbmNlLiBOTyBJTlNUQU5DRSwgQ1JFQVRJTkdcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgVGFnTWFuYWdlclNlcnZpY2UoKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5fZGF0YUxheWVyID0gW107XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJUYWdNYW5hZ2VyU2VydmljZS5HZXRJbnN0YW5jZS4gSEFTIElOU1RBTkNFXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgRGF0YUxheWVyXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREYXRhTGF5ZXIoKTogRGF0YUxheWVyTW9kZWwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhTGF5ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXAoY29udGFpbmVySWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiSW5pdGlhbGl6aW5nIFRhZ01hbmFnZXIgV2l0aCBDb250YWluZXJJZDogXCIsIGNvbnRhaW5lcklkKTtcclxuICAgICAgICAgICAgKGZ1bmN0aW9uICh3aW5kb3dBcmcsIGRvY3VtZW50QXJnLCBzY3JpcHRBcmcsIGRhdGFMYXllckFyZywgR1RNSWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB3aW5EYXRhTGF5ZXIgPSB3aW5kb3dBcmdbXCJHMkFuYWx5dGljc1wiXS5EYXRhTGF5ZXI7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3dBcmdbZGF0YUxheWVyQXJnXSA9IHdpbkRhdGFMYXllciB8fCBbXTtcclxuICAgICAgICAgICAgICAgIHdpbmRvd0FyZ1tkYXRhTGF5ZXJBcmddLnB1c2goeyBcImd0bS5zdGFydFwiOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgZXZlbnQ6IFwiZ3RtLmpzXCIgfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZiA9IGRvY3VtZW50QXJnLmdldEVsZW1lbnRzQnlUYWdOYW1lKHNjcmlwdEFyZylbMF07XHJcbiAgICAgICAgICAgICAgICBsZXQgaiA9IDxIVE1MU2NyaXB0RWxlbWVudD5kb2N1bWVudEFyZy5jcmVhdGVFbGVtZW50KHNjcmlwdEFyZyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGwgPSBkYXRhTGF5ZXJBcmcgIT09IFwiZGF0YUxheWVyXCIgPyBcIiZsPVwiICsgZGF0YUxheWVyQXJnIDogXCJcIjtcclxuICAgICAgICAgICAgICAgIGouYXN5bmMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgai5zcmMgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZXRhZ21hbmFnZXIuY29tL2d0bS5qcz9pZD1cIiArIEdUTUlkICsgZGw7XHJcbiAgICAgICAgICAgICAgICBmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGosIGYpO1xyXG4gICAgICAgICAgICB9KSh3aW5kb3csIGRvY3VtZW50LCBcInNjcmlwdFwiLCBcIk1HMkRMXCIsIGNvbnRhaW5lcklkKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZW5kVGFnKGV2ZW50TmFtZTogc3RyaW5nLCBldmVudFBheWxvYWQ/OiBvYmplY3QpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBldmVudFBheWxvYWRbXCJldmVudFwiXSA9IGV2ZW50TmFtZTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIlNlbmRpbmcgVGFnLi4uLiBcIiwgZXZlbnROYW1lLCBldmVudFBheWxvYWQpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5pbmZvKFwiU2VuZGluZyBUYWcgUGF5bG9hZCBcIiwgZXZlbnRQYXlsb2FkLCB0aGlzLl9kYXRhTGF5ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLl9kYXRhTGF5ZXIucHVzaChldmVudFBheWxvYWQpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRETFYodmFyTmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJzZXRETFZcIiwgdmFyTmFtZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICBsZXQgb2JqID0ge307XHJcbiAgICAgICAgICAgIG9ialt2YXJOYW1lXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLl9kYXRhTGF5ZXIucHVzaChvYmopO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIGV4cG9ydCBsZXQgVGFnTWFuYWdlciA9IFRhZ01hbmFnZXJTaW5nbGV0b24uSW5zdGFuY2U7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL1RhZ01hbmFnZXJTZXJ2aWNlLnRzIiwiaW1wb3J0IHsgQm90TW9kZWwgfSBmcm9tIFwiLi9Cb3RNb2RlbFwiO1xyXG5pbXBvcnQgeyBCb3RMaXN0IH0gZnJvbSBcIi4vQm90TGlzdFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJvdERldGVjdG9yIHtcclxuICAgIGRldGVjdEJvdDogQm90TW9kZWw7XHJcblxyXG4gICAgY29uc3RydWN0b3IodXNlckFnZW50SW5mbz8pIHtcclxuICAgICAgICBpZih3aW5kb3cuRGV2aWNlRGV0ZWN0b3IgJiYgd2luZG93LkRldmljZURldGVjdG9yLkRldmljZSl7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0ZWN0Qm90ID0gd2luZG93LkRldmljZURldGVjdG9yLkRldmljZS5ib3Q7XHJcbiAgICAgICAgICAgIHJldHVybiBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB1c2VyQWdlbnQgPSB1c2VyQWdlbnRJbmZvIHx8IG5hdmlnYXRvci51c2VyQWdlbnQ7XHJcbiAgICAgICAgbGV0IGJvdFJlZ0V4cExlbmd0aCA9IEJvdExpc3QubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm90UmVnRXhwTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoQm90TGlzdFtpXS5yZWdleCkudGVzdCh1c2VyQWdlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRldGVjdEJvdCA9IG5ldyBCb3RNb2RlbChCb3RMaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXREZXRlY3RCb3QoKTogQm90TW9kZWx8bnVsbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGV0ZWN0Qm90IHx8IG51bGw7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvYm90RGV0ZWN0aW9uL0JvdERldGVjdG9yLnRzIiwiZXhwb3J0IGNvbnN0IE1JU0NfVFlQRVMgPSB7XHJcbiAgICBQcm9taXNlOiBcInByb21pc2VcIixcclxuICAgIFNlbGVjdG9yOiBcInNlbGVjdG9yXCIsXHJcbiAgICBKYXZhc2NyaXB0OiBcImphdmFzY3JpcHRcIixcclxuICAgIENvbW1hbmQ6IFwiY29tbWFuZFwiXHJcbn07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1pc2NPcHRpb25zSW50ZXJmYWNlIHtcclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIGtleTogc3RyaW5nO1xyXG4gICAgdmFsdWU6IGFueTtcclxuICAgIGVuYWJsZUdBPzogYm9vbGVhbjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBDT01NQU5EX1RZUEVTID0ge1xyXG4gICAgR0VUX0NPT0tJRV9CWV9OQU1FOiBcImdldF9jb29raWVfYnlfbmFtZVwiXHJcbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2NvbmZpZ01vZHVsZS9vcHRpb25zL21vZGVscy9NaXNjT3B0aW9uc0ludGVyZmFjZS50cyIsImV4cG9ydCBjbGFzcyBDb252ZXJzYXRpb25NYW5hZ2VyQ2xhc3Mge1xyXG4gICAgZ2V0Q3VycmVudENvbnZlcnNhdGlvbigpIHtcclxuICAgICAgICBpZiAod2luZG93LkNvbm5leHQpIHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRDb252ZXJzYXRpb247XHJcbiAgICAgICAgICAgIGlmICgoPGFueT53aW5kb3cpLk54dElubmVyKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Q29udmVyc2F0aW9uID0gKDxhbnk+d2luZG93KS5OeHRJbm5lci5TdG9yYWdlLkdldEN1cnJlbnRDb252ZXJzYXRpb24oKTsvLyB2ZXJzaW9uID4yLjUgXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbnZlcnNhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50Q29udmVyc2F0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudENvbnZlcnNhdGlvbiA9IHdpbmRvdy5Db25uZXh0LlN0b3JhZ2UuR2V0Q3VycmVudENvbnZlcnNhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDb252ZXJzYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudENvbnZlcnNhdGlvbjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5Dbm5YdC5TdG9yYWdlLkdldEN1cnJlbnRDb252ZXJzYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICAvLyBUT0RPIG5lZWQgcmVmYWN0b3IgLSBnZXRDdXJyZW50IHZlcnNpb24gXHJcblxyXG4gICAgcHVibGljIGdldFZlcnNpb24oKTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCByZWdleCA9IC9bKy1dP1xcZCsoXFwuXFxkKyk/L2c7XHJcbiAgICAgICAgY29uc3QgZmluZE51bWJlcnMgPSB3aW5kb3cuQ29ubmV4dC5HZXRWZXJzaW9uKCkubWF0Y2gocmVnZXgpO1xyXG4gICAgICAgIHJldHVybiBmaW5kTnVtYmVycyA/IGZpbmROdW1iZXJzWzBdIDogbnVsbDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDb252ZXJzYXRpb25NYW5hZ2VyID0gbmV3IENvbnZlcnNhdGlvbk1hbmFnZXJDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25uZXh0TW9kdWxlL2NsYXNzZXMvQ29udmVyc2F0aW9uTWFuYWdlci50cyIsImltcG9ydCB7IE1pc2NPcHRpb25zSW50ZXJmYWNlLCBNSVNDX1RZUEVTIH0gZnJvbSBcIkBNb2R1bGVzL2NvbmZpZ01vZHVsZS9vcHRpb25zL21vZGVscy9NaXNjT3B0aW9uc0ludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBKYXZhc2NyaXB0TW9kZWwgfSBmcm9tIFwiLi9tb2RlbHMvSmF2YXNjcmlwdE1vZGVsXCI7XHJcbmltcG9ydCB7IFByb21pc2VNb2RlbCB9IGZyb20gXCIuL21vZGVscy9Qcm9taXNlTW9kZWxcIjtcclxuaW1wb3J0IHsgU2VsZWN0b3JNb2RlbCB9IGZyb20gXCIuL21vZGVscy9TZWxlY3Rvck1vZGVsXCI7XHJcbmltcG9ydCB7IENvbW1hbmRNb2RlbCB9IGZyb20gXCIuL21vZGVscy9Db21tYW5kTW9kZWxcIjtcclxuaW1wb3J0IHsgTWlzY01vZGVsSW50ZXJmYWNlIH0gZnJvbSBcIi4vbW9kZWxzL01pc2NNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBUYWdNYW5hZ2VyU2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9JbmRleFwiO1xyXG5cclxuY2xhc3MgTWlzY01vZHVsZUNsYXNzIHtcclxuICAgIHByaXZhdGUgbW9kZWxzOiBNaXNjTW9kZWxJbnRlcmZhY2VbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cclxuICAgIHByb2Nlc3Mob3B0aW9uczogTWlzY09wdGlvbnNJbnRlcmZhY2VbXSA9IFtdKSB7XHJcbiAgICAgICAgaWYgKCFvcHRpb25zPy5sZW5ndGgpIHJldHVybjtcclxuICAgICAgICB0aGlzLm1vZGVscyA9IFtdO1xyXG4gICAgICAgIHRoaXMucmVzdWx0ID0ge307XHJcbiAgICAgICAgdGhpcy5zZXR1cChvcHRpb25zKTtcclxuICAgICAgICB0aGlzLnN0YXJ0Q29sbGVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR1cChvcHRpb25zOiBNaXNjT3B0aW9uc0ludGVyZmFjZVtdKSB7XHJcbiAgICAgICAgb3B0aW9ucy5mb3JFYWNoKChvcHRpb24pID0+IHtcclxuICAgICAgICAgICAgbGV0IG1vZGVsOiBNaXNjTW9kZWxJbnRlcmZhY2UgPSBudWxsO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wdGlvbi50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1JU0NfVFlQRVMuSmF2YXNjcmlwdDpcclxuICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IG5ldyBKYXZhc2NyaXB0TW9kZWwob3B0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTUlTQ19UWVBFUy5Qcm9taXNlOlxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsID0gbmV3IFByb21pc2VNb2RlbChvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNSVNDX1RZUEVTLlNlbGVjdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsID0gbmV3IFNlbGVjdG9yTW9kZWwob3B0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTUlTQ19UWVBFUy5Db21tYW5kOlxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsID0gbmV3IENvbW1hbmRNb2RlbChvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbHMucHVzaChtb2RlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXJ0Q29sbGVjdCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1vZGVscy5mb3JFYWNoKChtb2RlbDogTWlzY01vZGVsSW50ZXJmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgIG1vZGVsLmdldERhdGEoKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHR5cGVvZiBkYXRhLnZhbHVlID09PSBcIm9iamVjdFwiID8gSlNPTi5zdHJpbmdpZnkoZGF0YS52YWx1ZSkgOiBTdHJpbmcoZGF0YS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdFtkYXRhLm1pc2NLZXldID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZW5hYmxlR0EpIHtcclxuICAgICAgICAgICAgICAgICAgICBUYWdNYW5hZ2VyU2VydmljZS5JbnN0YW5jZS5zZXRETFYoZGF0YS5taXNjS2V5LCBkYXRhLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7fSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBNaXNjTW9kdWxlID0gbmV3IE1pc2NNb2R1bGVDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9taXNjTW9kdWxlL01pc2NNb2R1bGUudHMiLCJpbXBvcnQgeyBDb250ZW50U2VydmljZSB9IGZyb20gXCIuL2NsYXNzZXMvQ29udGVudFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ29udGVudE1vZGVsIH0gZnJvbSBcIi4vbW9kZWxzL0NvbnRlbnRNb2RlbFwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSwgTG9nZ2VyIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuXHJcbmNsYXNzIFBhZ2VNb2R1bGVDbGFzcyB7XHJcbiAgICBpc0NoZWNrZWRBcnRpY2xlSW5DZHAgPSBmYWxzZTtcclxuICAgIHBhZ2VDb250ZW50OiBDb250ZW50TW9kZWw7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJQYWdlTW9kdWxlXCIpO1xyXG5cclxuICAgIHByaXZhdGUgc3Vic2NyaWJlUGFnZUxlYXZlKCkge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IFV0aWxzLmdldFBhZ2VMZWF2ZUV2ZW50VHJpZ2dlcigpO1xyXG4gICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIod2luZG93LCBldmVudE5hbWUsIChlOiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNDaGVja2VkQXJ0aWNsZUluQ2RwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhcnRpY2xlTm90RXhpc3RBcHByb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgQ29udGVudFNlcnZpY2Uuc2VuZENvbnRlbnRJbkNkcCh0aGlzLnBhZ2VDb250ZW50LCBhcnRpY2xlTm90RXhpc3RBcHByb3ZlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kQ29udGVudFRvQ2RwKCkge1xyXG4gICAgICAgIGxldCBhcnRpY2xlTm90RXhpc3RBcHByb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlUGFnZUxlYXZlKCk7XHJcbiAgICAgICAgdGhpcy5wYWdlQ29udGVudCA9IENvbnRlbnRTZXJ2aWNlLmdldFBhZ2VDb250ZW50KCk7XHJcbiAgICAgICAgaWYgKHRoaXMucGFnZUNvbnRlbnQuaXNBcnRpY2xlKCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFnZUNvbnRlbnQuQ29udGVudElkKSB7XHJcbiAgICAgICAgICAgICAgICBDb250ZW50U2VydmljZS5jb250ZW50RXhpc3RzSW5DZHAodGhpcy5wYWdlQ29udGVudC5Db250ZW50SWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hlY2tlZEFydGljbGVJbkNkcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LmV4aXN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJ0aWNsZU5vdEV4aXN0QXBwcm92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlQ29udGVudFtcImFydGljbGVfaWRcIl0gPSByZXN1bHRbXCJhcnRpY2xlX2lkXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29udGVudFNlcnZpY2Uuc2VuZENvbnRlbnRJbkNkcCh0aGlzLnBhZ2VDb250ZW50LCBhcnRpY2xlTm90RXhpc3RBcHByb3ZlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGVja2VkQXJ0aWNsZUluQ2RwID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNDaGVja2VkQXJ0aWNsZUluQ2RwID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGFydGljbGVOb3RFeGlzdEFwcHJvdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIENvbnRlbnRTZXJ2aWNlLnNlbmRDb250ZW50SW5DZHAodGhpcy5wYWdlQ29udGVudCwgYXJ0aWNsZU5vdEV4aXN0QXBwcm92ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pc0NoZWNrZWRBcnRpY2xlSW5DZHAgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRBcnRpY2xlU3RhdHMoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICB0aGlzLnBhZ2VDb250ZW50ID0gQ29udGVudFNlcnZpY2UuZ2V0UGFnZUNvbnRlbnQoKTtcclxuICAgICAgICBpZiAodGhpcy5wYWdlQ29udGVudC5pc0FydGljbGUoKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wYWdlQ29udGVudC5Db250ZW50SWQpIHtcclxuICAgICAgICAgICAgICAgICByZXR1cm4gQ29udGVudFNlcnZpY2UuZ2V0QXJ0aWNsZVN0YXRzKHRoaXMucGFnZUNvbnRlbnQuQ29udGVudElkKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ29udGVudElkIGlzIG5vdCBkZWZpbmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlRoaXMgcGFnZSBpcyBub3QgYXJ0aWNsZVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgUGFnZU1vZHVsZSA9IG5ldyBQYWdlTW9kdWxlQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvcGFnZU1vZHVsZS9QYWdlTW9kdWxlLnRzIiwiLy8gaW1wb3J0IHtMb2dMZXZlbH0gZnJvbSBcIi4vTG9nZ2VyT3B0aW9uc1wiO1xyXG4vLyBpbXBvcnQge0xPR19MRVZFTF9TVFlMRX0gZnJvbSBcIi4vTG9nZ2VyT3B0aW9uc1wiO1xyXG5pbXBvcnQgeyBMb2dMZXZlbCwgTE9HX0xFVkVMX1NUWUxFLCBMT0dfTEVWRUxfU1RZTEUyIH0gZnJvbSBcIi4vTG9nZ2VyLkNvcmVcIjtcclxuY29uc3Qgbm9vcCA9ICgpOiBhbnkgPT4gdW5kZWZpbmVkO1xyXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcclxuICAgIHByaXZhdGUgX2xvZ1ByZWZpeCA9IFwiJWM8PEcyQW5hbHl0aWNzPj5cIjtcclxuICAgIHByaXZhdGUgX2NsYXNzTmFtZTogc3RyaW5nID0gXCJHZW5lcmFsXCI7XHJcbiAgICBwcml2YXRlIF9lbmFibGVkOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHByaXZhdGUgX2xvZ0xldmVsOiBMb2dMZXZlbCA9IExvZ0xldmVsLkRlYnVnO1xyXG4gICAgcHJpdmF0ZSBfc3R5bGU6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2xhc3NOYW1lOiBzdHJpbmcsIGVuYWJsZWQ6IGJvb2xlYW4sIGxvZ0xldmVsOiBMb2dMZXZlbCwgc3R5bGU/OiBhbnkpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkxvZ2dlci5DVE9SXCIsIGNsYXNzTmFtZSwgZW5hYmxlZCwgbG9nTGV2ZWwsIHN0eWxlKTtcclxuICAgICAgICB0aGlzLl9jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGVuYWJsZWQ7XHJcbiAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSBsb2dMZXZlbDtcclxuICAgICAgICB0aGlzLl9zdHlsZSA9IHN0eWxlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRFbmFibGVkKHZhbDogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGxldCBjbHNOYW1lID0gdGhpcy5fY2xhc3NOYW1lO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdMb2dnZXIuc2V0RW5hYmxlZCA9PSAnLCBjbHNOYW1lLCB2YWwpO1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldExvZ0xldmVsKGxldmVsOiBMb2dMZXZlbCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdMb2dnZXIuc2V0TG9nTGV2ZWwgPT0gJywgdGhpcy5fY2xhc3NOYW1lLCBsZXZlbCk7XHJcbiAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSBsZXZlbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZvcm1hdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbG9nUHJlZml4ICsgXCJbXCIgKyB0aGlzLl9jbGFzc05hbWUgKyBcIl0gXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRTdHlsZShsb2dMZXZlbDogTG9nTGV2ZWwpIHtcclxuICAgICAgICBsZXQgc3R5bGU7XHJcbiAgICAgICAgbGV0IGJnID0gXCJub25lXCI7XHJcbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlKSB7XHJcbiAgICAgICAgICAgIHN0eWxlID0gdGhpcy5fc3R5bGVcclxuICAgICAgICAgICAgYmcgPSBMT0dfTEVWRUxfU1RZTEUyW2xvZ0xldmVsXS5iZztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdHlsZSA9IExPR19MRVZFTF9TVFlMRVtsb2dMZXZlbF07XHJcbiAgICAgICAgICAgIGJnID0gTE9HX0xFVkVMX1NUWUxFMltsb2dMZXZlbF0uYmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiYmdcIiwgYmcpO1xyXG4gICAgICAgIHJldHVybiBbXCJjb2xvcjpcIiArIHN0eWxlICsgXCI7Zm9udC13ZWlnaHQ6Ym9sZDtcIl07XHJcbiAgICAgICAgLy8gcmV0dXJuIFtcImNvbG9yOlwiICsgc3R5bGUgKyBcIjtmb250LXdlaWdodDpib2xkO2JhY2tncm91bmQ6XCIgKyBiZyArIFwiO1wiXTtcclxuICAgICAgICAvLyByZXR1cm4gW1wiY29sb3I6IzAwNDAwMDtmb250LXdlaWdodDpib2xkO2JhY2tncm91bmQ6cmdiYSg1MSwgMTcwLCA1MSwgLjEpXCJdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkZWJ1ZygpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoTG9nTGV2ZWwuRGVidWcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmRlYnVnLmJpbmQoY29uc29sZSwgdGhpcy5mb3JtYXQoKSwgdGhpcy5nZXRTdHlsZShMb2dMZXZlbC5EZWJ1ZykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub29wO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW5mbygpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoTG9nTGV2ZWwuSW5mbykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUuaW5mby5iaW5kKGNvbnNvbGUsIHRoaXMuZm9ybWF0KCksIHRoaXMuZ2V0U3R5bGUoTG9nTGV2ZWwuSW5mbykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub29wO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgd2FybigpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoTG9nTGV2ZWwuV2FybikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUsIHRoaXMuZm9ybWF0KCksIHRoaXMuZ2V0U3R5bGUoTG9nTGV2ZWwuV2FybikpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub29wO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXJyb3IoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKExvZ0xldmVsLkVycm9yKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUsIHRoaXMuZm9ybWF0KCksIHRoaXMuZ2V0U3R5bGUoTG9nTGV2ZWwuRXJyb3IpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZhdGFsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZChMb2dMZXZlbC5GYXRhbCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlLCB0aGlzLmZvcm1hdCgpLCB0aGlzLmdldFN0eWxlKExvZ0xldmVsLkZhdGFsKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB0cmFjZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoTG9nTGV2ZWwuVHJhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmRlYnVnLmJpbmQoY29uc29sZSwgdGhpcy5mb3JtYXQoKSwgdGhpcy5nZXRTdHlsZShMb2dMZXZlbC5UcmFjZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub29wO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiBQUklWQVRFICovXHJcbiAgICAvKlRPRE86IENyZWF0ZSBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgdGhlIHByZWZhY2UgYW5kIGFsc28gaGFuZGxlcyBjb25zb2xlIGNvbG9yaXplIGRlcGVuZGluZyBvbiBicm93c2VyIChJRSBkb2VzIG5vdCBzdXBwb3J0IGNvbG9ycywgc28gc3R5bGUgaXMgcHJpbnRlZCkgKi9cclxuICAgIHByaXZhdGUgaXNFbmFibGVkKGxvZ0xldmVsOiBMb2dMZXZlbCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChsb2dMZXZlbCA+PSB0aGlzLl9sb2dMZXZlbCAmJiB0aGlzLl9lbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL3V0aWxzL2xvZ2dlci9Mb2dnZXIudHMiLCJpbXBvcnQgeyBQdWJsaWNQbHVnaW4gfSBmcm9tIFwiLi9wbHVnaW4vUHVibGljUGx1Z2luXCI7XHJcbmltcG9ydCB7IERMQ2RwUHVibGljIH0gZnJvbSBcIi4vcGx1Z2luL0RMQ2RwUHVibGljXCI7XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgICBpbnRlcmZhY2UgV2luZG93IHtcclxuICAgICAgICBDbm5YdDogYW55O1xyXG4gICAgICAgIENvbm5leHQ6IGFueTtcclxuICAgICAgICBGcHJpbnRpbmc6IGFueTtcclxuICAgICAgICBGaW5nZXJwcmludDogYW55O1xyXG4gICAgICAgIEZpbmdlcnByaW50MjogYW55O1xyXG4gICAgICAgIGcyaV9kbDogRExDZHBQdWJsaWM7XHJcbiAgICAgICAgZzJFeHRlbmRJbml0czogYW55O1xyXG4gICAgICAgIERldmljZURldGVjdG9yIDogRGV2aWNlRGV0ZWN0b3JMaWI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXZpY2VEZXRlY3RvckxpYiB7XHJcbiAgICBEZXZpY2U6IGFueSxcclxuICAgIFVBOiBhbnksXHJcbiAgICBCcm93c2VyczogQXJyYXk8YW55PlxyXG4gICAgT3NMaXN0OiAgQXJyYXk8YW55PixcclxuICAgIFBsYXRmb3JtczogIEFycmF5PGFueT5cclxufVxyXG5cclxubGV0IHBsdWdpbkluc3RhbmNlID0gbmV3IFB1YmxpY1BsdWdpbigpO1xyXG4oPGFueT53aW5kb3cpLkcyQW5hbHl0aWNzID0gcGx1Z2luSW5zdGFuY2U7XHJcbig8YW55PndpbmRvdykuRzJJbnNpZ2h0cyA9IHBsdWdpbkluc3RhbmNlO1xyXG4oPGFueT53aW5kb3cpLk1HMkluc2lnaHRzID0gcGx1Z2luSW5zdGFuY2U7XHJcbmxldCBNRzJETCA9IHdpbmRvd1tcIkcyQW5hbHl0aWNzXCJdLkRhdGFMYXllcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvaW5kZXgudHMiLCIvLyBwcmV2ZW50IGZhaWxlZCBpbiB0ZXN0cyAtIHVzZSB2YWxpZCBVUkxcclxuY29uc3QgaXNSZXBsYWNlZEJ5Q0kgPSAocmVwbGFjZWRDSVBhdHRlcm46IHN0cmluZykgPT4gIXJlcGxhY2VkQ0lQYXR0ZXJuLnN0YXJ0c1dpdGgoXCIjXCIpICYmICFyZXBsYWNlZENJUGF0dGVybi5lbmRzV2l0aChcIiNcIik7XHJcblxyXG5jb25zdCBldmVudHNVcmxDSSA9IFwiI3tfX21sLWFwaS1ldmVudHMtdXJsX199I1wiO1xyXG5jb25zdCBldmVudHNVcmxGYWxsYmFjayA9IFwiaHR0cHM6Ly9ldmVudHMubWcyaW5zaWdodHMuY29tXCI7XHJcbmxldCBldmVudHNVcmwgPSBpc1JlcGxhY2VkQnlDSShldmVudHNVcmxDSSkgPyBldmVudHNVcmxDSSA6IGV2ZW50c1VybEZhbGxiYWNrO1xyXG5cclxuY29uc3QgYXBpVXJsQ0kgPSBcIiN7X19tbC1hcGktdXJsX199I1wiO1xyXG5jb25zdCBhcGlVcmxGYWxsYmFjayA9IFwiaHR0cHM6Ly9hcGkubWcyaW5zaWdodHMuY29tXCI7XHJcbmxldCBhcGlVcmwgPSBpc1JlcGxhY2VkQnlDSShhcGlVcmxDSSkgPyBhcGlVcmxDSSA6IGFwaVVybEZhbGxiYWNrO1xyXG5cclxuZXhwb3J0IGNvbnN0IENvbW1vbkNvbmZpZ0RhdGEgPSB7XHJcbiAgICBldmVudHNVcmw6ICBldmVudHNVcmwgKyBcIi9ldmVudHNcIixcclxuICAgIGFwaVVybDogIGFwaVVybCArIFwiL1wiXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9jb25maWcvQ29tbW9uQ29uZmlnRGF0YS50cyIsImltcG9ydCB7IENkcE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlXCI7XHJcbmltcG9ydCB7IEFwaURsSW50ZXJmYWNlIH0gZnJvbSBcIkBNb2R1bGVzL2NkcE1vZHVsZS9pbnRlcmZhY2VzL0FwaURsSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IFBhZ2VNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvcGFnZU1vZHVsZS9QYWdlTW9kdWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRExDZHBQdWJsaWMge1xyXG5cclxuICAgIHB1YmxpYyBnZXRVc2VyRGF0YSgpOlByb21pc2U8QXBpRGxJbnRlcmZhY2U+e1xyXG4gICAgICAgIHJldHVybiBDZHBNb2R1bGUuZ2V0RGxJbmZvcm1hdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBcnRpY2xlU3RhdHMoKTpQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBQYWdlTW9kdWxlLmdldEFydGljbGVTdGF0cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRSZWNvbW1lbmRhdGlvbnNTdGF0cygpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGNvbnN0IGlzU2hvd0NhdGVnb3J5ID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gQ2RwTW9kdWxlLmdldFJlY29tbWVuZGF0aW9ucyhpc1Nob3dDYXRlZ29yeSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0UmVjb21tZW5kYXRpb25zKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgY29uc3QgaXNTaG93Q2F0ZWdvcnkgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4gQ2RwTW9kdWxlLmdldFJlY29tbWVuZGF0aW9ucyhpc1Nob3dDYXRlZ29yeSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEludGVyZXN0c1N0YXRzKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIENkcE1vZHVsZS5nZXRVc2VySW50ZXJlc3RzU3RhdHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RXJTdGF0cygpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBDZHBNb2R1bGUuZ2V0RXJJbnRlcnByZXRhdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBcGlWZXJzaW9uKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIENkcE1vZHVsZS5nZXRBcGlWZXJzaW9uKCkudGhlbih2ZXJzaW9uRGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGhlIHZlcnNpb24gb2YgdGhlIHBsYXRmb3JtIC1cIiArIHZlcnNpb25EYXRhLnZlcnNpb24pO1xyXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRoZSB2ZXJzaW9uIGlzIG5vdCBnZXQuIEVycm9yIC1cIiArIGVycm9yKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9ETENkcFB1YmxpYy50cyIsImltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlXCI7XHJcbmltcG9ydCB7IENkcENvbGxlY3Rvck1vZHVsZSB9IGZyb20gXCIuL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwQ29sbGVjdG9yTW9kdWxlXCI7XHJcbmltcG9ydCB7IENkcE1vZHVsZSB9IGZyb20gXCIuL21vZHVsZXMvY2RwTW9kdWxlL0NkcE1vZHVsZVwiO1xyXG5pbXBvcnQgeyBHdG1UYWdNb2R1bGUgfSBmcm9tIFwiLi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvR3RtVGFnTW9kdWxlXCI7XHJcbmltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuL3V0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBUYWdNYW5hZ2VyU2VydmljZSB9IGZyb20gXCIuL2RhdGEvc2VydmljZXMvVGFnTWFuYWdlclNlcnZpY2VcIjtcclxuaW1wb3J0IHsgSVRhZ01hbmFnZXJTZXJ2aWNlLCBNZXRhRGF0YVNlcnZpY2UsIEV2ZW50U2VydmljZSB9IGZyb20gXCIuL2RhdGEvc2VydmljZXMvSW5kZXhcIjtcclxuaW1wb3J0IHsgQXp1cmVTZXJ2aWNlIH0gZnJvbSBcIi4vZGF0YS9zZXJ2aWNlcy9BenVyZVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tIFwiLi9kYXRhL3NlcnZpY2VzL1Nlc3Npb25TZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvb2tpZXNTdG9yYWdlIH0gZnJvbSBcIkBDb3JlL3N0b3JhZ2VzL2Nvb2tpZXMvQ29va2llc1N0b3JhZ2VcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4vY29yZS9jb25zdGFudHMvQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IE9wdGlvbnNJbnRlcmZhY2UgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL29wdGlvbnMvbW9kZWxzL09wdGlvbnNJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgUGFnZU1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9wYWdlTW9kdWxlL1BhZ2VNb2R1bGVcIjtcclxuaW1wb3J0IHsgRGV2aWNlRGV0ZWN0b3IgfSBmcm9tIFwiQFV0aWxzL0RldmljZURldGVjdG9yXCI7XHJcbmltcG9ydCB7IERMQ2RwUHVibGljIH0gZnJvbSBcIi4vRExDZHBQdWJsaWNcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IERldmljZU1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9kZXZpY2VNb2R1bGUvRGV2aWNlTW9kdWxlXCI7XHJcbmltcG9ydCB7IE1pc2NNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvbWlzY01vZHVsZS9NaXNjTW9kdWxlXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFBsdWdpbkNsYXNzIHtcclxuICAgIHByaXZhdGUgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBhenVyZVNlcnZpY2U6IEF6dXJlU2VydmljZTtcclxuICAgIHByaXZhdGUgdGFnTWFuYWdlclNlcnZpY2U6IElUYWdNYW5hZ2VyU2VydmljZTtcclxuICAgIHByaXZhdGUgZGltZW5zaW9uU2VydmljZTogTWV0YURhdGFTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiUGx1Z2luXCIpO1xyXG4gICAgcHJpdmF0ZSBkZXZpY2VJZDogc3RyaW5nO1xyXG5cclxuICAgIGdldCBEYXRhTGF5ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGFnTWFuYWdlclNlcnZpY2UuZ2V0RGF0YUxheWVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCIqKioqIEcySW5zaWdodHMgSW5pdGlhbGl6aW5nICoqKipcIik7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uU2VydmljZSA9IFNlc3Npb25TZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuYXp1cmVTZXJ2aWNlID0gQXp1cmVTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMudGFnTWFuYWdlclNlcnZpY2UgPSBUYWdNYW5hZ2VyU2VydmljZS5JbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvblNlcnZpY2UgPSBNZXRhRGF0YVNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBpbml0KG9wdHM6IE9wdGlvbnNJbnRlcmZhY2UpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBEZXZpY2VEZXRlY3Rvci5nZXREZXZpY2VJZCgpXHJcbiAgICAgICAgICAgIC50aGVuKChkZXZpY2VJZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWdNYW5hZ2VyU2VydmljZS5zZXRETFYoXCJmaW5nZXJQcmludElkXCIsIGRldmljZUlkKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goKCk9PntcclxuICAgICAgICAgICAgICAgIGNvbnN0IGd1aWQgPSBcImd1aWQtXCIrIFV0aWxzLmNyZWF0ZUdVSUQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFnTWFuYWdlclNlcnZpY2Uuc2V0RExWKFwiZmluZ2VyUHJpbnRJZFwiLCBndWlkKTtcclxuICAgICAgICAgICAgICAgIERldmljZURldGVjdG9yLnNldENhbGN1bGF0ZWREZXZpY2VJZChndWlkKTtcclxuICAgICAgICAgICAgICAgIEV2ZW50U2VydmljZS5JbnN0YW5jZS5zZW5kVGFnQ29sbGVjdGVkRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBpZiAoIW9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IFwiTm8gT3B0aW9ucyBQYXNzZWQgSW5cIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuUGx1Z2luc0V2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgQ29uZmlnTW9kdWxlLnNldEluaXRPcHRpb25zKG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGluaXRNb2RlbCA9IENvbmZpZ01vZHVsZS5nZXRJbml0Q29uZmlndXJhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJJbml0aWFsaXppbmcgRzJBbmFseXRpY3Mgd2l0aCBvcHRpb25zLi4uXCIsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLkluc3RhbmNlLnJlc2VuZEZhaWxlZEV2ZW50cygpOyAvLyBtdXN0IGJlIGFmdGVyIGluaXQgY29uZmlnXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5pdE1vZGVsLmRlYnVnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgaGF2ZSBwYXNzZWQgaW4gZGVidWcgc2V0dGluZyBhbmQgaXQgaXMgdHJ1ZSwgc28gc2V0IGNvb2tpZS5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgQ29va2llc1N0b3JhZ2Uuc2V0KENvbnN0YW50cy5jb29raWVzLkxvZ0VuYWJsZWQsIGluaXRNb2RlbC5kZWJ1Zy50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghaW5pdE1vZGVsLmNvbnRhaW5lcklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJObyBDb250YWluZXIgSWQgU2V0XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluaXRNb2RlbC5jb2xsZWN0b3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJObyBDb2xsZWN0b3JzIFNldFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRNb2RlbC5zZXNzaW9uSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkhhcyBTZXNzaW9uSWQgUGFnZVNlc3Npb25JZCBYWFguLi4uXCIsIGluaXRNb2RlbC5zZXNzaW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvblNlcnZpY2UuUGFnZVNlc3Npb25JZCA9IGluaXRNb2RlbC5zZXNzaW9uSWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBoYXZlIHBhc3NlZCBpbiBhbmFseXNpcyBvcHRpb25zLCBzZXQgdGhlc2Ugb3B0aW9ucyB0byB0aGUgc2VydmljZS5cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpbWVuc2lvblNlcnZpY2Uuc2V0dXAoaW5pdE1vZGVsLmRpbWVuc2lvbnMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpbml0TW9kZWwuYW5hbHlzaXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF6dXJlU2VydmljZS5zZXR1cChpbml0TW9kZWwuYW5hbHlzaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuam9obkF6dXJlU2VydmljZS5zZXR1cChvcHRzLmFuYWx5c2lzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpbml0TW9kZWwuY29sbGVjdG9ycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbml0TW9kZWwuY2RwICYmIGluaXRNb2RlbC5jZHAuZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VNb2R1bGUuc2V0dXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2RwQ29sbGVjdG9yTW9kdWxlLnNldHVwKGluaXRNb2RlbC5jb2xsZWN0b3JzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmcyaV9kbCA9IG5ldyBETENkcFB1YmxpYygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDZHBNb2R1bGUuc2V0RGxJbmZvcm1hdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQYWdlTW9kdWxlLnNlbmRDb250ZW50VG9DZHAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgR3RtVGFnTW9kdWxlLnNldHVwKGluaXRNb2RlbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRNb2RlbC5taXNjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTWlzY01vZHVsZS5wcm9jZXNzKGluaXRNb2RlbC5taXNjKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIGNhbGwgdGhpcyBmaXJzdCBzbyB3ZSBjYW4gbG9hZCBHQSBhbmQgR1RNXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhZ01hbmFnZXJTZXJ2aWNlLnNldHVwKGluaXRNb2RlbC5jb250YWluZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAvLyAvLyBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICB0aGlzLmF6dXJlU2VydmljZS5zZW5kRGF0YShcImcyaU9uSW5pdFwiKTtcclxuICAgICAgICAgICAgICAgIC8vIC8vIH0sIDMwMDApO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5qb2huQXp1cmVTZXJ2aWNlLnNlbmREYXRhKFwiZzJpT25Jbml0XCIpO1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogR2V0L1NldCBGcElkIC0tIG1heWJlIHNldCBmcElkIGluIHVzZXJTZXJ2aWNlXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBGaXJlIGcyT25Jbml0IHRvIEF6dXJlU2VydmljZSAtLSBzZXJ2aWNlIHdpbGwgdGFrZSBjYXJlIG9mIHNlbmRpbmcgZGF0YSBvciBub3QsIHNvIG5vIG5lZWQgdG8gY2hlY2sgaWYgdGhpcyBpcyBlbmFibGVkIGhlcmVcclxuICAgICAgICAgICAgICAgIC8vIC8vIHZhciBlbnRpdHkgPSB7XHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJQYXJ0aXRpb25LZXlcIjogXCJvbkluaXRcIixcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBcIlJvd0tleVwiOiBcIjU3NGE0MDFlMzI5YjgwMWZiMjA0NWNiN2FlMGMxNjQzXCIsXHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJBaUF2YWlsXCI6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJHYUF2YWlsXCI6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJHdG1BdmFpbFwiOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgLy8gLy8gICAgIFwiQ3h0QXZhaWxcIjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBcIlNlc3Npb25JZFwiOiBcIjc4ZDU1ZGU0YTBmNTk3YjMzMGQ0ZjJkODhkNzBhOGMxXCIsXHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJUaW1lc3BhblwiOiAxNTQxODI3MDcwOTk3LFxyXG4gICAgICAgICAgICAgICAgLy8gLy8gICAgIFwiRG9tYWluXCI6IFwid3d3LnN0YXRlc21hbi5jb21cIixcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBcIkJyb3dzZXJcIjogXCJDaHJvbWVcIixcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBcIk9TXCI6IFwid2luZG93c1wiLFxyXG4gICAgICAgICAgICAgICAgLy8gLy8gICAgIFwiUGFnZVwiOiBcIi9lbnRlcnRhaW5tZW50bGlmZS8yMDE4MTEwOS9hdXN0aW5zLWZpcnN0LWhpc3BhbmljLWRldGVjdGl2ZS1zYXctaXQtYWxsXCIsXHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJGUElkXCI6IFwiNTM2ZWNiMTBlOTkwYzQ1M2U5ZmYzMzMwNTY3NzBlMjJcIlxyXG4gICAgICAgICAgICAgICAgLy8gLy8gfVxyXG4gICAgICAgICAgICAgICAgLy8gLy8gdGhpcy5henVyZVNlcnZpY2Uuc2VuZERhdGEoZW50aXR5KTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuY29sbGVjdG9yU2VydmljZS5zZXR1cChvcHRzLmNvbGxlY3RvcnMpO1xyXG4gICAgICAgICAgICAgICAgLy8gaWYob3B0cy5kaW1lbnNpb25zKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmRpbWVuc2lvblNlcnZpY2UucHJvY2VzcyhvcHRzLmRpbWVuc2lvbnMpO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5tZXRhVGFnU2VydmljZS5wcm9jZXNzKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBGaXJlIGcyT25GaW5pc2ggdG8gQXp1cmVTZXJ2aWNlIC0tIHNlcnZpY2Ugd2lsbCB0YWtlIGNhcmUgb2Ygc2VuZGluZyBkYXRhIG9yIG5vdCwgc28gbm8gbmVlZCB0byBjaGVjayBpZiB0aGlzIGlzIGVuYWJsZWQgaGVyZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIkRvbmUgU2V0dGluZyBVcCBDb2xsZWN0b3JzXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFNldExvZ2dlckVuYWJsZWQodmFsOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgTG9nZ2VyU2VydmljZS5zZXRFbmFibGVkKHZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIEdldEN1cnJlbnRDRFBEYXRhKCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmNkcFNlcnZpY2UuQ0RQRGF0YTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBnZXQgQ0RQRGF0YSgpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5jZHBTZXJ2aWNlLkNEUERhdGE7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZ2V0IFF1ZXVlZENEUERhdGEoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuY2RwU2VydmljZS5RdWV1ZWRDRFBEYXRhO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIGdldCBCcm93c2VyU2Vzc2lvbklkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25TZXJ2aWNlLmdldERldmljZVNlc3Npb25JZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBTZXRMb2dMZXZlbChzdHJMb2dMZXZlbDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgTG9nZ2VyU2VydmljZS5zZXRMZXZlbChzdHJMb2dMZXZlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsaXN0ZW5QbHVnaW5zRXZlbnRzKCkge1xyXG4gICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIod2luZG93LCBcIkxvYWRlcjpSZWNhbGN1bGF0ZTpTZXNzaW9uSWRcIiwgKGV2ZW50RGF0YTogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uU2VydmljZS5QYWdlU2Vzc2lvbklkID0gZXZlbnREYXRhLmRldGFpbDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcbmV4cG9ydCBjb25zdCBQbHVnaW4gPSBuZXcgUGx1Z2luQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL1BsdWdpbi50cyIsImltcG9ydCB7IFBsdWdpbiB9IGZyb20gXCIuL1BsdWdpblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFB1YmxpY1BsdWdpbiB7XHJcblxyXG4gICAgaW5pdChpbml0T3B0aW9ucykge1xyXG4gICAgICAgIFBsdWdpbi5pbml0KGluaXRPcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgRGF0YUxheWVyKCkge1xyXG4gICAgICAgIHJldHVybiBQbHVnaW4uRGF0YUxheWVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRMb2dnZXJFbmFibGVkKHZhbDogYW55KSB7XHJcbiAgICAgICAgUGx1Z2luLlNldExvZ2dlckVuYWJsZWQodmFsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0TG9nTGV2ZWwoc3RyTG9nTGV2ZWw6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIFBsdWdpbi5TZXRMb2dMZXZlbChzdHJMb2dMZXZlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFZlcnNpb24oKTogc3RyaW5nIHtcclxuICAgICAgICAvLyB0aGVzZSB2YWx1ZXMgYXJlIGluc2VydGVkIGJ5IENJIFRva2VuaXplclxyXG4gICAgICAgIHJldHVybiBcIlZlcnNpb246IFwiICsgKFwiI3tfX1ZlcnNpb25fX30jXCIgfHwgXCJsb2NhbFwiKVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0VmVyc2lvbkluZm8oKTogc3RyaW5nIHtcclxuICAgICAgICAvLyB0aGVzZSB2YWx1ZXMgYXJlIGluc2VydGVkIGJ5IENJIFRva2VuaXplclxyXG4gICAgICAgIHJldHVybiBcIlZlcnNpb246IFwiICsgKFwiI3tfX1ZlcnNpb25fX30jXCIgfHwgXCJsb2NhbFwiKSArIFwiLCBCdWlsZDogXCIgKyAoXCIje19fQnVpbGQuQnVpbGROdW1iZXJfX30jXCIgfHwgXCJsb2NhbFwiKTtcclxuICAgIH07XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL1B1YmxpY1BsdWdpbi50cyIsImltcG9ydCB7IENvbGxlY3RvckZhY3RvcnkgfSBmcm9tIFwiLi9Db2xsZWN0b3JGYWN0b3J5XCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclwiO1xyXG5pbXBvcnQgeyBDb21tb25FdmVudHNDb2xsZWN0b3IgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29tbW9uRXZlbnRzL0NvbW1vbkV2ZW50c0NvbGxlY3RvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBDZHBNb2R1bGVDbGFzcyB7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJDZHBNb2R1bGVcIik7XHJcbiAgICBwdWJsaWMgQ29sbGVjdE1ldGFUYWdzOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgZmlyZWRFdmVudHMgPSBbXTtcclxuICAgIHB1YmxpYyBzZW5kRXZlbnRzRGVsYXkgPSAwO1xyXG5cclxuXHJcbiAgICAvLyBUT0RPIG5lZWQgZGVsZXRlIGlmIGRvbid0IHJlbWFrZSBBUElcclxuICAgIC8vIHByaXZhdGUgc2VuZEJlYWNvbihldmVudERhdGEpIHtcclxuICAgIC8vICAgICBpZiAoXCJzZW5kQmVhY29uXCIgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICAvLyAgICAgICAgIG5hdmlnYXRvci5zZW5kQmVhY29uKHRoaXMub3B0aW9ucy51cmwsIEpTT04uc3RyaW5naWZ5KGV2ZW50RGF0YSkpO1xyXG4gICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgIGxldCBjbGllbnQgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIC8vICAgICAgICAgY2xpZW50Lm9wZW4oXCJQT1NUXCIsIHRoaXMub3B0aW9ucy51cmwsIGZhbHNlKTtcclxuICAgIC8vICAgICAgICAgY2xpZW50LnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xyXG4gICAgLy8gICAgICAgICBjbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeShldmVudERhdGEpKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIHNldHVwKGNvbGxlY3RvcnM6IEFycmF5PHN0cmluZz4pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgaXNFeGNsdWRlQ29tbW9uUGFnZVZpZXc6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgY29sbGVjdG9ycy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbGxlY3RvclR5cGUgPSBuZXcgQ29sbGVjdG9yRmFjdG9yeShpdGVtKS5jcmVhdGVDb2xsZWN0b3IoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJAIGZvckVhY2guQ29sbGVjdG9yID0gY29sbGVjdG9yVHlwZVwiLCBjb2xsZWN0b3JUeXBlKTtcclxuICAgICAgICAgICAgICAgIGlmICghY29sbGVjdG9yVHlwZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdG9yVHlwZS5yZWdpc3RlckV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbGxlY3RvclR5cGUuaXNIYXZlUGFnZVZpZXdFdmVudCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNFeGNsdWRlQ29tbW9uUGFnZVZpZXcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBjb21tb25FdmVudHMgPSBuZXcgQ29tbW9uRXZlbnRzQ29sbGVjdG9yKGlzRXhjbHVkZUNvbW1vblBhZ2VWaWV3KTtcclxuICAgICAgICAgICAgY29tbW9uRXZlbnRzLnJlZ2lzdGVyRXZlbnRzKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDZHBDb2xsZWN0b3JNb2R1bGUgPSBuZXcgQ2RwTW9kdWxlQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwQ29sbGVjdG9yTW9kdWxlLnRzIiwiaW1wb3J0IHsgQ29sbGVjdG9yVHlwZXMgfSBmcm9tIFwiLi4vY29uc3RhbnRzL0NvbGxlY3RvclR5cGVzXCI7XHJcbmltcG9ydCB7IENvbGxlY3RvciB9IGZyb20gXCIuL0NvbGxlY3RvclwiO1xyXG5pbXBvcnQgeyBDb25uZXh0Q29sbGVjdG9yIH0gZnJvbSBcIi4vY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9Db25uZXh0Q29sbGVjdG9yXCI7XHJcbmltcG9ydCB7IFNwQ29sbGVjdG9yIH0gZnJvbSBcIi4vY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvU3BDb2xsZWN0b3JcIjtcclxuXHJcbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiQENvcmUvYmFzZS9mYWN0b3J5L0ZhY3RvcnlcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb2xsZWN0b3JGYWN0b3J5IGV4dGVuZHMgRmFjdG9yeSB7XHJcblxyXG4gICAgcHJpdmF0ZSBjb2xsZWN0b3JUeXBlOiBDb2xsZWN0b3I7XHJcbiAgICBwcml2YXRlIGNvbGxlY3RvcjtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkNvbGxlY3RvckZhY3RvcnlcIik7XHJcbiAgICBwdWJsaWMgY29sbGVjdE1ldGFUYWdzOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29sbGVjdG9yOiBhbnkpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuY29sbGVjdG9yID0gY29sbGVjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVDb2xsZWN0b3IoKTogQ29sbGVjdG9yIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgY29sbGVjdG9yID0gdGhpcy5jb2xsZWN0b3I7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiQ3JlYXRpbmcgQ29sbGVjdG9yOiBcIiwgY29sbGVjdG9yKTtcclxuICAgICAgICAgICAgc3dpdGNoIChjb2xsZWN0b3IudG9VcHBlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDb2xsZWN0b3JUeXBlcy5Db25uZXh0LnRvVXBwZXJDYXNlKCk6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0TWV0YVRhZ3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdG9yVHlwZSA9IG5ldyBDb25uZXh0Q29sbGVjdG9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENvbGxlY3RvclR5cGVzLlNQLnRvVXBwZXJDYXNlKCk6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0TWV0YVRhZ3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3RvclR5cGUgPSBuZXcgU3BDb2xsZWN0b3IoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQ29sbGVjdG9yVHlwZXMuRmxpdHR6LnRvVXBwZXJDYXNlKCk6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0TWV0YVRhZ3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIk5vdCBhIHZhbGlkIGNvbGxlY3RvclwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdG9yVHlwZTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9Db2xsZWN0b3JGYWN0b3J5LnRzIiwiaW1wb3J0IHsgRXZlbnRTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL0V2ZW50U2VydmljZVwiO1xyXG5pbXBvcnQgeyBNZXRhRGF0YVNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvTWV0YURhdGFTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbGxlY3RvciB9IGZyb20gXCIuLy4uLy4uL0NvbGxlY3RvclwiO1xyXG5pbXBvcnQgKiBhcyBSZWdpc3RlcmVkRXZlbnRzIGZyb20gXCIuL2V2ZW50c1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbm5leHRDb2xsZWN0b3IgZXh0ZW5kcyBDb2xsZWN0b3Ige1xyXG4gICAgZXZlbnRzOiBhbnk7XHJcbiAgICBwcml2YXRlIG1ldGFEYXRhU2VydmljZTogTWV0YURhdGFTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBldmVudFNlcnZpY2U6IEV2ZW50U2VydmljZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMubWV0YURhdGFTZXJ2aWNlID0gTWV0YURhdGFTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuZXZlbnRTZXJ2aWNlID0gRXZlbnRTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gUmVnaXN0ZXJlZEV2ZW50cztcclxuICAgICAgICB0aGlzLnNlbmRNZXRhRGF0YSgpO1xyXG4gICAgICAgIHRoaXMubWV0YURhdGFTZXJ2aWNlLnByb2Nlc3MoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlbmRNZXRhRGF0YSgpIHtcclxuICAgICAgICAvLyBOT1RFOiBub3Qgc2VuZGluZyB0aGlzIGV2ZW50IGJlY2F1c2UgSSBhbSBub3cgaW5jbHVkaW5nIHRoaXMgaW4gYWxsIEdBIGNhbGxzLlxyXG4gICAgICAgIHRoaXMuZXZlbnRTZXJ2aWNlLnNlbmRFdmVudChcIm1ldGFUYWdzQ29sbGVjdGVkXCIsIHRoaXMubWV0YURhdGFTZXJ2aWNlLmFuYWx5dGljc0RpbWVuc2lvbnMpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpc0hhdmVQYWdlVmlld0V2ZW50KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvQ29ubmV4dENvbGxlY3Rvci50cyIsImltcG9ydCB7IENvbm5leHRFdmVudCB9IGZyb20gXCIuLy4uL0Nvbm5leHRFdmVudFwiO1xyXG5pbXBvcnQgeyBBY3Rpb25UeXBlRGljdCB9IGZyb20gXCJARGF0YS9tb2RlbHMvY29ubmV4dC9BY3Rpb25Nb2RlbHNcIjtcclxuaW1wb3J0IHsgQ2RwTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NkcE1vZHVsZS9DZHBNb2R1bGVcIjtcclxuaW1wb3J0IHsgQ29ubmV4dEFjdGlvbk1vZGVsSW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvQ29ubmV4dEFjdGlvbk1vZGVsSW50ZXJmYWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWN0aW9uU2hvd24gZXh0ZW5kcyBDb25uZXh0RXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uQWN0aW9uU2hvd25cIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIGxldCBhY3Rpb25TaG93RXZlbnREYXRhOiBDb25uZXh0QWN0aW9uTW9kZWxJbnRlcmZhY2UgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLkV2ZW50RGF0YTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJBY3Rpb25TaG93blwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBhY3Rpb25TaG93RXZlbnREYXRhLk5hbWU7XHJcbiAgICAgICAgY29uc3QgZXZlbnREYXRhID0ge1xyXG4gICAgICAgICAgICBUeXBlOiBhY3Rpb25TaG93RXZlbnREYXRhLkFjdGlvblR5cGUgfHwgQWN0aW9uVHlwZURpY3RbdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5FdmVudERhdGEuQWN0aW9uVHlwZUlkXSxcclxuICAgICAgICAgICAgVXNlckVSOiBDZHBNb2R1bGUuZ2V0RXJDb2RlKCksXHJcbiAgICAgICAgICAgIFVzZXJFUlA6IENkcE1vZHVsZS5nZXRFcnBDb2RlKClcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvZXZlbnRzL0FjdGlvblNob3duLnRzIiwiaW1wb3J0IHsgQ29ubmV4dEV2ZW50IH0gZnJvbSBcIi4vLi4vQ29ubmV4dEV2ZW50XCI7XHJcbmltcG9ydCB7IENkcEV2ZW50TW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBY3RpdmF0ZVN1Y2Nlc3MgZXh0ZW5kcyBDb25uZXh0RXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uQWN0aXZhdGlvbkZvcm1DbG9zZWRcIjtcclxuXHJcbiAgICAgIGdldEV2ZW50TW9kZWwoKTogQ2RwRXZlbnRNb2RlbCB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsID0gc3VwZXIuZ2V0RXZlbnRNb2RlbCgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIkFjdGl2YXRlU3VjY2Vzc1wiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIkFjdGl2YXRlU3VjY2Vzc1wiO1xyXG4gICAgICAgIGlmICh0aGlzLm9yaWdpbmFsRXZlbnREYXRhLkV2ZW50RGF0YS5BY3RpdmF0ZVN0YXR1cyA9PT0gXCJzdWNjZXNzXCIpIHtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoe30pO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudE1vZGVsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9BY3RpdmF0ZVN1Y2Nlc3MudHMiLCJcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IENvbm5leHRFdmVudCB9IGZyb20gXCIuLy4uL0Nvbm5leHRFdmVudFwiO1xyXG5pbXBvcnQgeyBDb25uZXh0TW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2Nvbm5leHRNb2R1bGUvQ29ubmV4dE1vZHVsZVwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudHNNYW5hZ2VyIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50c01hbmFnZXJcIjtcclxuaW1wb3J0IHsgRmlyc3RWaXNpdFByb3BlcnRpZXMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0ZpcnN0VmlzaXRQcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7IENsaWNrRXZlbnROYW1lIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NvbnN0YW50cy9FdmVudHNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQ2xpY2sgZXh0ZW5kcyBDb25uZXh0RXZlbnQge1xyXG4gICAgY2xpY2tlZEVsZW1lbnQ6IEV2ZW50VGFyZ2V0O1xyXG4gICAgc29jaWFsVHlwZSA9IG51bGw7XHJcbiAgICBhY3Rpb25UeXBlO1xyXG5cclxuICAgIGxpc3RlbigpIHtcclxuICAgICAgICBjb25zdCBldmVudE5hbWUgPSBcImNsaWNrXCI7XHJcbiAgICAgICAgVXRpbHMuYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgZXZlbnROYW1lLCAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ2xpY2sgRXZlbnRcIiwgZXZlbnQsIFwiZS50YXJnZXRcIiwgZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgdGhpcy5jbGlja2VkRWxlbWVudCA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgdGhpcy5jbGVhclByZXZpb3VzRGF0YSgpO1xyXG4gICAgICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnREYXRhID0gZXZlbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuc29jaWFsVHlwZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uVHlwZSA9IG51bGw7XHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb25seSBuZWVkZWQgZm9yIHRoZSB0ZXN0ZXIgcGFnZSwgc2luY2Ugd2UgZG9uJ3Qgd2FudCBjZXJ0YWluIGJ1dHRvbiBjbGlja3MgdHJpZ2dlcmluZyBDRFAgY2FsbHMuXHJcblxyXG4gICAgICAgICAgICBpZiAoVXRpbHMuZ2V0QXR0cmlidXRlT2ZEb21PclBhcmVudHModGhpcy5jbGlja2VkRWxlbWVudCwgXCJkYXRhLW1nMi10ZXN0ZXJcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiaXMgdGVzdGVyLCBpZ25vcmluZ1wiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gY2hlY2tpbmcgaWYgdGhpcyBvciBhbnkgcGFyZW50IGVsZW1lbnRzIGhhdmUgYW4gbWcyLWFjdGlvbiBwcm9wLlxyXG4gICAgICAgICAgICB0aGlzLmFjdGlvblR5cGUgPSBVdGlscy5nZXRBdHRyaWJ1dGVPZkRvbU9yUGFyZW50cyh0aGlzLmNsaWNrZWRFbGVtZW50LCBcImRhdGEtbWcyLWFjdGlvblwiKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmFjdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIG5vIG1nMiBhY3Rpb24gdHlwZSwgY2hlY2sgZm9yIHNvY2lhbFxyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHNvY2ljYWxBY3Rpb25UeXBlID0gVXRpbHMuZ2V0QXR0cmlidXRlT2ZEb21PclBhcmVudHMoZWwsIFwiZGF0YS1tZzItYWN0aW9uXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHdlIGtub3cgdGhhdCBhbnkgc29jaWFsIGFjdGlvbiBuZWVkcyB0byB1c2UgYW4gPGE+IGFuZCBiYXNlZCBvbiB0ZXN0cyBtb3N0IGNsaWNrIGV2ZW50cyBoYXBwZW4gb24gdGhlIDxpPiBvciA8c3Bhbj4gY2hpbGQgb2YgdGhlIDxhPlxyXG4gICAgICAgICAgICAgICAgLy8gc28gd2UnbGwgcHJvcGFnYXRlIHVwIHRoZSB0cmVlIHVudGlsIHdlIGhpdCBhbiA8YT5cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50QSA9IFV0aWxzLmdldFBhcmVudERvbUJ5VGFnTmFtZSh0aGlzLmNsaWNrZWRFbGVtZW50LCBcImFcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50QSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ2xpY2sgRXZlbnRcIiwgXCJwYXJlbnRBXCIsIHBhcmVudEEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc29jaWFsVHlwZSA9IHRoaXMuY2hlY2tGb3JTb2NpYWxMaW5rcyhwYXJlbnRBKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkNsaWNrIEV2ZW50XCIsIFwic29jaWFsQWN0aW9uVHlwZVwiLCB0aGlzLnNvY2lhbFR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvY2lhbFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFzIHNvY2lhbCBsaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiSEFTIFNPQ0lBTFwiLCB0aGlzLnNvY2lhbFR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvblR5cGUgPSBDbGlja0V2ZW50TmFtZS5Tb2NpYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90IHNvY2lhbCwgc28gZmFsbCBiYWNrIHRvIE90aGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9uVHlwZSA9IENsaWNrRXZlbnROYW1lLk90aGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9uVHlwZSA9IENsaWNrRXZlbnROYW1lLk90aGVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIG1hcCB2YWx1ZSBvZiBhdHRyYml1dGUgdG8gbmFtZSBvZiBjZHAgY2xpY2sgZXZlbnRcclxuICAgICAgICAgICAgICAgIGxldCBuYW1lID0gQ2xpY2tFdmVudE5hbWUuT3RoZXI7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuYWN0aW9uVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsb2dpblwiOiB7IG5hbWUgPSBDbGlja0V2ZW50TmFtZS5Mb2dpbjsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYWN0aXZhdGlvblwiOiB7IG5hbWUgPSBDbGlja0V2ZW50TmFtZS5BY3RpdmF0ZTsgYnJlYWs7IH07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlZ2lzdGVyXCI6IHsgbmFtZSA9IENsaWNrRXZlbnROYW1lLlJlZ2lzdGVyOyBicmVhazsgfTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibG9nb3V0XCI6IHsgbmFtZSA9IENsaWNrRXZlbnROYW1lLkxvZ291dDsgYnJlYWs7IH07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVwZ3JhZGVcIjogeyBuYW1lID0gQ2xpY2tFdmVudE5hbWUuVXBncmFkZTsgYnJlYWs7IH07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNsaWNrXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWxzLmNoZWNrRm9yTmV3c2xldHRlclNpZ25VcENsaWNrKGV2ZW50LnRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBDbGlja0V2ZW50TmFtZS5TaWduVXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHsgbmFtZSA9IENsaWNrRXZlbnROYW1lLk90aGVyOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25UeXBlID0gbmFtZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCIqKioqKioqKiBDbGljayBFdmVudCBcIiwgXCJhY3Rpb25UeXBlPT5cIiwgdGhpcy5hY3Rpb25UeXBlLCBcIiBlbD0+IFwiLCB0aGlzLmNsaWNrZWRFbGVtZW50KTtcclxuICAgICAgICAgICAgQ2RwRXZlbnRzTWFuYWdlci5ldmVudEZpcmUodGhpcyk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiQ2xpY2tcIjtcclxuICAgICAgICBsZXQgcGF5bG9hZCA9IHRoaXMuY3JlYXRlRG9tVGFyZ2V0UGF5bG9hZCh0aGlzLmNsaWNrZWRFbGVtZW50KTtcclxuICAgICAgICBpZiAodGhpcy5zb2NpYWxUeXBlKSB7XHJcbiAgICAgICAgICAgIHBheWxvYWRbXCJUYXJnZXRTb2NpYWxOZXR3b3JrXCJdID0gdGhpcy5zb2NpYWxUeXBlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhY3Rpb25EYXRhID0gQ29ubmV4dE1vZHVsZS5nZXRBY3Rpb25EYXRhRnJvbUVsZW1lbnQodGhpcy5jbGlja2VkRWxlbWVudCk7XHJcblxyXG4gICAgICAgIGlmIChhY3Rpb25EYXRhKSB7XHJcbiAgICAgICAgICAgIHBheWxvYWRbXCJBY3Rpb25JZFwiXSA9IGFjdGlvbkRhdGFbXCJBY3Rpb25JZFwiXTtcclxuICAgICAgICAgICAgcGF5bG9hZFtcIkFjdGlvbk5hbWVcIl0gPSBhY3Rpb25EYXRhW1wiQWN0aW9uTmFtZVwiXTtcclxuICAgICAgICAgICAgcGF5bG9hZFtcIklzQWN0aW9uQ2xpY2tcIl0gPSB0cnVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKHBheWxvYWQpO1xyXG4gICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ2xpY2sgRXZlbnRcIiwgXCJwYXlsb2FkXCIsIHBheWxvYWQpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBVdGlscy50b1RpdGxlQ2FzZSh0aGlzLmFjdGlvblR5cGUpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZURvbVRhcmdldFBheWxvYWQodGFyZ2V0OiBhbnkpOiBhbnkge1xyXG4gICAgICAgIC8vIGxldCBwYXlsb2FkOiBhbnkgPSB7fTtcclxuICAgICAgICBsZXQgdGFnTmFtZSA9IHRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ2xpY2sgRXZlbnRcIiwgXCJUYWdOYW1lXCIsIHRhZ05hbWUpO1xyXG5cclxuICAgICAgICBsZXQgdGFyZ2V0QXR0cmlidXRlO1xyXG4gICAgICAgIGxldCB0YXJnZXRWYWx1ZTtcclxuICAgICAgICBpZiAodGFyZ2V0LmlkICYmIHRhcmdldC5pZCAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkhhcyBJZFwiLCB0YXJnZXQuaWQpO1xyXG4gICAgICAgICAgICB0YXJnZXRBdHRyaWJ1dGUgPSBcIklkXCI7XHJcbiAgICAgICAgICAgIHRhcmdldFZhbHVlID0gdGFyZ2V0LmlkO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0Lm5hbWUgJiYgdGFyZ2V0Lm5hbWUgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJIYXMgTmFtZVwiLCB0YXJnZXQubmFtZSk7XHJcbiAgICAgICAgICAgIHRhcmdldEF0dHJpYnV0ZSA9IFwiTmFtZVwiO1xyXG4gICAgICAgICAgICB0YXJnZXRWYWx1ZSA9IHRhcmdldC5uYW1lO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LmNsYXNzTmFtZSAmJiB0YXJnZXQuY2xhc3NOYW1lICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiSGFzIENsYXNzXCIsIHRhcmdldC5jbGFzc05hbWUpO1xyXG4gICAgICAgICAgICB0YXJnZXRBdHRyaWJ1dGUgPSBcIkNsYXNzXCI7XHJcbiAgICAgICAgICAgIHRhcmdldFZhbHVlID0gdGFyZ2V0LmNsYXNzTmFtZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkZhbGxiYWNrIExhYmVsXCIsIHRhcmdldC5pbm5lclRleHQpO1xyXG4gICAgICAgICAgICB0YXJnZXRBdHRyaWJ1dGUgPSBcIkxhYmVsXCI7XHJcbiAgICAgICAgICAgIHRhcmdldFZhbHVlID0gdGFyZ2V0LnRleHRDb250ZW50IHx8IHRhcmdldC5pbm5lclRleHQ7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGFnTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImltZ1wiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImF1ZGlvXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidmlkZW9cIjpcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRBdHRyaWJ1dGUgPSBcInNyY1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFZhbHVlID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcInNyY1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRhZ05hbWUgPT09IFwiaHRtbFwiKSB7XHJcbiAgICAgICAgICAgIHRhcmdldFZhbHVlID0gXCJodG1sXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgXCJUYXJnZXRUeXBlXCI6IHRhZ05hbWUsXHJcbiAgICAgICAgICAgIFwiVGFyZ2V0QXR0cmlidXRlXCI6IHRhcmdldEF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgXCJUYXJnZXRWYWx1ZVwiOiB0YXJnZXRWYWx1ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja0ZvclNvY2lhbExpbmtzKGVsOiBhbnkpOiBhbnkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiY2hlY2tGb3JTb2NpYWxMaW5rc1wiLCBcImVsXCIsIGVsKTtcclxuICAgICAgICBsZXQgY2xzID0gZWwuY2xhc3NOYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKGNscykge1xyXG5cclxuICAgICAgICAgICAgaWYgKGNscy5pbmNsdWRlcyhcImZhY2Vib29rXCIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJGYWNlYm9va1wiO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNscy5pbmNsdWRlcyhcInR3aXR0ZXJcIikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIlR3aXR0ZXJcIlxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBsZXQgYVRhZyA9IFV0aWxzLmdldEF0dHJpYnV0ZU9mRG9tT3JQYXJlbnRzKGVsLCBcImFcIik7XHJcbiAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJjaGVja0ZvclNvY2lhbExpbmtzXCIsIFwiYVRhZ1wiLCBhVGFnKTtcclxuICAgIH1cclxuXHJcbiAgICB1c2VJbkNhbGN1bGF0ZUZpcnN0VmlzaXRNb2RlbCgpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRGaXJzdFZpc2l0UHJvcGVydHkoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gRmlyc3RWaXNpdFByb3BlcnRpZXMuQ291bnRDbGljaztcclxuICAgIH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvQ2xpY2sudHMiLCJpbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5pbXBvcnQgeyBDb25uZXh0RXZlbnQgfSBmcm9tIFwiLi4vQ29ubmV4dEV2ZW50XCI7XHJcbmltcG9ydCB7IEZpcnN0VmlzaXRQcm9wZXJ0aWVzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9GaXJzdFZpc2l0UHJvcGVydGllc1wiO1xyXG5pbXBvcnQgeyBDZHBFdmVudE1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9DZHBFdmVudE1vZGVsXCI7XHJcbmltcG9ydCB7IENvbm5leHRQYWdlVmlld0RhdGFNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvQ29ubmV4dFBhZ2VWaWV3RGF0YU1vZGVsXCI7XHJcbmltcG9ydCB7IEV2ZW50TmFtZXMgfSBmcm9tIFwiQENvbGxlY3RvcnMvY29uc3RhbnRzL0V2ZW50c1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBDb25uZXh0UGFnZVZpZXcgZXh0ZW5kcyBDb25uZXh0RXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uRmluaXNoXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gRXZlbnROYW1lcy5QYWdlVmlldztcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gRXZlbnROYW1lcy5QYWdlVmlldztcclxuICAgICAgICBDb25maWdNb2R1bGUuc2V0TGF5b3V0Q29kZSh0aGlzLmV2ZW50TW9kZWwuU2l0ZUNvZGUpO1xyXG4gICAgICAgIGxldCBldmVudERhdGEgPSBuZXcgQ29ubmV4dFBhZ2VWaWV3RGF0YU1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEpO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXNlSW5DYWxjdWxhdGVGaXJzdFZpc2l0TW9kZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Rmlyc3RWaXNpdFByb3BlcnR5KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIEZpcnN0VmlzaXRQcm9wZXJ0aWVzLkNvdW50UGFnZXZpZXc7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvQ29ubmV4dFBhZ2VWaWV3LnRzIiwiaW1wb3J0IHsgQ29ubmV4dEV2ZW50IH0gZnJvbSBcIi4vLi4vQ29ubmV4dEV2ZW50XCI7XHJcbmltcG9ydCB7IEZpcnN0VmlzaXRQcm9wZXJ0aWVzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9GaXJzdFZpc2l0UHJvcGVydGllc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWF0ZUFjY291bnQgZXh0ZW5kcyBDb25uZXh0RXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWVzID0gW1wib25BY3RpdmF0aW9uQWNjb3VudENyZWF0ZWRcIiwgXCJvblJlZ2lzdHJhdGlvblN1Y2Nlc3NSZWdpc3RlclwiXTtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIkNyZWF0ZUFjY291bnRcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJDcmVhdGVBY2NvdW50XCI7XHJcblxyXG4gICAgICAgIGxldCBldmVudERhdGEgPSB7fTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHVzZUluQ2FsY3VsYXRlRmlyc3RWaXNpdE1vZGVsKCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZpcnN0VmlzaXRQcm9wZXJ0eSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBGaXJzdFZpc2l0UHJvcGVydGllcy5Db3VudENyZWF0ZUFjY291bnRFdmVudHM7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvQ3JlYXRlQWNjb3VudC50cyIsIlxyXG5pbXBvcnQgeyBDb25uZXh0RXZlbnQgfSBmcm9tIFwiLi8uLi9Db25uZXh0RXZlbnRcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRzTWFuYWdlciB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudHNNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEN0cmxDIGV4dGVuZHMgQ29ubmV4dEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJjb3B5XCI7XHJcblxyXG4gICAgbGlzdGVuKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiYWRkRXZlbnRMaXN0ZW5lci4uLlwiLCB0aGlzLm9yaWdpbmFsRXZlbnROYW1lKTtcclxuICAgICAgICAgICAgVXRpbHMuYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZSwgKGU6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkZpcmluZ1wiLCB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luYWxFdmVudERhdGEgPSBlO1xyXG4gICAgICAgICAgICAgICAgQ2RwRXZlbnRzTWFuYWdlci5ldmVudEZpcmUodGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiQ3RybENcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJDdHJsQ1wiO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKHt9KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9DdHJsQy50cyIsImltcG9ydCB7IENvbm5leHRFdmVudCB9IGZyb20gXCIuLy4uL0Nvbm5leHRFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2luIGV4dGVuZHMgQ29ubmV4dEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvbkxvZ2luU3VjY2Vzc1wiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiTG9naW5cIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJMb2dpblwiO1xyXG4gICAgICAgIGxldCBldmVudERhdGEgPSB7fTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9Mb2dpbi50cyIsImltcG9ydCB7IEVtYWlsUHJlZmVyZW5jZUludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL0VtYWlsUHJlZmVyZW5jZUludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDb25uZXh0RXZlbnQgfSBmcm9tIFwiLi4vQ29ubmV4dEV2ZW50XCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE5ld3NsZXR0ZXJBcnJpdmFsIGV4dGVuZHMgQ29ubmV4dEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvbk5ld3NsZXR0ZXJBcnJpdmFsXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJOZXdzbGV0dGVyQXJyaXZhbFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIk5ld3NsZXR0ZXJBcnJpdmFsXCI7XHJcblxyXG4gICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgRW1haWw6IHRoaXMub3JpZ2luYWxFdmVudERhdGEuRXZlbnREYXRhLkVtYWlsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgICAgIHRoaXMuZmlsbEV2ZW50RGF0YUJ5UHJlZmVyZW5jZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpbGxFdmVudERhdGFCeVByZWZlcmVuY2VzKCk6dm9pZCB7XHJcbiAgICAgICAgY29uc3QgZXZlbnREYXRhID0gdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5FdmVudERhdGE7XHJcbiAgICAgICAgaWYgKGV2ZW50RGF0YSAmJiBBcnJheS5pc0FycmF5KGV2ZW50RGF0YS5FbWFpbFByZWZlcmVuY2VzKSkge1xyXG5cclxuICAgICAgICAgICAgZXZlbnREYXRhLkVtYWlsUHJlZmVyZW5jZXMuZm9yRWFjaCgoZW1haWxQcmVmZXJlbmNlOiBFbWFpbFByZWZlcmVuY2VJbnRlcmZhY2UpID0+IHtcclxuICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhLnB1c2goeydLZXknOiAnRW1haWxQcmVmZXJlbmNlcycsICdWYWx1ZSc6IFV0aWxzLm9iamVjdFRvQmlnUXVlcnlTdHJpbmcoZW1haWxQcmVmZXJlbmNlKX0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvZXZlbnRzL05ld3NsZXR0ZXJBcnJpdmFsLnRzIiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IEVtYWlsUHJlZmVyZW5jZUludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL0VtYWlsUHJlZmVyZW5jZUludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBOZXdzbGV0dGVyU2lnbnVwRXZlbnREYXRhSW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvTmV3c2xldHRlclNpZ251cEV2ZW50RGF0YUludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDb25uZXh0RXZlbnQgfSBmcm9tIFwiLi4vQ29ubmV4dEV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTmV3c2xldHRlclNpZ251cCBleHRlbmRzIENvbm5leHRFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwib25OZXdzbGV0dGVyU2lnblVwXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJOZXdzbGV0dGVyU2lnbnVwXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiTmV3c2xldHRlclNpZ251cFwiO1xyXG4gICAgICAgIHRoaXMuZmlsbEV2ZW50RGF0YUJ5UHJlZmVyZW5jZXMoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBmaWxsRXZlbnREYXRhQnlQcmVmZXJlbmNlcygpOiBhbnkge1xyXG4gICAgICAgIGxldCBldmVudERhdGE6IE5ld3NsZXR0ZXJTaWdudXBFdmVudERhdGFJbnRlcmZhY2UgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLkV2ZW50RGF0YSk7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50RGF0YS5wdXNoKHtcIktleVwiOiBcIkVtYWlsXCIsIFwiVmFsdWVcIjogZXZlbnREYXRhLkVtYWlsfSk7XHJcbiAgICAgICAgaWYgKGV2ZW50RGF0YS5FbWFpbFByZWZlcmVuY2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGV2ZW50RGF0YS5FbWFpbFByZWZlcmVuY2VzKSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLkVtYWlsUHJlZmVyZW5jZXMuZm9yRWFjaCgoZW1haWxQcmVmZXJlbmNlOiBFbWFpbFByZWZlcmVuY2VJbnRlcmZhY2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhLnB1c2goe1wiS2V5XCI6IFwiRW1haWxQcmVmZXJlbmNlc1wiLCBcIlZhbHVlXCI6IFV0aWxzLm9iamVjdFRvQmlnUXVlcnlTdHJpbmcoZW1haWxQcmVmZXJlbmNlKX0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maWxsRXZlbnRNb2RlbE54dFYxXzcoZXZlbnREYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmaWxsRXZlbnRNb2RlbE54dFYxXzcoZXZlbnREYXRhKTogYW55IHtcclxuICAgICAgICBsZXQgc2VuZEV2ZW50RGF0YSA9IHt9O1xyXG4gICAgICAgIGlmIChldmVudERhdGEuRW1haWxQcmVmZXJlbmNlSWQpIHtcclxuICAgICAgICAgICAgIHNlbmRFdmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBQcmVmZXJlbmNlSWQ6IGV2ZW50RGF0YS5FbWFpbFByZWZlcmVuY2VJZCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKHNlbmRFdmVudERhdGEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50TW9kZWw7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvTmV3c2xldHRlclNpZ251cC50cyIsImV4cG9ydCB7IEFjdGlvblNob3duIH0gZnJvbSBcIi4vQWN0aW9uU2hvd25cIjtcclxuZXhwb3J0IHsgQWN0aXZhdGVTdWNjZXNzIH0gZnJvbSBcIi4vQWN0aXZhdGVTdWNjZXNzXCI7XHJcbmV4cG9ydCB7IENsaWNrIH0gZnJvbSBcIi4vQ2xpY2tcIjtcclxuZXhwb3J0IHsgQ3JlYXRlQWNjb3VudCB9IGZyb20gXCIuL0NyZWF0ZUFjY291bnRcIjtcclxuZXhwb3J0IHsgQ3RybEMgfSBmcm9tIFwiLi9DdHJsQ1wiO1xyXG5leHBvcnQgeyBMb2dpbiB9IGZyb20gXCIuL0xvZ2luXCI7XHJcbmV4cG9ydCB7IE5ld3NsZXR0ZXJTaWdudXAgfSBmcm9tIFwiLi9OZXdzbGV0dGVyU2lnbnVwXCI7XHJcbmV4cG9ydCB7IENvbm5leHRQYWdlVmlldyB9IGZyb20gXCIuL0Nvbm5leHRQYWdlVmlld1wiO1xyXG5leHBvcnQgeyBOZXdzbGV0dGVyQXJyaXZhbCB9IGZyb20gXCIuL05ld3NsZXR0ZXJBcnJpdmFsXCI7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9pbmRleC50cyIsImltcG9ydCB7IENkcE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29ubmV4dFVzZXJNb2RlbCB7XHJcbiAgICBJZDogc3RyaW5nID0gdGhpcy5nZXRDb25uZXh0VXNlcklkKCk7XHJcbiAgICBTdGF0dXM6IHN0cmluZyA9IHRoaXMuZ2V0Q29ubmV4dFVzZXJTdGF0dXMoKTtcclxuICAgIEVSOiBudW1iZXIgPSBDZHBNb2R1bGUuZ2V0RXJDb2RlKCk7XHJcbiAgICBFUlA6IGFueSA9IENkcE1vZHVsZS5nZXRFcnBDb2RlKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5JZCA9IHRoaXMuZ2V0Q29ubmV4dFVzZXJJZCgpO1xyXG4gICAgICAgIHRoaXMuU3RhdHVzID0gdGhpcy5nZXRDb25uZXh0VXNlclN0YXR1cygpO1xyXG4gICAgICAgIHRoaXMuRVIgPSBDZHBNb2R1bGUuZ2V0RXJDb2RlKCk7XHJcbiAgICAgICAgdGhpcy5FUlAgPSBDZHBNb2R1bGUuZ2V0RXJwQ29kZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbm5leHRVc2VyU3RhdHVzKCkge1xyXG4gICAgICAgIGlmICh3aW5kb3cuQ25uWHQgJiYgd2luZG93LkNublh0LlVzZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5Dbm5YdC5Vc2VyLmdldFVzZXJTdGF0ZSgpIHx8IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3aW5kb3cuQ29ubmV4dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LkNvbm5leHQuU3RvcmFnZS5HZXRVc2VyU3RhdGUoKSB8fCBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb25uZXh0VXNlcklkKCkge1xyXG4gICAgICAgIGlmICh3aW5kb3cuQ25uWHQgJiYgd2luZG93LkNublh0LlVzZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5Dbm5YdC5Vc2VyLmdldE1hc3RlcklkKCkgfHwgXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh3aW5kb3cuQ29ubmV4dCkge1xyXG4gICAgICAgICAgICBsZXQgdXNlckRhdGEgPSB3aW5kb3cuQ29ubmV4dC5TdG9yYWdlLkdldFVzZXJEYXRhKCk7XHJcbiAgICAgICAgICAgIGlmICh1c2VyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJEYXRhLk1hc3RlcklkIHx8IFwiXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL21vZGVscy9Db25uZXh0VXNlck1vZGVsLnRzIiwiaW1wb3J0IHsgQ29sbGVjdG9yIH0gZnJvbSBcIi4vLi4vLi4vQ29sbGVjdG9yXCI7XHJcbmltcG9ydCAqIGFzIFJlZ2lzdGVyZWRFdmVudHMgZnJvbSBcIi4vZXZlbnRzXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNwQ29sbGVjdG9yIGV4dGVuZHMgQ29sbGVjdG9yIHtcclxuICAgIGV2ZW50czogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBSZWdpc3RlcmVkRXZlbnRzO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL1NwQ29sbGVjdG9yLnRzIiwiaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCIuLi9TcEV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWJhbmRvbkNsb3NlZCAgZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJhYmFuZG9uX2Nsb3NlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJBYmFuZG9uQ2xvc2VkXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiQWJhbmRvbkNsb3NlZFwiO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKHt9KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvQWJhbmRvbkNsb3NlZC50cyIsImltcG9ydCB7IFNwRXZlbnQgfSBmcm9tIFwiLi8uLi9TcEV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWJhbmRvblByZXNlbnRlZCBleHRlbmRzIFNwRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcImFiYW5kb25fcHJlc2VudGVkX2VcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIkFiYW5kb25QcmVzZW50ZWRcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJBYmFuZG9uUHJlc2VudGVkXCI7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoe30pO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9BYmFuZG9uUHJlc2VudGVkLnRzIiwiaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCIuLy4uL1NwRXZlbnRcIjtcclxuaW1wb3J0IHsgRmlyc3RWaXNpdFByb3BlcnRpZXMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0ZpcnN0VmlzaXRQcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7IENkcE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2hlY2tvdXRTdGFydCBleHRlbmRzIFNwRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcInByZXNlbnRhdGlvbl9sb2FkZWRfZVwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiQ2hlY2tvdXRTdGFydFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIkNoZWNrb3V0U3RhcnRcIjtcclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoe1xyXG4gICAgICAgICAgICBVcmw6IHRoaXMub3JpZ2luYWxFdmVudERhdGEudXJsLFxyXG4gICAgICAgICAgICBVc2VyRVI6IENkcE1vZHVsZS5nZXRFckNvZGUoKSxcclxuICAgICAgICAgICAgVXNlckVSUDogQ2RwTW9kdWxlLmdldEVycENvZGUoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVzZUluQ2FsY3VsYXRlRmlyc3RWaXNpdE1vZGVsKCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZpcnN0VmlzaXRQcm9wZXJ0eSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBGaXJzdFZpc2l0UHJvcGVydGllcy5Db3VudENoZWNrb3V0U3RhcnRFdmVudHM7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL0NoZWNrb3V0U3RhcnQudHMiLCJpbXBvcnQgeyBVc2VySW5mb3JtYXRpb25Nb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9tb2RlbHMvVXNlckluZm9ybWF0aW9uTW9kZWxcIjtcclxuaW1wb3J0IHsgU2hvcnRPZmZlck1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL21vZGVscy9TaG9ydE9mZmVyTW9kZWxcIjtcclxuaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9TcEV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlYXRlZE5ld1VzZXIgZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJjcmVhdGVkX25ld191c2VyX2VcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIkNyZWF0ZWROZXdVc2VyXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiQ3JlYXRlZE5ld1VzZXJcIjtcclxuXHJcbiAgICAgICAgbGV0IGV2ZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgVXNlcjogbmV3IFVzZXJJbmZvcm1hdGlvbk1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEudXNlckluZm9ybWF0aW9uKSxcclxuICAgICAgICAgICAgT2ZmZXI6IG5ldyBTaG9ydE9mZmVyTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5vZmZlciksXHJcbiAgICAgICAgICAgIEN1c3RvbWVyUmVnaXN0cmF0aW9uSWQ6IHRoaXMub3JpZ2luYWxFdmVudERhdGEuY3VzdG9tZXJSZWdpc3RyYXRpb25JZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL0NyZWF0ZWROZXdVc2VyLnRzIiwiaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9TcEV2ZW50XCI7XHJcbmltcG9ydCB7IEFkZHJlc3NNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvQWRkcmVzc01vZGVsXCI7XHJcbmltcG9ydCB7IFNob3J0T2ZmZXJNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvU2hvcnRPZmZlck1vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRm9ybUNvbXBsZXRlZCBleHRlbmRzIFNwRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcImJpbGxpbmdfYWRkcmVzc19jb21wbGV0ZWRfZVwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiRm9ybUNvbXBsZXRlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIkJpbGxpbmdBZGRyZXNzXCI7XHJcblxyXG4gICAgICAgIGxldCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIEJpbGxpbmc6IG5ldyBBZGRyZXNzTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5iaWxsaW5nQWRkcmVzcyksXHJcbiAgICAgICAgICAgIE9mZmVyOiBuZXcgU2hvcnRPZmZlck1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXIpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoZXZlbnREYXRhKTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvRm9ybUNvbXBsZXRlZC50cyIsImltcG9ydCB7IFNwRXZlbnQgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvU3BFdmVudFwiO1xyXG5pbXBvcnQgeyBBZGRyZXNzTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL0FkZHJlc3NNb2RlbFwiO1xyXG5pbXBvcnQgeyBTaG9ydE9mZmVyTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL1Nob3J0T2ZmZXJNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZvcm1Db21wbGV0ZWREZWxpdmVyeUFkZHJlc3MgZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJkZWxpdmVyeV9hZGRyZXNzX2NvbXBsZXRlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJGb3JtQ29tcGxldGVkXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiRGVsaXZlcnlBZGRyZXNzXCI7XHJcblxyXG4gICAgICAgIGxldCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIERlbGl2ZXJ5OiBuZXcgQWRkcmVzc01vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEuZGVsaXZlcnlBZGRyZXNzKSxcclxuICAgICAgICAgICAgT2ZmZXI6IG5ldyBTaG9ydE9mZmVyTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5vZmZlcilcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9Gb3JtQ29tcGxldGVkRGVsaXZlcnlBZGRyZXNzLnRzIiwiaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9TcEV2ZW50XCI7XHJcbmltcG9ydCB7IFBheW1lbnRUeXBlcyB9IGZyb20gXCJAQ29sbGVjdG9ycy9jb25zdGFudHMvUGF5bWVudFR5cGVzXCI7XHJcbmltcG9ydCB7IFNob3J0T2ZmZXJNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvU2hvcnRPZmZlck1vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRm9ybUNvbXBsZXRlZFBheW1lbnQgZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lcyA9IE9iamVjdC5rZXlzKFBheW1lbnRUeXBlcyk7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJGb3JtQ29tcGxldGVkXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiUGF5bWVudFwiO1xyXG4gICAgICAgIGxldCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIE9mZmVyOiBuZXcgU2hvcnRPZmZlck1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXIpLFxyXG4gICAgICAgICAgICBQYXltZW50TWV0aG9kTmFtZTogUGF5bWVudFR5cGVzW3RoaXMuY3VycmVudEV2ZW50TmFtZV1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvRm9ybUNvbXBsZXRlZFBheW1lbnQudHMiLCJpbXBvcnQgeyBDZHBFdmVudE1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9DZHBFdmVudE1vZGVsXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvcm1hdGlvbk1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL21vZGVscy9Vc2VySW5mb3JtYXRpb25Nb2RlbFwiO1xyXG5pbXBvcnQgeyBTaG9ydE9mZmVyTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL1Nob3J0T2ZmZXJNb2RlbFwiO1xyXG5pbXBvcnQgeyBTcEV2ZW50IH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL1NwRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtQ29tcGxldGVkVXNlckluZm8gZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJ1c2VyX2luZm9fY29tcGxldGVkX2VcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIkZvcm1Db21wbGV0ZWRcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJVc2VySW5mb1wiO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50RGF0YSkge1xyXG4gICAgICAgICAgICBsZXQgZXZlbnREYXRhT2JqZWN0ID0ge1xyXG4gICAgICAgICAgICAgICAgVXNlcjogbmV3IFVzZXJJbmZvcm1hdGlvbk1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEudXNlckluZm9ybWF0aW9uKSxcclxuICAgICAgICAgICAgICAgIE9mZmVyOiBuZXcgU2hvcnRPZmZlck1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXIpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YU9iamVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9Gb3JtQ29tcGxldGVkVXNlckluZm8udHMiLCJpbXBvcnQgeyBTcEV2ZW50IH0gZnJvbSBcIi4uL1NwRXZlbnRcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRNb2RlbCB9IGZyb20gXCIuLi8uLi8uLi9tb2RlbHMvQ2RwRXZlbnRNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIElkbGVDbG9zZWQgZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJpZGxlX2Nsb3NlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJJZGxlQ2xvc2VkXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiSWRsZUNsb3NlZFwiO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKHt9KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvSWRsZUNsb3NlZC50cyIsImltcG9ydCB7IFNwRXZlbnQgfSBmcm9tIFwiLi4vU3BFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIElkbGVQcmVzZW50ZWQgZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJpZGxlX3ByZXNlbnRlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJJZGxlUHJlc2VudGVkXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiSWRsZVByZXNlbnRlZFwiO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKHt9KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvSWRsZVByZXNlbnRlZC50cyIsImV4cG9ydCB7IENoZWNrb3V0U3RhcnQgfSBmcm9tIFwiLi9DaGVja291dFN0YXJ0XCI7XHJcbmV4cG9ydCB7IEFiYW5kb25DbG9zZWR9IGZyb20gXCIuL0FiYW5kb25DbG9zZWRcIjtcclxuZXhwb3J0IHsgQWJhbmRvblByZXNlbnRlZH0gZnJvbSBcIi4vQWJhbmRvblByZXNlbnRlZFwiO1xyXG5leHBvcnQgeyBJZGxlQ2xvc2VkfSBmcm9tIFwiLi9JZGxlQ2xvc2VkXCI7XHJcbmV4cG9ydCB7IElkbGVQcmVzZW50ZWR9IGZyb20gXCIuL0lkbGVQcmVzZW50ZWRcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vb2ZmZXJFdmVudERhdGEvaW5kZXhcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vb2ZmZXJzRXZlbnREYXRhL2luZGV4XCI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9pbmRleC50cyIsImltcG9ydCB7IE9mZmVyRXZlbnREYXRhRXZlbnQgfSBmcm9tIFwiLi4vT2ZmZXJFdmVudERhdGFFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9mZmVyU2VsZWN0ZWQgZXh0ZW5kcyBPZmZlckV2ZW50RGF0YUV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvZmZlcl9zZWxlY3RlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJPZmZlclNlbGVjdGVkXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXIuTmFtZTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvb2ZmZXJFdmVudERhdGEvT2ZmZXJTZWxlY3RlZC50cyIsImltcG9ydCB7IE9mZmVyRXZlbnREYXRhRXZlbnQgfSBmcm9tIFwiLi4vT2ZmZXJFdmVudERhdGFFdmVudFwiO1xyXG5pbXBvcnQgeyBBZGRyZXNzTW9kZWwgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL0FkZHJlc3NNb2RlbFwiO1xyXG5pbXBvcnQgeyBVc2VySW5mb3JtYXRpb25Nb2RlbCB9IGZyb20gXCIuLi8uLi9tb2RlbHMvVXNlckluZm9ybWF0aW9uTW9kZWxcIjtcclxuaW1wb3J0IHsgQ2RwTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NkcE1vZHVsZS9DZHBNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdWJzY3JpcHRpb25TdWNjZXNzIGV4dGVuZHMgT2ZmZXJFdmVudERhdGFFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwiYWRkX3N1YnNjcmlwdGlvbl9zdWNjZXNzX2VcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiU3Vic2NyaXB0aW9uU3VjY2Vzc1wiO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJTdWJzY3JpcHRpb25TdWNjZXNzXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHRoaXMub3JpZ2luYWxFdmVudERhdGEuc3Vic2NyaXB0aW9uIHx8IHt9O1xyXG4gICAgICAgICAgICBsZXQgZXZlbnREYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgRGVsaXZlcnk6IG5ldyBBZGRyZXNzTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5kZWxpdmVyeUFkZHJlc3MpLFxyXG4gICAgICAgICAgICAgICAgQmlsbGluZzogbmV3IEFkZHJlc3NNb2RlbCh0aGlzLm9yaWdpbmFsRXZlbnREYXRhLmJpbGxpbmdBZGRyZXNzKSxcclxuICAgICAgICAgICAgICAgIFBheW1lbnRNZXRob2ROYW1lOiB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLnBheW1lbnRPcHRpb24sXHJcbiAgICAgICAgICAgICAgICBVc2VyOiBuZXcgVXNlckluZm9ybWF0aW9uTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS51c2VySW5mb3JtYXRpb24pLFxyXG4gICAgICAgICAgICAgICAgVXNlckVSOiBDZHBNb2R1bGUuZ2V0RXJDb2RlKCksXHJcbiAgICAgICAgICAgICAgICBVc2VyRVJQOiBDZHBNb2R1bGUuZ2V0RXJwQ29kZSgpLFxyXG4gICAgICAgICAgICAgICAgQ3VzdG9tZXJSZWdpc3RyYXRpb25JZDogdGhpcy5nZXRDdXN0b21lclJlZ2lzdHJhdGlvbklkKCksXHJcbiAgICAgICAgICAgICAgICBTdWJzY3JpYmVySWQ6IHN1YnNjcmlwdGlvbi5TdWJzY3JpYmVySUQsXHJcbiAgICAgICAgICAgICAgICBTdWJzY3JpcHRpb25JZDogc3Vic2NyaXB0aW9uLlN1YnNjcmlwdGlvbklELFxyXG4gICAgICAgICAgICAgICAgQWNjb3VudE51bWJlcjogc3Vic2NyaXB0aW9uLkFjY291bnROdW1iZXJcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICAgICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoXCJTdWJzY3JpcHRpb25TdWNjZXNzXCIsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q3VzdG9tZXJSZWdpc3RyYXRpb25JZCgpe1xyXG4gICAgICAgIGlmKHRoaXMub3JpZ2luYWxFdmVudERhdGEudXNlckluZm9ybWF0aW9uKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudERhdGEudXNlckluZm9ybWF0aW9uLmN1c3RvbWVyUmVnaXN0cmF0aW9uSWQ7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLmN1c3RvbWVyUmVnaXN0cmF0aW9uSWQgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyRXZlbnREYXRhL1N1YnNjcmlwdGlvblN1Y2Nlc3MudHMiLCJpbXBvcnQgeyBPZmZlckV2ZW50RGF0YUV2ZW50IH0gZnJvbSBcIi4uL09mZmVyRXZlbnREYXRhRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVcHNlbGxSZW1vdmVkIGV4dGVuZHMgT2ZmZXJFdmVudERhdGFFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwidXBzZWxsX3JlbW92ZWRfZVwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiVXBzZWxsUmVtb3ZlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm9mZmVyLk5hbWU7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyRXZlbnREYXRhL1Vwc2VsbFJlbW92ZWQudHMiLCJpbXBvcnQgeyBPZmZlckV2ZW50RGF0YUV2ZW50IH0gZnJvbSBcIi4uL09mZmVyRXZlbnREYXRhRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVcHNlbGxTZWxlY3RlZCBleHRlbmRzIE9mZmVyRXZlbnREYXRhRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcInVwc2VsbF9zZWxlY3RlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJVcHNlbGxTZWxlY3RlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm9mZmVyLk5hbWU7XHJcbiAgICB9XHJcbiB9XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9vZmZlckV2ZW50RGF0YS9VcHNlbGxTZWxlY3RlZC50cyIsImV4cG9ydCB7IFVwc2VsbFJlbW92ZWQgfSBmcm9tIFwiLi9VcHNlbGxSZW1vdmVkXCI7XHJcbmV4cG9ydCB7IEZvcm1Db21wbGV0ZWRQYXltZW50IH0gZnJvbSBcIi4uL0Zvcm1Db21wbGV0ZWRQYXltZW50XCI7XHJcbmV4cG9ydCB7IEZvcm1Db21wbGV0ZWQgfSBmcm9tIFwiLi4vRm9ybUNvbXBsZXRlZFwiO1xyXG5leHBvcnQgeyBDcmVhdGVkTmV3VXNlciB9IGZyb20gXCIuLi9DcmVhdGVkTmV3VXNlclwiO1xyXG5leHBvcnQgeyBGb3JtQ29tcGxldGVkRGVsaXZlcnlBZGRyZXNzIH0gZnJvbSBcIi4uL0Zvcm1Db21wbGV0ZWREZWxpdmVyeUFkZHJlc3NcIjtcclxuZXhwb3J0IHsgRm9ybUNvbXBsZXRlZFVzZXJJbmZvIH0gZnJvbSBcIi4uL0Zvcm1Db21wbGV0ZWRVc2VySW5mb1wiO1xyXG5leHBvcnQgeyBPZmZlclNlbGVjdGVkIH0gZnJvbSBcIi4vT2ZmZXJTZWxlY3RlZFwiO1xyXG5leHBvcnQgeyBTdWJzY3JpcHRpb25TdWNjZXNzIH0gZnJvbSBcIi4vU3Vic2NyaXB0aW9uU3VjY2Vzc1wiO1xyXG5leHBvcnQgeyBVcHNlbGxTZWxlY3RlZCB9IGZyb20gXCIuL1Vwc2VsbFNlbGVjdGVkXCI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9vZmZlckV2ZW50RGF0YS9pbmRleC50cyIsImltcG9ydCB7IE9mZmVyc0V2ZW50RGF0YUV2ZW50IH0gZnJvbSBcIi4uL09mZmVyc0V2ZW50RGF0YUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwbGVQYXlQcmVzZW50ZWQgZXh0ZW5kcyBPZmZlcnNFdmVudERhdGFFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwiYXBwbGVfcGF5X3ByZXNlbnRlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJBcHBsZVBheVByZXNlbnRlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIkFwcGxlUGF5UHJlc2VudGVkXCI7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyc0V2ZW50RGF0YS9BcHBsZVBheVByZXNlbnRlZC50cyIsImltcG9ydCB7IE9mZmVyc0V2ZW50RGF0YUV2ZW50IH0gZnJvbSBcIi4uL09mZmVyc0V2ZW50RGF0YUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT2ZmZXJzUHJlc2VudGVkIGV4dGVuZHMgT2ZmZXJzRXZlbnREYXRhRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9mZmVyc19wcmVzZW50ZWRfZVwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiT2ZmZXJzUHJlc2VudGVkXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiT2ZmZXJzUHJlc2VudGVkXCI7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyc0V2ZW50RGF0YS9PZmZlcnNQcmVzZW50ZWQudHMiLCJleHBvcnQgeyBPZmZlcnNQcmVzZW50ZWQgfSBmcm9tIFwiLi9PZmZlcnNQcmVzZW50ZWRcIjtcclxuZXhwb3J0IHsgQXBwbGVQYXlQcmVzZW50ZWQgfSBmcm9tIFwiLi9BcHBsZVBheVByZXNlbnRlZFwiO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvb2ZmZXJzRXZlbnREYXRhL2luZGV4LnRzIiwiaW1wb3J0IHsgQ29sbGVjdG9yIH0gZnJvbSBcIi4vLi4vQ29sbGVjdG9yXCI7XHJcbmltcG9ydCAqIGFzIFJlZ2lzdGVyZWRFdmVudHMgZnJvbSBcIi4vZXZlbnRzXCI7XHJcbmltcG9ydCB7IEV2ZW50TmFtZXMgfSBmcm9tIFwiQENvbGxlY3RvcnMvY29uc3RhbnRzL0V2ZW50c1wiO1xyXG5pbXBvcnQgeyBDZHBFdmVudCB9IGZyb20gXCIuLi9DZHBFdmVudFwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBDb21tb25FdmVudHNDb2xsZWN0b3IgZXh0ZW5kcyBDb2xsZWN0b3Ige1xyXG4gICAgZXZlbnRzOiBhbnkgPVtdO1xyXG4gICAgaXNFeGNsdWRlUGFnZVZpZXc6IGJvb2xlYW47XHJcblxyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3Rvcihpc0V4Y2x1ZGVQYWdlVmlldykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBSZWdpc3RlcmVkRXZlbnRzO1xyXG4gICAgICAgIHRoaXMuaXNFeGNsdWRlUGFnZVZpZXcgPSBpc0V4Y2x1ZGVQYWdlVmlldztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXJFdmVudHMoKSB7XHJcbiAgICAgICAgbGV0IGV2ZW50cyA9IE9iamVjdC5rZXlzKHRoaXMuZXZlbnRzKTtcclxuICAgICAgICBcclxuICAgICAgICBpZihldmVudHMgJiYgdGhpcy5pc0V4Y2x1ZGVQYWdlVmlldyl7XHJcbiAgICAgICAgICAgIGV2ZW50cyA9IGV2ZW50cy5maWx0ZXIoKGV2ZW50TmFtZSk9PiB7cmV0dXJuIGV2ZW50TmFtZSAhPSBFdmVudE5hbWVzLlBhZ2VWaWV3fSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV2ZW50cy5mb3JFYWNoKChldmVudE5hbWUpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxldCBldmVudExpc3RlbmVyOiBDZHBFdmVudCA9IG5ldyB0aGlzLmV2ZW50c1tldmVudE5hbWVdKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdID0gZXZlbnRMaXN0ZW5lcjtcclxuICAgICAgICAgICAgICAgIGV2ZW50TGlzdGVuZXIubGlzdGVuKCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvQ29tbW9uRXZlbnRzQ29sbGVjdG9yLnRzIiwiaW1wb3J0IHsgQ2RwRXZlbnQgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRcIjtcclxuaW1wb3J0IHsgRnBEZXZpY2VJbmZvSW50ZXJmYWNlIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2ludGVyZmFjZXMvRnBEZXZpY2VJbmZvSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50c01hbmFnZXIgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRzTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBEZXZpY2VNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvZGV2aWNlTW9kdWxlL0RldmljZU1vZHVsZVwiO1xyXG5pbXBvcnQgeyBDZHBNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY2RwTW9kdWxlL0NkcE1vZHVsZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBEZXZpY2VJZENoYW5nZSBleHRlbmRzIENkcEV2ZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uRGV2aWNlSWRDaGFuZ2VcIjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgbGlzdGVuRXZlbnQoZXZlbnROYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcImFkZEV2ZW50TGlzdGVuZXIuLi5cIiwgZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5GaW5nZXJwcmludCAhPT0gdW5kZWZpbmVkICYmICB0eXBlb2Ygd2luZG93LkZpbmdlcnByaW50Lm9uQ2hhbmdlZERldmljZUlkID09ICdmdW5jdGlvbicpICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LkZpbmdlcnByaW50Lm9uQ2hhbmdlZERldmljZUlkKClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigoZGV2aWNlSW5mbzogRnBEZXZpY2VJbmZvSW50ZXJmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJQcmV2aW91c0RhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRPcmlnaW5hbEV2ZW50RGF0YShkZXZpY2VJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RXZlbnROYW1lID0gZXZlbnROYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDZHBFdmVudHNNYW5hZ2VyLmV2ZW50RmlyZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGV2aWNlTW9kdWxlLmRldmljZUlDaGFuZ2VkKGRldmljZUluZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERldmljZU1vZHVsZS5kZXZpY2VJZElzTm90Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci53YXJuKFwiRmluZ2VycHJpbnQgaXMgdW5kZWZpbmVkLi4uIG9yIHZlcnNpb24gaXMgbm90IHN1cHBvcnQgcmVnZW5lcmF0ZSBvbkNoYW5nZWREZXZpY2VJZFwiLCBldmVudE5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNldE9yaWdpbmFsRGF0YShldmVudERhdGEpIHtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnREYXRhID0gZXZlbnREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiT25EZXZpY2VJZENoYW5nZVwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFNvdXJjZSA9IENvbnN0YW50cy5FdmVudHNTb3VyY2VzLkcySW5zaWdodHM7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkRldmljZUlkID0gdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5pZDtcclxuICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIE5ld0RldmljZUlkOiB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm5ld0lkLFxyXG4gICAgICAgICAgICBHMmlEZXZpY2VJZDogQ2RwTW9kdWxlLmdldEcyaURldmljZUlkKClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvZXZlbnRzL0RldmljZUlkQ2hhbmdlLnRzIiwiaW1wb3J0IHsgQ2RwRXZlbnQgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IExlYXZlUGFnZUV2ZW50RGF0YUludGVyZmFjZSB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9pbnRlcmZhY2VzL2V2ZW50RGF0YS9MZWF2ZVBhZ2VFdmVudERhdGFJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRzTWFuYWdlciB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudHNNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IERldmljZU1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9wYWdlVmlldy9EZXZpY2VNb2RlbFwiO1xyXG5pbXBvcnQgeyBNaXNjTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL21pc2NNb2R1bGUvTWlzY01vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExlYXZlUGFnZSBleHRlbmRzIENkcEV2ZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuSXNBc3luYyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWxFdmVudE5hbWUgPSBVdGlscy5nZXRQYWdlTGVhdmVFdmVudFRyaWdnZXIoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgbGlzdGVuRXZlbnQoZXZlbnROYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcImFkZEV2ZW50TGlzdGVuZXIuLi5cIiwgZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgVXRpbHMuYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcih3aW5kb3csIGV2ZW50TmFtZSwgKGU6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkZpcmluZyBldmVudE5hbWVcIiwgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyUHJldmlvdXNEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldE9yaWdpbmFsRXZlbnREYXRhKGUuZGV0YWlsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcclxuICAgICAgICAgICAgICAgIENkcEV2ZW50c01hbmFnZXIuc2V0Q2xvc2VQYWdlRmxhZyh0cnVlKTtcclxuICAgICAgICAgICAgICAgIENkcEV2ZW50c01hbmFnZXIuZXZlbnRGaXJlKHRoaXMpO1xyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNldE9yaWdpbmFsRGF0YShldmVudERhdGEpIHtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnREYXRhID0gZXZlbnREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEVuZFBhZ2VTZXNzaW9uKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiUGFnZUxlYXZlXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGU7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50U291cmNlID0gQ29uc3RhbnRzLkV2ZW50c1NvdXJjZXMuRzJJbnNpZ2h0cztcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnRQYWdlU2Vzc2lvbiA9IHRoaXMuc2Vzc2lvblNlcnZpY2UuZ2V0U3RhcnRQYWdlU2Vzc2lvbigpO1xyXG4gICAgICAgIGNvbnN0IGVuZFBhZ2VTZXNzaW9uID0gdGhpcy5nZXRFbmRQYWdlU2Vzc2lvbigpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUaW1lc3RhbXAgPSBlbmRQYWdlU2Vzc2lvbjtcclxuICAgICAgICBsZXQgZXZlbnREYXRhID0gPExlYXZlUGFnZUV2ZW50RGF0YUludGVyZmFjZT57XHJcbiAgICAgICAgICAgIFN0YXJ0U2Vzc2lvbjogc3RhcnRQYWdlU2Vzc2lvbixcclxuICAgICAgICAgICAgRW5kU2Vzc2lvbjogZW5kUGFnZVNlc3Npb24sXHJcbiAgICAgICAgICAgIExlbmd0aFNlc3Npb246IGVuZFBhZ2VTZXNzaW9uIC0gc3RhcnRQYWdlU2Vzc2lvbixcclxuICAgICAgICAgICAgRGV2aWNlOiBuZXcgRGV2aWNlTW9kZWwoKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZXZlbnREYXRhID0gdGhpcy5hZGRNaXNjSW5mbyhldmVudERhdGEpO1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkTWlzY0luZm8oZXZlbnREYXRhOiBMZWF2ZVBhZ2VFdmVudERhdGFJbnRlcmZhY2UpOiBMZWF2ZVBhZ2VFdmVudERhdGFJbnRlcmZhY2Uge1xyXG4gICAgICAgIGV2ZW50RGF0YS5NaXNjID0gTWlzY01vZHVsZS5nZXREYXRhKCk7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50RGF0YTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvZXZlbnRzL0xlYXZlUGFnZS50cyIsImltcG9ydCB7IENkcEV2ZW50IH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50XCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBQYWdlVmlld0RhdGFNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvUGFnZVZpZXdEYXRhTW9kZWxcIjtcclxuaW1wb3J0IHsgRmlyc3RWaXNpdFByb3BlcnRpZXMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0ZpcnN0VmlzaXRQcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7IEV2ZW50TmFtZXMgfSBmcm9tIFwiQENvbGxlY3RvcnMvY29uc3RhbnRzL0V2ZW50c1wiO1xyXG5pbXBvcnQgeyBDZHBFdmVudHNNYW5hZ2VyIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50c01hbmFnZXJcIjtcclxuaW1wb3J0IHsgRGF0ZVV0aWwgfSBmcm9tIFwiQFV0aWxzL0RhdGVVdGlsXCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvQ29uc3RhbnRzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGFnZVZpZXcgZXh0ZW5kcyBDZHBFdmVudCB7XHJcbiAgICBwcml2YXRlIHVzZXJQb3NpdGlvbjtcclxuICAgIHByaXZhdGUgaXNTdG9wTGlzdGVuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5Jc0FzeW5jID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZSA9IFV0aWxzLmdldFBhZ2VMZWF2ZUV2ZW50VHJpZ2dlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGxpc3RlbkV2ZW50KGV2ZW50TmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wTGlzdGVuKSByZXR1cm47XHJcblxyXG4gICAgICAgIFV0aWxzLmdldFVzZXJQb3NpdGlvbigpLnRoZW4oKHBvc2l0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudXNlclBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiYWRkRXZlbnRMaXN0ZW5lci4uLlwiLCBldmVudE5hbWUpO1xyXG4gICAgICAgICAgICBVdGlscy5hZGRDdXN0b21FdmVudExpc3RlbmVyKHdpbmRvdywgZXZlbnROYW1lLCAoZTogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzU3RvcExpc3RlbikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJGaXJpbmcgZXZlbnROYW1lXCIsIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclByZXZpb3VzRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRPcmlnaW5hbEV2ZW50RGF0YShlLmRldGFpbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRFdmVudE5hbWUgPSBldmVudE5hbWU7XHJcbiAgICAgICAgICAgICAgICBDZHBFdmVudHNNYW5hZ2VyLmV2ZW50RmlyZSh0aGlzKTtcclxuICAgICAgICAgICAgfSwgZmFsc2UpO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRPcmlnaW5hbERhdGEoZXZlbnREYXRhKSB7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSA9IGV2ZW50RGF0YTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBFdmVudE5hbWVzLlBhZ2VWaWV3O1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBFdmVudE5hbWVzLlBhZ2VWaWV3O1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFNvdXJjZSA9IENvbnN0YW50cy5FdmVudHNTb3VyY2VzLkcySW5zaWdodHM7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VGltZXN0YW1wID0gRGF0ZVV0aWwuZ2V0VGltZXN0YW1wKHRoaXMuc2Vzc2lvblNlcnZpY2UuZ2V0U3RhcnRQYWdlU2Vzc2lvbigpKTtcclxuICAgICAgICBsZXQgZXZlbnREYXRhID0gbmV3IFBhZ2VWaWV3RGF0YU1vZGVsKHsgTG9jYXRpb246IHRoaXMudXNlclBvc2l0aW9uIH0pO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXNlSW5DYWxjdWxhdGVGaXJzdFZpc2l0TW9kZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Rmlyc3RWaXNpdFByb3BlcnR5KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIEZpcnN0VmlzaXRQcm9wZXJ0aWVzLkNvdW50UGFnZXZpZXc7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcExpc3RlbigpIHtcclxuICAgICAgICB0aGlzLmlzU3RvcExpc3RlbiA9IHRydWU7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29tbW9uRXZlbnRzL2V2ZW50cy9QYWdlVmlldy50cyIsImV4cG9ydCB7IExlYXZlUGFnZSB9IGZyb20gXCIuL0xlYXZlUGFnZVwiXHJcbmV4cG9ydCB7IFBhZ2VWaWV3IH0gZnJvbSBcIi4vUGFnZVZpZXdcIjtcclxuZXhwb3J0IHsgRGV2aWNlSWRDaGFuZ2UgfSBmcm9tIFwiLi9EZXZpY2VJZENoYW5nZVwiXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbW1vbkV2ZW50cy9ldmVudHMvaW5kZXgudHMiLCJpbXBvcnQgeyBDb25uZXh0TW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2Nvbm5leHRNb2R1bGUvQ29ubmV4dE1vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduTW9kZWwge1xyXG4gICAgSWQ6IG51bWJlcjtcclxuICAgIE1ldGVyTGV2ZWw6IGFueTtcclxuICAgIENvbnZlcnNhdGlvbklkOiBhbnk7XHJcbiAgICBDb252ZXJzYXRpb25OYW1lOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29ubmV4dEV2ZW50RGF0YSkge1xyXG4gICAgICAgIHRoaXMuSWQgPSBjb25uZXh0RXZlbnREYXRhLkNhbXBhaWduSWQ7XHJcbiAgICAgICAgdGhpcy5NZXRlckxldmVsID0gY29ubmV4dEV2ZW50RGF0YS5NZXRlckxldmVsO1xyXG4gICAgICAgIHRoaXMuQ29udmVyc2F0aW9uSWQgPSB0aGlzLmdldENvbnZlcnNhdGlvbklkKGNvbm5leHRFdmVudERhdGEpO1xyXG4gICAgICAgIHRoaXMuQ29udmVyc2F0aW9uTmFtZSA9IHRoaXMuZ2V0Q29udmVyc2F0aW9uTmFtZShjb25uZXh0RXZlbnREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENvbnZlcnNhdGlvbklkKGNvbm5leHRFdmVudERhdGEpOiBzdHJpbmd7XHJcbiAgICAgICAgaWYoY29ubmV4dEV2ZW50RGF0YS5Db252ZXJzYXRpb24gJiYgY29ubmV4dEV2ZW50RGF0YS5Db252ZXJzYXRpb24uSWQpe1xyXG4gICAgICAgICAgICByZXR1cm4gY29ubmV4dEV2ZW50RGF0YS5Db252ZXJzYXRpb24uSWQ7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VDb252ZXJzYXRpb24gPSBDb25uZXh0TW9kdWxlLmdldEN1cnJlbnRDb252ZXJzYXRpb24oKTtcclxuICAgICAgICAgICAgaWYoc3RvcmFnZUNvbnZlcnNhdGlvbil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmFnZUNvbnZlcnNhdGlvbi5JZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENvbnZlcnNhdGlvbk5hbWUoY29ubmV4dEV2ZW50RGF0YSk6IHN0cmluZ3tcclxuICAgICAgICBpZihjb25uZXh0RXZlbnREYXRhLkNvbnZlcnNhdGlvbiAmJiBjb25uZXh0RXZlbnREYXRhLkNvbnZlcnNhdGlvbi5OYW1lKXtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbm5leHRFdmVudERhdGEuQ29udmVyc2F0aW9uLk5hbWU7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VDb252ZXJzYXRpb24gPSBDb25uZXh0TW9kdWxlLmdldEN1cnJlbnRDb252ZXJzYXRpb24oKTtcclxuICAgICAgICAgICAgaWYoc3RvcmFnZUNvbnZlcnNhdGlvbil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmFnZUNvbnZlcnNhdGlvbi5OYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L0NhbXBhaWduTW9kZWwudHMiLCJpbXBvcnQgeyBQYWdlTW9kZWwgfSBmcm9tIFwiLi9QYWdlTW9kZWxcIjtcclxuaW1wb3J0IHsgRGV2aWNlTW9kZWwgfSBmcm9tIFwiLi9EZXZpY2VNb2RlbFwiO1xyXG5pbXBvcnQgeyBMb2NhdGlvbk1vZGVsIH0gZnJvbSBcIi4vTG9jYXRpb25Nb2RlbFwiO1xyXG5pbXBvcnQgeyBDb25uZXh0VXNlck1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvbW9kZWxzL0Nvbm5leHRVc2VyTW9kZWxcIjtcclxuaW1wb3J0IHsgQ2FtcGFpZ25Nb2RlbCB9IGZyb20gXCIuL0NhbXBhaWduTW9kZWxcIjtcclxuaW1wb3J0IHsgRGltZW5zaW9uc01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9kaW1lbnNpb25zTW9kdWxlL0RpbWVuc2lvbnNNb2R1bGVcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29ubmV4dFBhZ2VWaWV3RGF0YU1vZGVsIHtcclxuICAgIExvY2F0aW9uOiBMb2NhdGlvbk1vZGVsO1xyXG4gICAgRGV2aWNlOiBEZXZpY2VNb2RlbDtcclxuICAgIERldmljZUJyb3dzZXJVc2VyQWdlbnQ6IHN0cmluZztcclxuICAgIFBhZ2U6IFBhZ2VNb2RlbDtcclxuICAgIFVzZXI6IENvbm5leHRVc2VyTW9kZWw7XHJcbiAgICBDYW1wYWlnbjogQ2FtcGFpZ25Nb2RlbDtcclxuICAgIExvYWRlclZlcnNpb25JbmZvOiBzdHJpbmc7XHJcbiAgICBGaW5nZXJwcmludFZlcnNpb25JbmZvOiBzdHJpbmc7XHJcbiAgICBEZW1vTW9kZTogYm9vbGVhbjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IGRhdGEuRXZlbnREYXRhID8gZGF0YS5FdmVudERhdGEgOiB7fTtcclxuICAgICAgICB0aGlzLkxvY2F0aW9uID0gbmV3IExvY2F0aW9uTW9kZWwoZXZlbnREYXRhLkxvY2F0aW9uKTtcclxuICAgICAgICB0aGlzLkRldmljZSA9IG5ldyBEZXZpY2VNb2RlbCgpO1xyXG4gICAgICAgIHRoaXMuRGV2aWNlQnJvd3NlclVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XHJcbiAgICAgICAgdGhpcy5QYWdlID0gbmV3IFBhZ2VNb2RlbChEaW1lbnNpb25zTW9kdWxlLmdldERpbWVuc2lvbnMoKSk7XHJcbiAgICAgICAgdGhpcy5Vc2VyID0gbmV3IENvbm5leHRVc2VyTW9kZWwoKTtcclxuICAgICAgICB0aGlzLkNhbXBhaWduID0gbmV3IENhbXBhaWduTW9kZWwoZGF0YSk7XHJcbiAgICAgICAgdGhpcy5Mb2FkZXJWZXJzaW9uSW5mbyA9IFV0aWxzLmdldExvYWRlclZlcnNpb25JbmZvKCk7XHJcbiAgICAgICAgdGhpcy5GaW5nZXJwcmludFZlcnNpb25JbmZvID0gVXRpbHMuZ2V0RmluZ2VycHJpbnRWZXJzaW9uSW5mbygpO1xyXG4gICAgICAgIHRoaXMuRGVtb01vZGUgPSBVdGlscy5nZXREZW1vTW9kZSgpO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9wYWdlVmlldy9Db25uZXh0UGFnZVZpZXdEYXRhTW9kZWwudHMiLCJpbXBvcnQgeyBQYWdlTW9kZWwgfSBmcm9tIFwiLi9QYWdlTW9kZWxcIjtcclxuaW1wb3J0IHsgRGV2aWNlTW9kZWwgfSBmcm9tIFwiLi9EZXZpY2VNb2RlbFwiO1xyXG5pbXBvcnQgeyBMb2NhdGlvbk1vZGVsIH0gZnJvbSBcIi4vTG9jYXRpb25Nb2RlbFwiO1xyXG5pbXBvcnQgeyBVc2VyTW9kZWwgfSBmcm9tIFwiLi9Vc2VyTW9kZWxcIjtcclxuaW1wb3J0IHsgRGltZW5zaW9uc01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9kaW1lbnNpb25zTW9kdWxlL0RpbWVuc2lvbnNNb2R1bGVcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGFnZVZpZXdEYXRhTW9kZWwge1xyXG4gICAgTG9jYXRpb246IExvY2F0aW9uTW9kZWw7XHJcbiAgICBEZXZpY2U6IERldmljZU1vZGVsO1xyXG4gICAgUGFnZTogUGFnZU1vZGVsO1xyXG4gICAgVXNlcjogVXNlck1vZGVsXHJcbiAgICBEZXZpY2VCcm93c2VyVXNlckFnZW50OiBzdHJpbmc7XHJcbiAgICBMb2FkZXJWZXJzaW9uSW5mbzogc3RyaW5nO1xyXG4gICAgRmluZ2VycHJpbnRWZXJzaW9uSW5mbzogc3RyaW5nO1xyXG4gICAgRGVtb01vZGU6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuTG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlbChkYXRhLkxvY2F0aW9uKTtcclxuICAgICAgICB0aGlzLkRldmljZSA9IG5ldyBEZXZpY2VNb2RlbCgpO1xyXG4gICAgICAgIHRoaXMuRGV2aWNlQnJvd3NlclVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XHJcbiAgICAgICAgdGhpcy5QYWdlID0gbmV3IFBhZ2VNb2RlbChEaW1lbnNpb25zTW9kdWxlLmdldERpbWVuc2lvbnMoKSk7XHJcbiAgICAgICAgdGhpcy5Vc2VyID0gbmV3IFVzZXJNb2RlbCgpO1xyXG4gICAgICAgIHRoaXMuTG9hZGVyVmVyc2lvbkluZm8gPSBVdGlscy5nZXRMb2FkZXJWZXJzaW9uSW5mbygpO1xyXG4gICAgICAgIHRoaXMuRmluZ2VycHJpbnRWZXJzaW9uSW5mbyA9IFV0aWxzLmdldEZpbmdlcnByaW50VmVyc2lvbkluZm8oKTtcclxuICAgICAgICB0aGlzLkRlbW9Nb2RlID0gVXRpbHMuZ2V0RGVtb01vZGUoKTtcclxuICAgIH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L1BhZ2VWaWV3RGF0YU1vZGVsLnRzIiwiaW1wb3J0IHsgQ2RwTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NkcE1vZHVsZS9DZHBNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVc2VyTW9kZWwge1xyXG4gICAgRVI6IGFueSA9IENkcE1vZHVsZS5nZXRFckNvZGUoKTtcclxuICAgIEVSUDogYW55ID0gQ2RwTW9kdWxlLmdldEVycENvZGUoKTtcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvVXNlck1vZGVsLnRzIiwiaW1wb3J0IHsgQ29sbGVjdG9yVHlwZXMgfSBmcm9tIFwiLi8uLi9jb25zdGFudHMvQ29sbGVjdG9yVHlwZXNcIjtcclxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCJAQ29yZS9iYXNlL2ZhY3RvcnkvRmFjdG9yeVwiO1xyXG5pbXBvcnQgeyBHdG1UYWdDb2xsZWN0b3IgfSBmcm9tIFwiLi9HdG1UYWdDb2xsZWN0b3JcIjtcclxuaW1wb3J0IHsgU3BHdG1UYWdDb2xsZWN0b3IgfSBmcm9tIFwiLi90YWctY29sbGVjdG9ycy9zcC10YWdzL1NwR3RtVGFnQ29sbGVjdG9yXCI7XHJcbmltcG9ydCB7IENvbm5leHRHdG1UYWdDb2xsZWN0b3IgfSBmcm9tIFwiLi90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvQ29ubmV4dEd0bVRhZ0NvbGxlY3RvclwiO1xyXG5pbXBvcnQgeyBMb2dnZXIsIExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEd0bVRhZ0NvbGxlY3RvckZhY3RvcnkgZXh0ZW5kcyBGYWN0b3J5IHtcclxuICAgIHByaXZhdGUgY29sbGVjdG9yVHlwZTogR3RtVGFnQ29sbGVjdG9yO1xyXG4gICAgcHJpdmF0ZSBjb2xsZWN0b3I7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJDb2xsZWN0b3JGYWN0b3J5XCIpO1xyXG4gICAgcHVibGljIGNvbGxlY3RNZXRhVGFnczogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbGxlY3RvcjogYW55KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmNvbGxlY3RvciA9IGNvbGxlY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlQ29sbGVjdG9yKCk6IEd0bVRhZ0NvbGxlY3RvciB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGNvbGxlY3RvciA9IHRoaXMuY29sbGVjdG9yO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkNyZWF0aW5nIENvbGxlY3RvcjogXCIsIGNvbGxlY3Rvcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY29sbGVjdG9yLnRvVXBwZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgQ29sbGVjdG9yVHlwZXMuQ29ubmV4dC50b1VwcGVyQ2FzZSgpOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdG9yVHlwZSA9IG5ldyBDb25uZXh0R3RtVGFnQ29sbGVjdG9yKClcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQ29sbGVjdG9yVHlwZXMuU1AudG9VcHBlckNhc2UoKTpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3RvclR5cGUgPSBuZXcgU3BHdG1UYWdDb2xsZWN0b3IoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJOb3QgYSB2YWxpZCBjb2xsZWN0b3JcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3RvclR5cGU7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci9HdG1UYWdDb2xsZWN0b3JGYWN0b3J5LnRzIiwiaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyXCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IEd0bVRhZ0NvbGxlY3RvckZhY3RvcnkgfSBmcm9tIFwiLi9HdG1UYWdDb2xsZWN0b3JGYWN0b3J5XCI7XHJcbmltcG9ydCB7IEluaXRPcHRpb25zIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9Jbml0T3B0aW9uc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEd0bVRhZ0NsYXNzIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkd0bVRhZ01vZHVsZVwiKTtcclxuICAgIHB1YmxpYyBzZXR1cChvcHRpb25zOiBJbml0T3B0aW9ucykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBjb2xsZWN0b3JzID0gb3B0aW9ucy5jb2xsZWN0b3JzO1xyXG5cclxuICAgICAgICAgICAgY29sbGVjdG9ycy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbGxlY3RvclR5cGUgPSBuZXcgR3RtVGFnQ29sbGVjdG9yRmFjdG9yeShpdGVtKS5jcmVhdGVDb2xsZWN0b3IoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJAIGZvckVhY2guQ29sbGVjdG9yID0gY29sbGVjdG9yVHlwZVwiLCBjb2xsZWN0b3JUeXBlKTtcclxuICAgICAgICAgICAgICAgIGlmICghY29sbGVjdG9yVHlwZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdG9yVHlwZS5yZWdpc3RlclRhZ0V2ZW50cygpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNvbnN0IEd0bVRhZ01vZHVsZSA9IG5ldyBHdG1UYWdDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL0d0bVRhZ01vZHVsZS50cyIsImltcG9ydCB7IEd0bVRhZ0NvbGxlY3RvciB9IGZyb20gXCIuLi8uLi9HdG1UYWdDb2xsZWN0b3JcIjtcclxuaW1wb3J0ICogYXMgUmVnaXN0ZXJlZFRhZ0V2ZW50cyBmcm9tIFwiLi9ldmVudHNcIlxyXG5cclxuZXhwb3J0IGNsYXNzIENvbm5leHRHdG1UYWdDb2xsZWN0b3IgZXh0ZW5kcyBHdG1UYWdDb2xsZWN0b3Ige1xyXG4gICAgZXZlbnRzOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IFJlZ2lzdGVyZWRUYWdFdmVudHM7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvQ29ubmV4dEd0bVRhZ0NvbGxlY3Rvci50cyIsImltcG9ydCB7IE1ldGVyU3RvcFRhZ0V2ZW50IH0gZnJvbSBcIi4vTWV0ZXJTdG9wVGFnRXZlbnRcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IEJhc2VBY3Rpb25UYWcgfSBmcm9tIFwiQERhdGEvbW9kZWxzL2Nvbm5leHQvdGFncy9BY3Rpb25UYWdzXCI7XHJcbmltcG9ydCB7IEFjdGlvblR5cGUsIEFjdGlvblR5cGVEaWN0LCBBY3Rpb25UeXBlcyB9IGZyb20gXCJARGF0YS9tb2RlbHMvY29ubmV4dC9BY3Rpb25Nb2RlbHNcIjtcclxuaW1wb3J0IHsgQ29ubmV4dEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4uL0Nvbm5leHRHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFjdGlvblNob3duVGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uQWN0aW9uU2hvd25cIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJhY3Rpb25TaG93blwiO1xyXG4gICAgcHJpdmF0ZSBhY3Rpb25UeXBlO1xyXG4gICAgcHJpdmF0ZSBhY3Rpb25TaG93VGFnO1xyXG4gICAgcHJpdmF0ZSBzZW5kRGF0YTtcclxuXHJcbiAgICBzZXRPcmlnaW5hbEV2ZW50RGF0YShkYXRhOiBhbnkpIHtcclxuICAgICAgICB0aGlzLnNlbmRUYWdOYW1lID0gXCJhY3Rpb25TaG93blwiO1xyXG4gICAgICAgIHN1cGVyLnNldE9yaWdpbmFsRXZlbnREYXRhKGRhdGEpO1xyXG4gICAgICAgIGxldCBldmVudERhdGEgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLkV2ZW50RGF0YTtcclxuICAgICAgICB0aGlzLmFjdGlvblR5cGUgPSB0aGlzLmdldEFjdGlvblR5cGUoZXZlbnREYXRhID8gZXZlbnREYXRhLkFjdGlvblR5cGVJZCA6IFwiXCIpO1xyXG4gICAgICAgIHRoaXMuYWN0aW9uU2hvd1RhZyA9IHRoaXMuZ2V0QWN0aW9uU2hvd1RhZygpO1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGlvblR5cGUgPT09IEFjdGlvblR5cGVzLlBheXdhbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIud2FybihcIklzIFBheXdhbGxcIik7XHJcbiAgICAgICAgICAgIG5ldyBNZXRlclN0b3BUYWdFdmVudCgpLnNlbmRUYWdUb0FuYWxpdGNzKG51bGwsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuYWN0aW9uU2hvd1RhZykpOyAvLyBnbG9iYWwgYXJyYXkgc3RvcmVzIGxpbmtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZW5kRGF0YSA9IHRoaXMuYWN0aW9uU2hvd1RhZztcclxuICAgIH07XHJcblxyXG4gICAgZ2V0U2VuZFRhZ0RhdGEoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUYWdOYW1lKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGlvblR5cGUgIT09IEFjdGlvblR5cGVzLlBheXdhbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIud2FybihcIk5PVCBQYXl3YWxsXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kVGFnTmFtZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldEFjdGlvblNob3dUYWcoKTogYW55IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZXZlbnREYXRhID0gdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5FdmVudERhdGE7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwicHJvY2Vzc2luZy4uLlwiLCBldmVudERhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGlvblR5cGUgPSBldmVudERhdGEuQWN0aW9uVHlwZSB8fCB0aGlzLmdldEFjdGlvblR5cGUoZXZlbnREYXRhLkFjdGlvblR5cGVJZCk7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLndhcm4oXCJBY3Rpb25UeXBlXCIsIHRoaXMuYWN0aW9uVHlwZSk7XHJcbiAgICAgICAgICAgIGxldCBwYXJzZWRVc2VyRGVmaW5lZERhdGEgPSBVdGlscy5wYXJzZUpzb24oZXZlbnREYXRhLlVzZXJEZWZpbmVkRGF0YSk7XHJcbiAgICAgICAgICAgIGxldCB1c2VyRGVmaW5lZERhdGE7XHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRVc2VyRGVmaW5lZERhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgdXNlckRlZmluZWREYXRhID0gcGFyc2VkVXNlckRlZmluZWREYXRhLmRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY3JlYXRlIGJhc2UgdGFnIG5vdywgYW5kIHRoZW4gd2UgY2FuIHBhc3MgdGhpcyBpbnRvIGVpdGhlciBoYW5kbGVBY3Rpb25TaG93biBvciBoYW5kbGVQYXl3YWxsLlxyXG4gICAgICAgICAgICBsZXQgYmFzZUFjdGlvblNob3duVGFnID0gPEJhc2VBY3Rpb25UYWc+e1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uTmFtZTogZXZlbnREYXRhLk5hbWUsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb25EZXNjcmlwdGlvbjogZXZlbnREYXRhLkRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uVHlwZTogdGhpcy5hY3Rpb25UeXBlLFxyXG4gICAgICAgICAgICAgICAgdXNlckRlZmluZWREYXRhOiBKU09OLnN0cmluZ2lmeSh1c2VyRGVmaW5lZERhdGEpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIud2FybihcIkJhc2UgQWN0aW9uIFNob3duIFRhZ1wiLCBiYXNlQWN0aW9uU2hvd25UYWcpO1xyXG4gICAgICAgICAgICByZXR1cm4gYmFzZUFjdGlvblNob3duVGFnO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0QWN0aW9uVHlwZSh0eXBlOiBudW1iZXIpOiBBY3Rpb25UeXBlIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcImdldEFjdGlvblR5cGVcIiwgdHlwZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBBY3Rpb25UeXBlRGljdFt0eXBlXTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvQWN0aW9uU2hvd25UYWdFdmVudC50cyIsImltcG9ydCB7IENvbm5leHRVc2VyU3RhdGUgfSBmcm9tIFwiQERhdGEvbW9kZWxzL2NvbW1vbi9Vc2VyTW9kZWxcIjtcclxuaW1wb3J0IHsgVXNlclNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvVXNlclNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ29ubmV4dEd0bVRhZ0V2ZW50IH0gZnJvbSBcIkBDb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL0Nvbm5leHRHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1dGhvcml6ZWRUYWdFdmVudCBleHRlbmRzIENvbm5leHRHdG1UYWdFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwib25BdXRob3JpemVkXCI7XHJcbiAgICBzZW5kVGFnTmFtZSA9IENvbm5leHRVc2VyU3RhdGUuYXV0aG9yaXplZDtcclxuICAgIHByaXZhdGUgdXNlclNlcnZpY2U6IFVzZXJTZXJ2aWNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy51c2VyU2VydmljZSA9IFVzZXJTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmRUYWdUb0FuYWxpdGNzKHRhZ05hbWU/LCB0YWdEYXRhPykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiaGFuZGxlVXNlclN0YXRlXCIsIFwiZXZlbnRcIiwgXCJkYXRhXCIsIHRoaXMub3JpZ2luYWxFdmVudERhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLnVzZXJTZXJ2aWNlLnNldFVzZXJTdGF0ZSh0aGlzLnNlbmRUYWdOYW1lLCB0aGlzLm9yaWdpbmFsRXZlbnREYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvQXV0aG9yaXplZFRhZ0V2ZW50LnRzIiwiaW1wb3J0IHsgQ29udmVyc2F0aW9uVGFnIH0gZnJvbSBcIkBEYXRhL21vZGVscy9jb25uZXh0L3RhZ3MvQ29udmVyc2F0aW9uVGFnXCI7XHJcbmltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCIuLy4uL0Nvbm5leHRHdG1UYWdFdmVudFwiO1xyXG5pbXBvcnQgeyBNZXRlclN0YXJ0VGFnRXZlbnQgfSBmcm9tIFwiLi9NZXRlclN0YXJ0VGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb252ZXJzYXRpb25EZXRlcm1pbmVkVGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uQ29udmVyc2F0aW9uRGV0ZXJtaW5lZFwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcImNvbnZlcnNhdGlvbkRldGVybWluZWRcIjtcclxuICAgIHByaXZhdGUgY29udmVyc2F0aW9uVGFnO1xyXG4gICAgcHJpdmF0ZSBjb252ZXJzYXRpb247XHJcbiAgICBwcml2YXRlIHByb3BlcnRpZXM7XHJcblxyXG4gICAgc2V0T3JpZ2luYWxFdmVudERhdGEoZGF0YSkge1xyXG4gICAgICAgIHN1cGVyLnNldE9yaWdpbmFsRXZlbnREYXRhKGRhdGEpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwicHJvY2Vzc2luZy4uLlwiLCB0aGlzLm9yaWdpbmFsRXZlbnREYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRDb252ZXJzYXRpb25UYWcoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNNZXRlclN0YXJ0KCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1ldGVyU3RhcnRUYWcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRTZW5kVGFnRGF0YSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb252ZXJzYXRpb25UYWc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRDb252ZXJzYXRpb25UYWcoKTogYW55IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnZlcnNhdGlvbiA9IHRoaXMub3JpZ2luYWxFdmVudERhdGEuQ29udmVyc2F0aW9uO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSB0aGlzLmNvbnZlcnNhdGlvbiAgPyAodGhpcy5jb252ZXJzYXRpb24uUHJvcHMgfHwgdGhpcy5jb252ZXJzYXRpb24uUHJvcGVydGllcykgOiB7fTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJoYW5kbGVDb252ZXJzYXRpb25EZXRlcm1pbmVkXCIsIFwiY29udmVyc2F0aW9uRGF0YVwiLCB0aGlzLm9yaWdpbmFsRXZlbnREYXRhKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRPRE86XHJcbiAgICAgICAgICAgIC8vIGxldCBkYXRhID0gdGhpcy5jb252ZXJzYXRpb25kYXRhO1xyXG5cclxuICAgICAgICAgICAgLy8gdmFyIGRhdGVTdGFydGVkID0gbmV3IERhdGUoZGF0YS5Qcm9wcy5EYXRlLnN0YXJ0ZWQpO1xyXG4gICAgICAgICAgICAvLyB2YXIgZGF0ZUV4cGlyYXRpb24gPSBuZXcgRGF0ZShkYXRhLlByb3BzLkRhdGUuZXhwaXJhdGlvbik7XHJcblxyXG4gICAgICAgICAgICAvLyB2YXIgZGF0ZVN0YXJ0ZWQgPSBuZXcgRGF0ZShkYXRhLlByb3BzLkRhdGUuc3RhcnRlZCkudG9Mb2NhbGVTdHJpbmcoKTtcclxuICAgICAgICAgICAgLy8gdmFyIGRhdGVFeHBpcmF0aW9uID0gbmV3IERhdGUoZGF0YS5Qcm9wcy5EYXRlLmV4cGlyYXRpb24pLnRvTG9jYWxlU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAvLyB2YXIgZGF0ZVN0YXJ0ZWQgPSBcIjIwMTgwNjI0XCI7XHJcbiAgICAgICAgICAgIC8vIHZhciBkYXRlRXhwaXJhdGlvbiA9IFwiMjAxODA2MjZcIjtcclxuICAgICAgICAgICAgbGV0IGRhdGVTdGFydGVkLCBkYXRlRXhwaXJhdGlvbjtcclxuICAgICAgICAgICAgbGV0IGRhdGVQcm9wZXJ0aWVzID0gdGhpcy5wcm9wZXJ0aWVzLkRhdGU7XHJcbiAgICAgICAgICAgIGlmIChkYXRlUHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgZGF0ZVN0YXJ0ZWQgPSBuZXcgRGF0ZShkYXRlUHJvcGVydGllcy5TdGFydGVkKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIC01KSArIFwiWlwiO1xyXG4gICAgICAgICAgICAgICAgZGF0ZUV4cGlyYXRpb24gPSBuZXcgRGF0ZShkYXRlUHJvcGVydGllcy5FeHBpcmF0aW9uKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIC01KSArIFwiWlwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB0b1VUQ1N0cmluZygpXHJcbiAgICAgICAgICAgIC8vIDIwMTYtMDEtMTcgMDg6NDQ6MjlcclxuICAgICAgICAgICAgLy8gdmFyIGRhdGVTdGFydGVkID0gZGF0YS5Qcm9wcy5EYXRlLnN0YXJ0ZWQ7XHJcbiAgICAgICAgICAgIC8vIHZhciBkYXRlRXhwaXJhdGlvbiA9IGRhdGEuUHJvcHMuRGF0ZS5leHBpcmF0aW9uO1xyXG5cclxuICAgICAgICAgICAgLy8gY3JlYXRlIGNvbnZlcnNhdGlvblRhZy5cclxuICAgICAgICAgICAgdGhpcy5jb252ZXJzYXRpb25UYWcgPSA8Q29udmVyc2F0aW9uVGFnPntcclxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbk5hbWU6IHRoaXMuY29udmVyc2F0aW9uLk5hbWUsXHJcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25WaWV3czogKHRoaXMucHJvcGVydGllcy5WaWV3cyA9PT0gMCkgPyAxIDogdGhpcy5wcm9wZXJ0aWVzLlZpZXdzLCAvLyBmaXggZm9yIGEgY29ubmV4dCBidWcgd2hlcmUgaWYgZmlyc3QgY29udmVyc2F0aW9uIHZpZXcgaXMgYSBub24tbWV0ZXJlZCBjb252byB0aGVuIGZpcnN0IG1ldGVyZWQgY29udm8gd2lsbCBoYXZlIGFydGljbGV2aWV3ID0gMC5cclxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvblZpZXdzTGVmdDogdGhpcy5wcm9wZXJ0aWVzLkFydGljbGVMZWZ0LFxyXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uUGF5d2FsbExpbWl0OiBwYXJzZUludCh0aGlzLnByb3BlcnRpZXMuUGF5d2FsbExpbWl0KSxcclxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbkRhdGVTdGFydGVkOiBkYXRlU3RhcnRlZCxcclxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbkRhdGVFeHBpcmF0YXRpb246IGRhdGVFeHBpcmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uRGF0ZUVuZGVkOiBkYXRlUHJvcGVydGllcy5FbmRlZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJDb252ZXJzYXRpb25UYWdcIiwgdGhpcy5jb252ZXJzYXRpb25UYWcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNNZXRlclN0YXJ0KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2aWV3cyA9IHRoaXMucHJvcGVydGllcy5WaWV3cztcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLndhcm4oXCJpc01ldGVyU3RhcnQgLS0gdmlld3NcIiwgZGF0YS5Qcm9wcy52aWV3cy50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIC8vIG9yIHN0YXRlbWVudCBpcyBmaXggZm9yIGEgY29ubmV4dCBidWcgd2hlcmUgaWYgZmlyc3QgY29udmVyc2F0aW9uIHZpZXcgaXMgYSBub24tbWV0ZXJlZCBjb252byB0aGVuIGZpcnN0IG1ldGVyZWQgY29udm8gd2lsbCBoYXZlIGFydGljbGV2aWV3ID0gMC5cclxuICAgICAgICAgICAgICAgIHJldHVybiAoKHZpZXdzID09PSAxIHx8IHZpZXdzID09PSAwKSAmJiB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLk1ldGVyTGV2ZWxJZCA9PT0gMikgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2VuZE1ldGVyU3RhcnRUYWcoKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJoYW5kbGVNZXRlclN0YXJ0XCIpO1xyXG4gICAgICAgICAgICAvLyBzaW5jZSBhbGwgQ29udmVyc2F0aW9uIERMVidzIGFyZSBzZXQgaW4gaGFuZGxlQ29udmVyc2F0aW9uRGV0ZXJtaW5lZCBhbmQgYXMgb2Ygbm93IHdlIGRvbid0IG5lZWQgZXh0cmEgZGF0YSBmb3IgTWV0ZXJTdGFydCwganVzdCBzZW5kIGVtcHR5IHBheWxvYWQuXHJcbiAgICAgICAgICAgIG5ldyBNZXRlclN0YXJ0VGFnRXZlbnQoKS5zZW5kVGFnVG9BbmFsaXRjcygpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvQ29udmVyc2F0aW9uRGV0ZXJtaW5lZFRhZ0V2ZW50LnRzIiwiaW1wb3J0IHsgQ29ubmV4dFVzZXJTdGF0ZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9kYXRhL21vZGVscy9jb21tb24vVXNlck1vZGVsXCI7XHJcbmltcG9ydCB7IFVzZXJTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2RhdGEvc2VydmljZXMvVXNlclNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ29ubmV4dEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4uL0Nvbm5leHRHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEhhc0FjY2Vzc1RhZ0V2ZW50IGV4dGVuZHMgQ29ubmV4dEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvbkhhc0FjY2Vzc1wiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBDb25uZXh0VXNlclN0YXRlLmhhc0FjY2VzcztcclxuICAgIHByaXZhdGUgdXNlclNlcnZpY2U6IFVzZXJTZXJ2aWNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy51c2VyU2VydmljZSA9IFVzZXJTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmRUYWdUb0FuYWxpdGNzKHRhZ05hbWU/LCB0YWdEYXRhPykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiaGFuZGxlVXNlclN0YXRlXCIsIFwiZXZlbnRcIiwgXCJkYXRhXCIsIHRoaXMub3JpZ2luYWxFdmVudERhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLnVzZXJTZXJ2aWNlLnNldFVzZXJTdGF0ZSh0aGlzLnNlbmRUYWdOYW1lLCB0aGlzLm9yaWdpbmFsRXZlbnREYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvSGFzQWNjZXNzVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBNZXRlckxldmVsRGljdCwgTWV0ZXJMZXZlbCB9IGZyb20gXCJARGF0YS9tb2RlbHMvY29ubmV4dC9NZXRlckxldmVsTW9kZWxzXCI7XHJcbmltcG9ydCB7IE1ldGVyTGV2ZWxEZXRlcm1pbmVkVGFnIH0gZnJvbSBcIkBEYXRhL21vZGVscy9jb25uZXh0L3RhZ3MvTWV0ZXJMZXZlbERldGVybWluZWRUYWdcIjtcclxuaW1wb3J0IHsgQ29ubmV4dEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4uL0Nvbm5leHRHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1ldGVyTGV2ZWxTZXRUYWdFdmVudCBleHRlbmRzIENvbm5leHRHdG1UYWdFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwib25NZXRlckxldmVsU2V0XCI7XHJcbiAgICBzZW5kVGFnTmFtZSA9IFwibWV0ZXJMZXZlbFNldFwiO1xyXG5cclxuICAgIHB1YmxpYyBnZXRTZW5kVGFnRGF0YSgpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IHRoaXMub3JpZ2luYWxFdmVudERhdGEuRXZlbnREYXRhO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiKysrKyBwcm9jZXNzaW5nLi4uXCIsIGRhdGEpO1xyXG4gICAgICAgICAgICByZXR1cm4gPE1ldGVyTGV2ZWxEZXRlcm1pbmVkVGFnPntcclxuICAgICAgICAgICAgICAgIG1ldGVyTGV2ZWw6IHRoaXMub3JpZ2luYWxFdmVudERhdGEuTWV0ZXJMZXZlbCxcclxuICAgICAgICAgICAgICAgIG1ldGVyTGV2ZWxEZXRlcm1pbmVNZXRob2Q6IGRhdGEuTWV0aG9kLFxyXG4gICAgICAgICAgICAgICAgbWV0ZXJSdWxlTmFtZTogKGRhdGEuUnVsZSkgPyBkYXRhLlJ1bGUuTmFtZSA6IFwiTm8gUnVsZVwiXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL01ldGVyTGV2ZWxTZXRUYWdFdmVudC50cyIsImltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuaW1wb3J0IHsgRW1haWxQcmVmZXJlbmNlSW50ZXJmYWNlIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvaW50ZXJmYWNlcy9FbWFpbFByZWZlcmVuY2VJbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBOZXdzbGV0dGVyU2lnblVwVGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uTmV3c2xldHRlclNpZ25VcFwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcIm5ld3NsZXR0ZXJTaWdudXBcIjtcclxuXHJcbiAgICBwdWJsaWMgZ2V0U2VuZFRhZ0RhdGEoKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBlbWFpbFByZWZlcmVuY2VJZDogdGhpcy5nZXRFbWFpbFByZWZlcmVuY2VJZHMoZGF0YS5FdmVudERhdGEpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRFbWFpbFByZWZlcmVuY2VJZHMoZXZlbnREYXRhOiBhbnkpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmIChldmVudERhdGEuRW1haWxQcmVmZXJlbmNlSWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50RGF0YS5FbWFpbFByZWZlcmVuY2VJZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgZW1haWxQcmVmZXJlbmNlc0lkcyA9IFtdO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudERhdGEuRW1haWxQcmVmZXJlbmNlcykpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5FbWFpbFByZWZlcmVuY2VzLmZvckVhY2goKGVtYWlsUHJlZmVyZW5jZTogRW1haWxQcmVmZXJlbmNlSW50ZXJmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWxQcmVmZXJlbmNlc0lkcy5wdXNoKGVtYWlsUHJlZmVyZW5jZS5JZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZW1haWxQcmVmZXJlbmNlc0lkcy5qb2luKFwiLFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9OZXdzbGV0dGVyU2lnblVwVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBDb25uZXh0VXNlclN0YXRlIH0gZnJvbSBcIi4vLi4vLi4vLi4vLi4vLi4vZGF0YS9tb2RlbHMvY29tbW9uL1VzZXJNb2RlbFwiO1xyXG5pbXBvcnQgeyBVc2VyU2VydmljZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9kYXRhL3NlcnZpY2VzL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBOb3RBdXRob3JpemVkVGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uTm90QXV0aG9yaXplZFwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBDb25uZXh0VXNlclN0YXRlLm5vdEF1dGhvcml6ZWQ7XHJcbiAgICBwcml2YXRlIHVzZXJTZXJ2aWNlOiBVc2VyU2VydmljZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMudXNlclNlcnZpY2UgPSBVc2VyU2VydmljZS5JbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kVGFnVG9BbmFsaXRjcyh0YWdOYW1lPywgdGFnRGF0YT8pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImhhbmRsZVVzZXJTdGF0ZVwiLCBcImRhdGFcIiwgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMudXNlclNlcnZpY2Uuc2V0VXNlclN0YXRlKHRoaXMuc2VuZFRhZ05hbWUsIHRoaXMub3JpZ2luYWxFdmVudERhdGEpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9Ob3RBdXRob3JpemVkVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBDb25uZXh0R3RtVGFnRXZlbnQgfSBmcm9tIFwiLi4vQ29ubmV4dEd0bVRhZ0V2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT25Jbml0VGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uSW5pdFwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcIm9uSW5pdFwiO1xyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9PbkluaXRUYWdFdmVudC50cyIsImltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYWdlVmlld1RhZ0V2ZW50IGV4dGVuZHMgQ29ubmV4dEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvbkZpbmlzaFwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcInBhZ2VWaWV3XCI7XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL1BhZ2VWaWV3VGFnRXZlbnQudHMiLCJleHBvcnQgeyBNZXRlckxldmVsU2V0VGFnRXZlbnQgfSBmcm9tIFwiLi9NZXRlckxldmVsU2V0VGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgQWN0aW9uU2hvd25UYWdFdmVudCB9IGZyb20gXCIuL0FjdGlvblNob3duVGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgQ29udmVyc2F0aW9uRGV0ZXJtaW5lZFRhZ0V2ZW50IH0gZnJvbSBcIi4vQ29udmVyc2F0aW9uRGV0ZXJtaW5lZFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IE1ldGVyU3RhcnRUYWdFdmVudCB9IGZyb20gXCIuL01ldGVyU3RhcnRUYWdFdmVudFwiO1xyXG5leHBvcnQgeyBNZXRlclN0b3BUYWdFdmVudCB9IGZyb20gXCIuL01ldGVyU3RvcFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IE9uSW5pdFRhZ0V2ZW50IH0gZnJvbSBcIi4vT25Jbml0VGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgUGFnZVZpZXdUYWdFdmVudCB9IGZyb20gXCIuL1BhZ2VWaWV3VGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgTmV3c2xldHRlclNpZ25VcFRhZ0V2ZW50IH0gZnJvbSBcIi4vTmV3c2xldHRlclNpZ25VcFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IEhhc0FjY2Vzc1RhZ0V2ZW50IH0gZnJvbSBcIi4vSGFzQWNjZXNzVGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgQXV0aG9yaXplZFRhZ0V2ZW50IH0gZnJvbSBcIi4vQXV0aG9yaXplZFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IE5vdEF1dGhvcml6ZWRUYWdFdmVudCB9IGZyb20gXCIuL05vdEF1dGhvcml6ZWRUYWdFdmVudFwiO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvaW5kZXgudHMiLCJpbXBvcnQgeyBHdG1UYWdDb2xsZWN0b3IgfSBmcm9tIFwiLi4vLi4vR3RtVGFnQ29sbGVjdG9yXCI7XHJcbmltcG9ydCAqIGFzIFJlZ2lzdGVyZWRUYWdFdmVudHMgZnJvbSBcIi4vZXZlbnRzXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBTcEd0bVRhZ0NvbGxlY3RvciAgZXh0ZW5kcyBHdG1UYWdDb2xsZWN0b3Ige1xyXG4gICAgZXZlbnRzOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IFJlZ2lzdGVyZWRUYWdFdmVudHM7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL1NwR3RtVGFnQ29sbGVjdG9yLnRzIiwiXHJcbmltcG9ydCB7IFNwR3RtVGFnRXZlbnQgfSBmcm9tIFwiLi8uLi9TcEd0bVRhZ0V2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmlsbGluZ0FkZHJlc3NDb21wbGV0ZWRUYWdFdmVudCBleHRlbmRzIFNwR3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcImJpbGxpbmdfYWRkcmVzc19jb21wbGV0ZWRfZVwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcInNwLkJpbGxpbmdBZGRyZXNzQ29tcGxldGVkXCI7XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9CaWxsaW5nQWRkcmVzc0NvbXBsZXRlZFRhZ0V2ZW50LnRzIiwiaW1wb3J0IHsgQ2hlY2tvdXRTdGFydFRhZyB9IGZyb20gXCJARGF0YS9tb2RlbHMvc3AvdGFncy9UYWdNb2RlbHNcIjtcclxuaW1wb3J0IHsgU3BHdG1UYWdFdmVudCB9IGZyb20gXCIuLy4uL1NwR3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDaGVja291dFN0YXJ0VGFnRXZlbnQgZXh0ZW5kcyBTcEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJwcmVzZW50YXRpb25fbG9hZGVkX2VcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5DaGVja291dFN0YXJ0XCI7XHJcblxyXG4gICAgZ2V0U2VuZFRhZ0RhdGEoKSB7XHJcbiAgICAgICAgY29uc3QgZm5OYW1lID0gXCJnZXRTZW5kVGFnRGF0YVwiO1xyXG4gICAgICAgIGxldCBwaWQ7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMub3JpZ2luYWxFdmVudERhdGE7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcImV2ZW50XCIsIFwiZGF0YVwiLCBkYXRhKTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGEucHJvbW90aW9uc0xpc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcIkhhcyBQcm9tb3Rpb25zTGlzdFwiKTtcclxuICAgICAgICAgICAgcGlkID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGRhdGEucHJvbW90aW9uc0xpc3QsIHMgPT4gcy5waWQpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKGZuTmFtZSwgXCJIYXMgUHJvbW90aW9uc0xpc3QucGlkTGlzdFwiLCBwaWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIEdUTSBUYWdcclxuICAgICAgICBsZXQgdGFnRGF0YSA9IDxDaGVja291dFN0YXJ0VGFnPntcclxuICAgICAgICAgICAgc3BfcGlkOiBwaWRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkYXRhLnBhcmFtcyAmJiBkYXRhLnBhcmFtcy5wcmVzZW50YXRpb25OYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ3JlYXRlQ2hlY2tvdXRTdGFydFRhZ1wiLCBcIkhhcyBQcmVzZW50YXRpb24gUGFyYW1zXCIpO1xyXG4gICAgICAgICAgICB0YWdEYXRhW1wic3BfcHJlc2VudGF0aW9uTmFtZVwiXSA9IGRhdGEucGFyYW1zLnByZXNlbnRhdGlvbk5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKGZuTmFtZSwgXCJ0YWdEYXRhID0+XCIsIHRhZ0RhdGEpO1xyXG4gICAgICAgIHJldHVybiB0YWdEYXRhO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvQ2hlY2tvdXRTdGFydFRhZ0V2ZW50LnRzIiwiaW1wb3J0IHsgU3BHdG1UYWdFdmVudCB9IGZyb20gXCIuLy4uL1NwR3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVhdGVkTmV3VXNlcnRhZ0V2ZW50IGV4dGVuZHMgU3BHdG1UYWdFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwiY3JlYXRlZF9uZXdfdXNlcl9lXCI7XHJcbiAgICBzZW5kVGFnTmFtZSA9IFwic3AuQ3JlYXRlZE5ld1VzZXJcIjtcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL0NyZWF0ZWROZXdVc2VydGFnRXZlbnQudHMiLCJpbXBvcnQgeyBTcEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4vLi4vU3BHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERlbGV2ZXJ5QWRkcmVzc0NvbXBsZXRlZCBleHRlbmRzIFNwR3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcImRlbGl2ZXJ5X2FkZHJlc3NfY29tcGxldGVkX2VcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5EZWxpdmVyeUFkZHJlc3NDb21wbGV0ZWRcIjtcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL0RlbGV2ZXJ5QWRkcmVzc0NvbXBsZXRlZC50cyIsImltcG9ydCB7IE9mZmVyU2VsZWN0ZWRUYWcgfSBmcm9tIFwiQERhdGEvbW9kZWxzL3NwL3RhZ3MvVGFnTW9kZWxzXCI7XHJcbmltcG9ydCB7IFNwR3RtVGFnRXZlbnQgfSBmcm9tIFwiLi8uLi9TcEd0bVRhZ0V2ZW50XCI7XHJcbmltcG9ydCB7IE9mZmVyVGFnTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3NwL09mZmVyVGFnTW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPZmZlclNlbGVjdGVkVGFnRXZlbnQgZXh0ZW5kcyBTcEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvZmZlcl9zZWxlY3RlZF9lXCI7XHJcbiAgICBzZW5kVGFnTmFtZSA9IFwic3AuT2ZmZXJTZWxlY3RlZFwiO1xyXG5cclxuICAgIGdldFNlbmRUYWdEYXRhKCkge1xyXG4gICAgICAgIGNvbnN0IGZuTmFtZSA9IFwiW3Byb2Nlc3MuLi5PZmZlclNlbGVjdGVkXVwiO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKGZuTmFtZSwgXCJkYXRhXCIsIHRoaXMub3JpZ2luYWxFdmVudERhdGEpO1xyXG4gICAgICAgICAgICBjb25zdCBvZmZlclRhZ0RhdGEgPSBuZXcgT2ZmZXJUYWdNb2RlbCh0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm9mZmVyKTtcclxuICAgICAgICAgICAgLy8gY3JlYXRlIEdUTSBUYWdcclxuICAgICAgICAgICAgcmV0dXJuIDxPZmZlclNlbGVjdGVkVGFnPntcclxuICAgICAgICAgICAgICAgIHNwX29mZmVySWQ6IG9mZmVyVGFnRGF0YS5JZCxcclxuICAgICAgICAgICAgICAgIHNwX29mZmVyUGxhbk5hbWU6IG9mZmVyVGFnRGF0YS5QbGFuTmFtZSxcclxuICAgICAgICAgICAgICAgIHNwX29mZmVyUHJpY2U6IG9mZmVyVGFnRGF0YS5Ub3RhbFByaWNlLFxyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJUeXBlOiBvZmZlclRhZ0RhdGEuVHlwZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9PZmZlclNlbGVjdGVkVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBPZmZlcnNQcmVzZW50ZWRUYWcgfSBmcm9tIFwiQERhdGEvbW9kZWxzL3NwL3RhZ3MvVGFnTW9kZWxzXCI7XHJcbmltcG9ydCB7IFNwR3RtVGFnRXZlbnQgfSBmcm9tIFwiLi4vU3BHdG1UYWdFdmVudFwiO1xyXG5pbXBvcnQgeyBPZmZlclRhZ01vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9zcC9PZmZlclRhZ01vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT2ZmZXJzUHJlc2VudGVkVGFnRXZlbnQgZXh0ZW5kcyBTcEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvZmZlcnNfcHJlc2VudGVkX2VcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5PZmZlcnNQcmVzZW50ZWRcIjtcclxuXHJcbiAgICBnZXRTZW5kVGFnRGF0YSgpIHtcclxuICAgICAgICBjb25zdCBwbGFuRGF0YSA9IHRoaXMuZ2V0UGxhbklkcyh0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm9mZmVycyk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIDxPZmZlcnNQcmVzZW50ZWRUYWc+e1xyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJJZHM6IHBsYW5EYXRhLnBsYW5JZHMsXHJcbiAgICAgICAgICAgICAgICBzcF9vZmZlclBsYW5OYW1lczogcGxhbkRhdGEucGxhbk5hbWVzLFxyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJQbGFuQ29uY2F0OiBwbGFuRGF0YS5wbGFuc0NvbmNhdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRQbGFuSWRzKG9mZmVycyl7XHJcbiAgICAgICAgbGV0IHBsYW5JZHMgPSBbXSxcclxuICAgICAgICAgICAgcGxhbk5hbWVzID0gW10sXHJcbiAgICAgICAgICAgIHBsYW5zQ29uY2F0ID0gW107XHJcblxyXG4gICAgICAgIGlmKG9mZmVycyl7XHJcbiAgICAgICAgICAgIG9mZmVycy5mb3JFYWNoKG9mZmVyID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhZ09mZmVyID0gbmV3IE9mZmVyVGFnTW9kZWwob2ZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYW5JZHMucHVzaCh0YWdPZmZlci5JZCksXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhbk5hbWVzLnB1c2godGFnT2ZmZXIuUGxhbk5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYW5zQ29uY2F0LnB1c2godGFnT2ZmZXIuSWQgKyBcIjpcIiArIHRhZ09mZmVyLlBsYW5OYW1lKVxyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBwbGFuSWRzOiBwbGFuSWRzLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIHBsYW5OYW1lczogcGxhbk5hbWVzLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIHBsYW5zQ29uY2F0OiBwbGFuc0NvbmNhdC50b1N0cmluZygpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvT2ZmZXJzUHJlc2VudGVkVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBQYXltZW50Q29tcGxldGVkVGFnIH0gZnJvbSBcIkBEYXRhL21vZGVscy9zcC90YWdzL1RhZ01vZGVsc1wiO1xyXG5pbXBvcnQgeyBQYXltZW50VHlwZXMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29uc3RhbnRzL1BheW1lbnRUeXBlc1wiO1xyXG5pbXBvcnQgeyBTcEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4vLi4vU3BHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBheW1lbnRDb21wbGV0ZWRUYWdFdmVudCBleHRlbmRzIFNwR3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWVzID0gT2JqZWN0LmtleXMoUGF5bWVudFR5cGVzKTtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5QYXltZW50Q29tcGxldGVkXCI7XHJcblxyXG5cclxuICAgIGdldFNlbmRUYWdEYXRhKCkge1xyXG4gICAgICAgIGxldCBmbk5hbWUgPSBcIltwcm9jZXNzLi4uUGF5bWVudENvbXBsZXRlZF1cIjtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgcGF5bWVudE1ldGhvZCA9IFBheW1lbnRUeXBlc1t0aGlzLmN1cnJlbnRFdmVudE5hbWVdO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwicGF5bWVudE1ldGhvZFwiLCBwYXltZW50TWV0aG9kKTtcclxuICAgICAgICAgICAgLy8gY3JlYXRlIEdUTSBUYWdcclxuICAgICAgICAgICAgcmV0dXJuIDxQYXltZW50Q29tcGxldGVkVGFnPntcclxuICAgICAgICAgICAgICAgIHNwX3BheW1lbnRUeXBlOiBwYXltZW50TWV0aG9kXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9QYXltZW50Q29tcGxldGVkVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBTdWJzY3JpcHRpb25Db21wbGV0ZWRUYWcgfSBmcm9tIFwiQERhdGEvbW9kZWxzL3NwL3RhZ3MvVGFnTW9kZWxzXCI7XHJcbmltcG9ydCB7IFNwR3RtVGFnRXZlbnQgfSBmcm9tIFwiLi8uLi9TcEd0bVRhZ0V2ZW50XCI7XHJcbmltcG9ydCB7IE9mZmVyVGFnTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3NwL09mZmVyVGFnTW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdWJzY3JpcHRpb25TdWNjZXNzVGFnRXZlbnQgZXh0ZW5kcyBTcEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJhZGRfc3Vic2NyaXB0aW9uX3N1Y2Nlc3NfZVwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcInNwLlN1YnNjcmlwdGlvblN1Y2Nlc3NcIjtcclxuXHJcbiAgICBnZXRTZW5kVGFnRGF0YSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgR1RNIFRhZ1xyXG4gICAgICAgICAgICBjb25zdCBvZmZlclRhZyA9IG5ldyBPZmZlclRhZ01vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXIpO1xyXG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLnN1YnNjcmlwdGlvbiB8fCB7fTtcclxuICAgICAgICAgICAgcmV0dXJuIDxTdWJzY3JpcHRpb25Db21wbGV0ZWRUYWc+e1xyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJJZDogb2ZmZXJUYWcuSWQgLFxyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJQbGFuTmFtZTogb2ZmZXJUYWcuUGxhbk5hbWUsXHJcbiAgICAgICAgICAgICAgICBzcF9vZmZlclByaWNlOiBvZmZlclRhZy5Ub3RhbFByaWNlLFxyXG4gICAgICAgICAgICAgICAgc3Bfc3ViRXZlbnRJZDogc3Vic2NyaXB0aW9uLkV2ZW50SWQsXHJcbiAgICAgICAgICAgICAgICBzcF9hY2NvdW50TnVtYmVyOiBzdWJzY3JpcHRpb24uQWNjb3VudE51bWJlcixcclxuICAgICAgICAgICAgICAgIHNwX3BheW1lbnRBdXRob3JpemF0aW9uQ29kZTogc3Vic2NyaXB0aW9uLlBheW1lbnRBdXRob3JpemF0aW9uQ29kZSxcclxuICAgICAgICAgICAgICAgIHNwX3N1YlN1YnNjcmlwdGlvbklkOiBzdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uSUQsXHJcbiAgICAgICAgICAgICAgICBzcF9zdWJTdWJzY3JpYmVySWQ6IHN1YnNjcmlwdGlvbi5TdWJzY3JpYmVySUQsXHJcbiAgICAgICAgICAgICAgICBzcF9yZWRpcmVjdFVybDogc3Vic2NyaXB0aW9uLlJlZGlyZWN0VXJsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9TdWJzY3JpcHRpb25TdWNjZXNzVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBTcEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4vLi4vU3BHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVzZXJJbmZvQ29tcGxldGVkVGFnRXZlbnQgZXh0ZW5kcyBTcEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJ1c2VyX2luZm9fY29tcGxldGVkX2VcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5Vc2VySW5mb0NvbXBsZXRlZFwiO1xyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvVXNlckluZm9Db21wbGV0ZWRUYWdFdmVudC50cyIsImV4cG9ydCB7IEJpbGxpbmdBZGRyZXNzQ29tcGxldGVkVGFnRXZlbnQgfSBmcm9tIFwiLi9CaWxsaW5nQWRkcmVzc0NvbXBsZXRlZFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IENoZWNrb3V0U3RhcnRUYWdFdmVudCB9IGZyb20gXCIuL0NoZWNrb3V0U3RhcnRUYWdFdmVudFwiO1xyXG5leHBvcnQgeyBDcmVhdGVkTmV3VXNlcnRhZ0V2ZW50IH0gZnJvbSBcIi4vQ3JlYXRlZE5ld1VzZXJ0YWdFdmVudFwiO1xyXG5leHBvcnQgeyBEZWxldmVyeUFkZHJlc3NDb21wbGV0ZWQgfSBmcm9tIFwiLi9EZWxldmVyeUFkZHJlc3NDb21wbGV0ZWRcIjtcclxuZXhwb3J0IHsgT2ZmZXJTZWxlY3RlZFRhZ0V2ZW50IH0gZnJvbSBcIi4vT2ZmZXJTZWxlY3RlZFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IE9mZmVyc1ByZXNlbnRlZFRhZ0V2ZW50IH0gZnJvbSBcIi4vT2ZmZXJzUHJlc2VudGVkVGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgUGF5bWVudENvbXBsZXRlZFRhZ0V2ZW50IH0gZnJvbSBcIi4vUGF5bWVudENvbXBsZXRlZFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IFN1YnNjcmlwdGlvblN1Y2Nlc3NUYWdFdmVudCB9IGZyb20gXCIuL1N1YnNjcmlwdGlvblN1Y2Nlc3NUYWdFdmVudFwiO1xyXG5leHBvcnQgeyBVc2VySW5mb0NvbXBsZXRlZFRhZ0V2ZW50IH0gZnJvbSBcIi4vVXNlckluZm9Db21wbGV0ZWRUYWdFdmVudFwiO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL2luZGV4LnRzIiwiZXhwb3J0IGNsYXNzIERvbUNsYXNzIHtcclxuICAgIGZpbmRBbmNlc3RvcihlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50KSAmJiAhZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSk7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBEb20gPSBuZXcgRG9tQ2xhc3MoKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb3JlL2RvbS9Eb20udHMiLCJpbXBvcnQgeyBEZXZpY2VEZXRlY3RvciB9IGZyb20gXCJAVXRpbHMvRGV2aWNlRGV0ZWN0b3JcIjtcclxuXHJcbmNsYXNzIENvb2tpZUR1YmxpY2F0b3Ige1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzYWZhcmlDb29raWVNYXhBZ2UgPSA2MDQ4MDAwMDA7IC8vIDcgZGF5c1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcmVmaXggPSBcIkNvb2tpZV9cIjtcclxuXHJcbiAgICBwdWJsaWMgZHVibGljYXRlQ29va2llVG9Mb2NhbFN0b3JhZ2VJZkl0TmVlZChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgYXR0cmlidXRlczogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRHVibGljYXRlVG9Mb2NhbFN0b3JhZ2Uoa2V5LCB2YWx1ZSwgYXR0cmlidXRlcykgfHwgIXZhbHVlKSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMucHJlZml4ICsga2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY29va2llID0gT2JqZWN0LmFzc2lnbih7fSwgYXR0cmlidXRlcyk7XHJcbiAgICAgICAgY29va2llW1wia2V5XCJdID0ga2V5O1xyXG4gICAgICAgIGNvb2tpZVtcInZhbHVlXCJdID0gdmFsdWU7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5wcmVmaXggKyBrZXksIEpTT04uc3RyaW5naWZ5KGNvb2tpZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkdWJsaWNhdGVMb2NhbFN0b3JhZ2VUb0Nvb2tpZUlmSXROZWVkKGtleTogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRHVibGljYXRlVG9Db29raWUoa2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjb29raWUsXHJcbiAgICAgICAgICAgIGNvb2tpZUFnZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb29raWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMucHJlZml4ICsga2V5KSk7XHJcbiAgICAgICAgICAgIGNvb2tpZUFnZSA9IG5ldyBEYXRlKGNvb2tpZS5leHBpcmVzKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMucHJlZml4ICsga2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc091dERhdGVkTG9jYWxTdG9yYWdlKGNvb2tpZUFnZSkpIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5wcmVmaXggKyBrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IHRoaXMuc3RyaW5naWZ5QXR0cmlidXRlcyhjb29raWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNEdWJsaWNhdGVUb0Nvb2tpZShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzU2FmYXJpKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc0R1YmxpY2F0ZVRvTG9jYWxTdG9yYWdlKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBhdHRyaWJ1dGVzOiBhbnkpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAodGhpcy5pc1NhZmFyaSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzRHVibGljYXRlU2FmYXJpKG5ldyBEYXRlKGF0dHJpYnV0ZXMuZXhwaXJlcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc0R1YmxpY2F0ZVNhZmFyaShjb29raWVBZ2U6IERhdGUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gY29va2llQWdlLmdldFRpbWUoKSA+IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgKyB0aGlzLnNhZmFyaUNvb2tpZU1heEFnZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0cmluZ2lmeUF0dHJpYnV0ZXMoYXR0cmlidXRlczogYW55KTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgc3RyaW5naWZpZWRBdHRyaWJ1dGVzID0gYXR0cmlidXRlcy5rZXkgKyBcIj1cIiArIGF0dHJpYnV0ZXMudmFsdWU7XHJcbiAgICAgICAgZGVsZXRlIGF0dHJpYnV0ZXMua2V5O1xyXG4gICAgICAgIGRlbGV0ZSBhdHRyaWJ1dGVzLnZhbHVlO1xyXG4gICAgICAgIGZvciAobGV0IGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSBcIjsgXCIgKyBhdHRyaWJ1dGVOYW1lO1xyXG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9IFwiPVwiICsgYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVkQXR0cmlidXRlcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzT3V0RGF0ZWRMb2NhbFN0b3JhZ2UoY29va2llQWdlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIChuZXcgRGF0ZSkuZ2V0VGltZSgpID49IGNvb2tpZUFnZS5nZXRUaW1lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc1NhZmFyaSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gRGV2aWNlRGV0ZWN0b3IuZ2V0QnJvd3NlcigpID09PSBcIlNhZmFyaVwiO1xyXG4gICAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb29raWVEdWJsaWNhdG9yID0gbmV3IENvb2tpZUR1YmxpY2F0b3IoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvcmUvc3RvcmFnZXMvY29va2llcy9Db29raWVEdWJsaWNhdG9yLnRzIiwiaW1wb3J0IHsgY29va2llRHVibGljYXRvciB9IGZyb20gXCIuL0Nvb2tpZUR1YmxpY2F0b3JcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBKc0Nvb2tpZSB7XHJcblxyXG4gICAgcHJpdmF0ZSBkZWZhdWx0cztcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBKc0Nvb2tpZTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IEpzQ29va2llIHtcclxuICAgICAgICBpZiAoIUpzQ29va2llLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIEpzQ29va2llLmluc3RhbmNlID0gbmV3IEpzQ29va2llKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBKc0Nvb2tpZS5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICB0aGlzLmRlZmF1bHRzID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBleHRlbmQoLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHt9O1xyXG4gICAgICAgIGZvciAoOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgYXR0cmlidXRlcyA9IGFyZ3NbaV07XHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQoa2V5LCB2YWx1ZSwgYXR0cmlidXRlcywgY29udmVydGVyOiBhbnkgPSB7fSkge1xyXG4gICAgICAgIGxldCByZXN1bHQ7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhdHRyaWJ1dGVzID0gdGhpcy5leHRlbmQoe1xyXG4gICAgICAgICAgICBwYXRoOiBcIi9cIlxyXG4gICAgICAgIH0sIHRoaXMuZGVmYXVsdHMsIGF0dHJpYnV0ZXMpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMuZXhwaXJlcyA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBsZXQgZXhwaXJlcyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIGV4cGlyZXMuc2V0TWlsbGlzZWNvbmRzKGV4cGlyZXMuZ2V0TWlsbGlzZWNvbmRzKCkgKyBhdHRyaWJ1dGVzLmV4cGlyZXMgKiA4NjRlKzUpO1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzLmV4cGlyZXMgPSBleHBpcmVzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gV2UncmUgdXNpbmcgXCJleHBpcmVzXCIgYmVjYXVzZSBcIm1heC1hZ2VcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IElFXHJcbiAgICAgICAgYXR0cmlidXRlcy5leHBpcmVzID0gYXR0cmlidXRlcy5leHBpcmVzID8gYXR0cmlidXRlcy5leHBpcmVzLnRvVVRDU3RyaW5nKCkgOiBcIlwiO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmICgvXltcXHtcXFtdLy50ZXN0KHJlc3VsdCkpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyB9XHJcblxyXG4gICAgICAgIGlmICghY29udmVydGVyLndyaXRlKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyh2YWx1ZSkpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnwzQXwzQ3wzRXwzRHwyRnwzRnw0MHw1Qnw1RHw1RXw2MHw3Qnw3RHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IGNvbnZlcnRlci53cml0ZSh2YWx1ZSwga2V5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGtleSA9IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoa2V5KSk7XHJcbiAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8NUV8NjB8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XHJcbiAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoL1tcXChcXCldL2csIGVzY2FwZSk7XHJcblxyXG4gICAgICAgIGxldCBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgPSBcIlwiO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gXCI7IFwiICsgYXR0cmlidXRlTmFtZTtcclxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSBcIj1cIiArIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb29raWVEdWJsaWNhdG9yLmR1YmxpY2F0ZUNvb2tpZVRvTG9jYWxTdG9yYWdlSWZJdE5lZWQoa2V5LCB2YWx1ZSwgYXR0cmlidXRlcyk7XHJcblxyXG4gICAgICAgIHJldHVybiAoZG9jdW1lbnQuY29va2llID0ga2V5ICsgXCI9XCIgKyB2YWx1ZSArIHN0cmluZ2lmaWVkQXR0cmlidXRlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldChrZXksIGNvbnZlcnRlcjogYW55ID0ge30sIGpzb246IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIGxldCByZXN1bHQ7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWtleSkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvb2tpZUR1YmxpY2F0b3IuZHVibGljYXRlTG9jYWxTdG9yYWdlVG9Db29raWVJZkl0TmVlZChrZXkpO1xyXG5cclxuICAgICAgICBsZXQgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZSA/IGRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjsgXCIpIDogW107XHJcbiAgICAgICAgbGV0IHJkZWNvZGUgPSAvKCVbMC05QS1aXXsyfSkrL2c7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG5cclxuICAgICAgICBmb3IgKDsgaSA8IGNvb2tpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHBhcnRzID0gY29va2llc1tpXS5zcGxpdChcIj1cIik7XHJcbiAgICAgICAgICAgIGxldCBjb29raWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKFwiPVwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghanNvbiAmJiBjb29raWUuY2hhckF0KDApID09PSBcIlxcXCJcIikge1xyXG4gICAgICAgICAgICAgICAgY29va2llID0gY29va2llLnNsaWNlKDEsIC0xKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxldCBuYW1lID0gcGFydHNbMF0ucmVwbGFjZShyZGVjb2RlLCBkZWNvZGVVUklDb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgY29va2llID0gY29udmVydGVyLnJlYWQgPyBjb252ZXJ0ZXIucmVhZChjb29raWUsIG5hbWUpIDogY29va2llLnJlcGxhY2UocmRlY29kZSwgZGVjb2RlVVJJQ29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoanNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tpZSA9IEpTT04ucGFyc2UoY29va2llKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gY29va2llO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICgha2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W25hbWVdID0gY29va2llO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7IH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEpzb24oa2V5LCBjb252ZXJ0ZXI6IGFueSA9IHt9KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KGtleSwgY29udmVydGVyLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlKGtleSwgYXR0cmlidXRlcykge1xyXG4gICAgICAgIHRoaXMuc2V0KGtleSwgXCJcIiwgdGhpcy5leHRlbmQoYXR0cmlidXRlcywge1xyXG4gICAgICAgICAgICBleHBpcmVzOiAtMVxyXG4gICAgICAgIH0pKTtcclxuICAgIH07XHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29yZS9zdG9yYWdlcy9jb29raWVzL0pzQ29va2llLnRzIiwiaW1wb3J0IHsgU3RvcmFnZUludGVyZmFjZSB9IGZyb20gXCIuLi9TdG9yYWdlSW50ZXJmYWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9jYWxTdG9yYWdlIGltcGxlbWVudHMgU3RvcmFnZUludGVyZmFjZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNTdXBwb3J0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cubG9jYWxTdG9yYWdlICE9PSBcInVuZGVmaW5lZFwiO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQoa2V5OiBzdHJpbmcpOiBhbnkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0KGtleTogc3RyaW5nLCBvYmplY3Q6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkob2JqZWN0KSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHsgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWxldGUoa2V5OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHsgfVxyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29yZS9zdG9yYWdlcy9sb2NhbC9Mb2NhbFN0b3JhZ2UudHMiLCJpbXBvcnQgeyBMb2dnZXIsIExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vdXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IElBcHBJbnNpZ2h0c1NlcnZpY2UgfSBmcm9tIFwiLi4vY29udHJhY3RzL0lBcHBJbnNpZ2h0c1NlcnZpY2VcIjtcclxuaW1wb3J0IHsgTWV0YURhdGFTZXJ2aWNlIH0gZnJvbSBcIi4vTWV0YURhdGFTZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwSW5zaWdodHNTZXJ2aWNlIGltcGxlbWVudHMgSUFwcEluc2lnaHRzU2VydmljZSB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogQXBwSW5zaWdodHNTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiQXBwSW5zaWdodHNTZXJ2aWNlXCIpO1xyXG4gICAgcHJpdmF0ZSBkaW1lbnNpb25TZXJ2aWNlOiBNZXRhRGF0YVNlcnZpY2U7XHJcblxyXG4gICAgcHJpdmF0ZSBhaUF2YWlsYWJsZTogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgc3RhdGljIGdldCBJbnN0YW5jZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSA9PT0gbnVsbCB8fCB0aGlzLmluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJBcHBJbnNpZ2h0c1NlcnZpY2UuR2V0SW5zdGFuY2UuIE5PIElOU1RBTkNFLCBDUkVBVElOR1wiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBBcHBJbnNpZ2h0c1NlcnZpY2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkFwcEluc2lnaHRzU2VydmljZS5HZXRJbnN0YW5jZS4gSEFTIElOU1RBTkNFXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvblNlcnZpY2UgPSBNZXRhRGF0YVNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRyYWNrRXZlbnQoZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50UGF5bG9hZDogb2JqZWN0KTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuaW5mbyhcIl5eXiAxLi4uLiBcIiwgZXZlbnROYW1lLCBldmVudFBheWxvYWQpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5pbmZvKFwiXl5eXl4gMi4uLi4gXCIsIHRoaXMuZGltZW5zaW9uU2VydmljZS5jb2xsZWN0ZWREaW1lbnNpb25zKTtcclxuICAgICAgICAgICAgLy8gbGV0IGNvbWJpbmVkUGF5bG9hZCA9IE9iamVjdC5hc3NpZ24oZXZlbnRQYXlsb2FkLCB0aGlzLmRpbWVuc2lvblNlcnZpY2UuY29sbGVjdGVkRGltZW5zaW9ucyk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmluZm8oXCJeXl5eXl5eXl5eXiAzLi4uLiBcIiwgZXZlbnRQYXlsb2FkKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuaW5mbyhcIl5eXl5eXl5eXl5eXl5eXl5eXl5eXiA0Li4uLiBcIiwgY29tYmluZWRQYXlsb2FkKTtcclxuICAgICAgICAgICAgaWYgKHdpbmRvd1tcImcyaUFwcEluc2lnaHRzXCJdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiXl5eXl5eXl5eXl5eXl5eXl5eXl5eXCIsIGV2ZW50UGF5bG9hZCk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3dbXCJnMmlBcHBJbnNpZ2h0c1wiXS50cmFja0V2ZW50KGV2ZW50TmFtZSwgZXZlbnRQYXlsb2FkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5haUF2YWlsYWJsZSkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmFpQXZhaWxhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdHJhY2tQYWdlVmlldyhwYWdlTmFtZTogc3RyaW5nLCBwYWdlRGF0YT86IG9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwidHJhY2tQYWdlVmlld1wiLCBwYWdlTmFtZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvQXBwSW5zaWdodHNTZXJ2aWNlLnRzIiwiLy8gaHR0cHM6Ly93d3cuZGlzdGlsbmV0d29ya3MuY29tL1xyXG5cclxuZXhwb3J0IGNvbnN0IEJvdExpc3QgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiMzYwU3BpZGVyKC1JbWFnZXwtVmlkZW8pP1wiLFxyXG4gICAgICAgIG5hbWU6IFwiMzYwU3BpZGVyXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIGJvdFwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdvb2dsZWJvdCgtTW9iaWxlfC1JbWFnZXwtVmlkZW98LU5ld3MpP3xGZWVkZmV0Y2hlci1Hb29nbGV8R29vZ2xlLVRlc3R8R29vZ2xlLVNpdGUtVmVyaWZpY2F0aW9ufEdvb2dsZSBXZWIgUHJldmlld3xBZHNCb3QtR29vZ2xlKC1Nb2JpbGUpP3xHb29nbGUtQWR3b3Jkcy1JbnN0YW50fE1lZGlhcGFydG5lcnMtR29vZ2xlfEdvb2dsZS4qL1xcKy93ZWIvc25pcHBldHxHb29nbGVQcm9kdWNlcnxHb29nbGVbIC1dUHVibGlzaGVyWyAtXVBsdWdpbnxHb29nbGUtU2hvcHBpbmctUXVhbGl0eXxHb29nbGUtQWR3b3Jkcy1EaXNwbGF5QWRzfEdvb2dsZS1Bc3Nlc3N8R29vZ2xlLUFkV29yZHMtRXhwcmVzc3xHb29nbGUtc3BlYWtyfEdvb2dsZURvY3NcIixcclxuICAgICAgICBuYW1lOiBcIkdvb2dsZWJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBib3RcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJnb29nbGV3ZWJsaWdodHxHb29nbGUgUGFnZSBTcGVlZCBJbnNpZ2h0c3xHb29nbGUgUFAgRGVmYXVsdHxHb29nbGUgU2VhcmNoIENvbnNvbGV8R29vZ2xlIFdlYiBQcmV2aWV3fEdvb2dsZSBXZWIgUHJldmlldyBBbmFseXRpY3N8R29vZ2xlX0FuYWx5dGljc19TbmlwcGV0X1ZhbGlkYXRvcnxHb29nbGUtQWR3b3Jkcy1EaXNwbGF5QWRzLVdlYlJlbmRlcnxHb29nbGUtQWRXb3Jkcy1FeHByZXNzfEdvb2dsZS1BZHdvcmRzLUluc3RhbnR8R29vZ2xlLUNhbGVuZGFyLUltcG9ydGVyXCIsXHJcbiAgICAgICAgbmFtZTogXCJHb29nbGVcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdvb2dsZS1TZWFyY2hCeUltYWdlfEdvb2dsZWJvdC1JbWFnZVwiLFxyXG4gICAgICAgIG5hbWU6IFwiR29vZ2xlLVNlYXJjaEJ5SW1hZ2VcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdvb2dsZS1TaXRlLVZlcmlmaWNhdGlvblwiLFxyXG4gICAgICAgIG5hbWU6IFwiR29vZ2xlLVNpdGUtVmVyaWZpY2F0aW9uXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdvb2dsZSBEZXNrdG9wXCIsXHJcbiAgICAgICAgbmFtZTogXCJHb29nbGUgRGVza3RvcFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IHJ2OjYuMCkgR2Vja28vMjAxMTA4MTQgRmlyZWZveC82LjBcIixcclxuICAgICAgICBuYW1lOiBcIkdvb2dsZSBQbHVzIFNoYXJlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VydmljZSBBZ2VudFwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIk1vemlsbGEvNS4wIChpUGFkOyBDUFUgT1MgNV8wXzEgbGlrZSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNTM0LjQ2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi81LjEgTW9iaWxlLzlBNDA1IFNhZmFyaS83NTM0LjQ4LjMsZ3ppcChnZmUpICh2aWEgdHJhbnNsYXRlLmdvb2dsZS5jb20pXCIsXHJcbiAgICAgICAgbmFtZTogXCJHb29nbGUgVHJhbnNsYXRlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VydmljZSBBZ2VudFwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdvb2dsZS1TdHJ1Y3R1cmVkLURhdGEtVGVzdGluZy1Ub29sXCIsXHJcbiAgICAgICAgbmFtZTogXCJHb29nbGUtU3RydWN0dXJlZC1EYXRhLVRlc3RpbmctVG9vbFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiR29vZ2xlIEZhdmljb25cIixcclxuICAgICAgICBuYW1lOiBcIkdvb2dsZSBGYXZpY29uXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJOZXVzdGFyIFdQTVwiLFxyXG4gICAgICAgIG5hbWU6IFwiTmV1c3RhciBXUE1cIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdvb2dsZSBLZXl3b3JkIFN1Z2dlc3Rpb25cIixcclxuICAgICAgICBuYW1lOiBcIkdvb2dsZSBLZXl3b3JkIFN1Z2dlc3Rpb25cIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkluYnlCb3RcIixcclxuICAgICAgICBuYW1lOiBcIkluYnlCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdldExpbmtJbmZvXCIsXHJcbiAgICAgICAgbmFtZTogXCJHZXRMaW5rSW5mb1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiZG93bmZvcmV2ZXJ5b25lb3JqdXN0bWVcIixcclxuICAgICAgICBuYW1lOiBcImRvd25mb3JldmVyeW9uZW9yanVzdG1lXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2l0ZSBNb25pdG9yXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRE5TLURpZ2dlci1FeHBsb3JlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiRE5TLURpZ2dlci1FeHBsb3JlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiTmV0U2VlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiTmV0U2VlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQmxla2tvYm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJCbGVra29ib3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vKy93ZWIvc25pcHBldFwiLFxyXG4gICAgICAgIG5hbWU6IFwiR29vZ2xlYm90IHNuaXBwZXRcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdvb2dsZS1QdWJsaXNoZXItUGx1Z2luXCIsXHJcbiAgICAgICAgbmFtZTogXCJHb29nbGVcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwicHJveGltaWNcIixcclxuICAgICAgICBuYW1lOiBcIkNvbXNjb3JlIENyYXdsZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggYm90XCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiU2lyZGF0YUJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiU2lyZGF0YUJvdFwiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJDbGlja2FneSBJbnRlbGxpZ2VuY2UgQm90IHYyfENsaWNrYWd5XCIsXHJcbiAgICAgICAgbmFtZTogXCJDbGlja2FneSBJbnRlbGxpZ2VuY2UgQm90IHYyXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQmFkIEJvdFwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImJhaWR1c3BpZGVyKC1pbWFnZSk/fGJhaWR1IFRyYW5zY29kZXJ8YmFpZHUuKnNwaWRlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiQmFpZHUgU3BpZGVyXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQmFkIEJvdFwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImRvdGJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiRG90Qm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdpZnRHaG9zdEJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiR2lmdEdob3N0Qm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHcmFwZXNob3RDcmF3bGVyfGdyYXBlRlh8Z3JhcGVzaG90XCIsXHJcbiAgICAgICAgbmFtZTogXCJHcmFwZXNob3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiU2V6bmFtQm90fFNrbGlrQm90fFNlem5hbSBzY3JlZW5zaG90LWdlbmVyYXRvclwiLFxyXG4gICAgICAgIG5hbWU6IFwiU2V6bmFtIEJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJNZXRhVVJJXCIsXHJcbiAgICAgICAgbmFtZTogXCJNZXRhVVJJXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlBhcGVyTGlCb3RcIixcclxuICAgICAgICBuYW1lOiBcIlBhcGVyTGlCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiR2VuaWVvXCIsXHJcbiAgICAgICAgbmFtZTogXCJHZW5pZW8gV2ViIGZpbHRlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJhLnByLWN5LnJ1XCIsXHJcbiAgICAgICAgbmFtZTogXCJhLnByLWN5LnJ1XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkNsaXF6Ym90fENsaXF6XCIsXHJcbiAgICAgICAgbmFtZTogXCJDbGlxemJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJCb21ib3JhQm90fGJvbWJvcmFcIixcclxuICAgICAgICBuYW1lOiBcIkJvbWJvcmFCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQTYtSW5kZXhlcnxib21ib3JhXCIsXHJcbiAgICAgICAgbmFtZTogXCJBNi1JbmRleGVyXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkFocmVmcyhCb3R8U2l0ZUF1ZGl0KVwiLFxyXG4gICAgICAgIG5hbWU6IFwiQWhyZWZzQm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdlbmllb1wiLFxyXG4gICAgICAgIG5hbWU6IFwiR2VuaWVvXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkJhaWR1c3BpZGVyXCIsXHJcbiAgICAgICAgbmFtZTogXCJCYWlkdXNwaWRlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJiaW5nYm90fEJpbmdQcmV2aWV3XCIsXHJcbiAgICAgICAgbmFtZTogXCJCaW5nXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIllhbmRleChTcHJhdkJvdHxTY3JlZW5zaG90Qm90fE1vYmlsZUJvdHxBY2Nlc3NpYmlsaXR5Qm90fEZvckRvbWFpbnxWZXJ0aXN8TWFya2V0fENhdGFsb2d8Q2FsZW5kYXJ8U2l0ZWxpbmtzfEFkTmV0fFBhZ2VjaGVja2VyfFdlYm1hc3RlcnxNZWRpYXxWaWRlb3xCb3R8SW1hZ2VzfEFudGl2aXJ1c3xEaXJlY3R8QmxvZ3N8RmF2aWNvbnN8SW1hZ2VSZXNpemVyfFZlcnRpY2Fsc3xOZXdzKGxpbmtzKT98TWV0cmlrYXxcXC5HYXpldGEgQm90KXxZYURpcmVjdEZldGNoZXJcIixcclxuICAgICAgICBuYW1lOiBcIllhbmRleEJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJDQ0JvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiQ0NCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJXZWIgU2NyYXBlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIllpc291U3BpZGVyXCIsXHJcbiAgICAgICAgbmFtZTogXCJZaXNvdVNwaWRlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJTbHVycHxZYWhvbyEtQWRDcmF3bGVyXCIsXHJcbiAgICAgICAgbmFtZTogXCJZYWhvbyEgU2x1cnBcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiWWFob28gUGlwZXNcIixcclxuICAgICAgICBuYW1lOiBcIllhaG9vIFBpcGVzXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiRmVlZCBGZXRjaGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiWSFKXCIsXHJcbiAgICAgICAgbmFtZTogXCJZIUotQlJKL1lBVFMgQ3Jhd2xlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCIwMDgvMC44NVwiLFxyXG4gICAgICAgIG5hbWU6IFwiMDA4LzAuODVcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJXZWIgU2NyYXBlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlNvZ291XCIsXHJcbiAgICAgICAgbmFtZTogXCJTb2dvdVwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJVUkxBcHBlbmRCb3RcIixcclxuICAgICAgICBuYW1lOiBcIlVSTEFwcGVuZEJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJEb21haW5BcHBlbmRlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiRG9tYWluQXBwZW5kZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIm1zbmJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwibXNuYm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkR1Y2tEdWNrQm90fER1Y2tEdWNrR28tRmF2aWNvbnMtQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJEdWNrRHVja0JvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiYWNlYm9va2V4dGVybmFsaGl0fGZhY2Vib29rZXh0ZXJuYWxoaXRcIixcclxuICAgICAgICBuYW1lOiBcImZhY2Vib29rZXh0ZXJuYWxoaXRcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJXZWIgU2NyYXBlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImZhY2Vib29rcGxhdGZvcm18RmFjZWJvdHxWaXNpb251dGlsc3xkYXRhZ25pb25ib3RcIixcclxuICAgICAgICBuYW1lOiBcIkZhY2Vib29rXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJFeGFib3R8RXhhYm90LUltYWdlc3xFeGFib3QtVGh1bWJuYWlsc3xLb25xdWVyb3J8RXhhbGVhZENsb3Vkdmlld1wiLFxyXG4gICAgICAgIG5hbWU6IFwiRXhhTGVhZCBieSBEYXNzYXVsdCBTeXN0ZW1lc1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJpYV9hcmNoaXZlcnxhbGV4YWJvdHx2ZXJpZnlib3RcIixcclxuICAgICAgICBuYW1lOiBcIkludGVybmV0IEFyY2hpdmVcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImxpbmtkZXhib3RcIixcclxuICAgICAgICBuYW1lOiBcIkxpbmtkZXggTGltaXRlZFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJjb250eGJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiQ29udHhib3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiWW9kYW9Cb3RcIixcclxuICAgICAgICBuYW1lOiBcIllvdWRhbyBcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwic3Bib3RcIixcclxuICAgICAgICBuYW1lOiBcIkxpbmsgUHJvZmlsZXIgXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIk1KMTJib3RcIixcclxuICAgICAgICBuYW1lOiBcIk1KMTJib3QgXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIk1haWwuUlVfQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJNYWlsLlJVX0JvdCBcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQlViaU5HXCIsXHJcbiAgICAgICAgbmFtZTogXCJVbml2ZXJzaXRhIERlbGdpIFN0dWRpIERpIE1pbGFubyBcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJXZWIgU2NyYXBlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlNwdXRuaWtCb3RcIixcclxuICAgICAgICBuYW1lOiBcIk9KU0MgUm9zdGVsZWNvbSBcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiTmVyZHlCb3RcIixcclxuICAgICAgICBuYW1lOiBcIk5lcmR5Qm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIk5lcmR5Qm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJOZXJkeUJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJPcGVib3RcIixcclxuICAgICAgICBuYW1lOiBcIk9wZWJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJTY3JhcHlcIixcclxuICAgICAgICBuYW1lOiBcIlNjcmFweVwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHaWdhYm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJHaWdhYm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkNhdGNoQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJDYXRjaEJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIldlYiBTY3JhcGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiWmV1cyAzMjI5N1wiLFxyXG4gICAgICAgIG5hbWU6IFwiWmV1cyAzMjI5N1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIldlYiBTY3JhcGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiU2FmZXR5TmV0XCIsXHJcbiAgICAgICAgbmFtZTogXCJTYWZldHlOZXRcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwibGlua2xvb2tlclwiLFxyXG4gICAgICAgIG5hbWU6IFwibGlua2xvb2tlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJJTkdSSURcIixcclxuICAgICAgICBuYW1lOiBcIklOR1JJRFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJFbmlnbWFCb3RcIixcclxuICAgICAgICBuYW1lOiBcIkVuaWdtYUJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJhZGlkeGJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiQWR2ZXJ0aXNpbmdcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQU1aTktBc3NvY0JvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiQWR2ZXJ0aXNpbmdcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiWWFuZGV4RGlyZWN0XCIsXHJcbiAgICAgICAgbmFtZTogXCJBZHZlcnRpc2luZ1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJhb2xidWlsZFwiLFxyXG4gICAgICAgIG5hbWU6IFwiYW9sYnVpbGRcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQnV0dGVyZmx5XCIsXHJcbiAgICAgICAgbmFtZTogXCJCdXR0ZXJmbHlcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiY2ctZXllXCIsXHJcbiAgICAgICAgbmFtZTogXCJjZy1leWVcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiY2hhbmdlZGV0ZWN0aW9uXCIsXHJcbiAgICAgICAgbmFtZTogXCJjaGFuZ2VkZXRlY3Rpb25cIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQ2xpZ29vUm9ib3RcIixcclxuICAgICAgICBuYW1lOiBcIkNsaWdvb1JvYm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImNvY2NvY1wiLFxyXG4gICAgICAgIG5hbWU6IFwiY29jY29jXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG5cclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJEYXVtb2FcIixcclxuICAgICAgICBuYW1lOiBcIkRhdW1vYVwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJEZWFsR2F0ZXNcIixcclxuICAgICAgICBuYW1lOiBcIkRlYWxHYXRlc1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJEZXVTdVwiLFxyXG4gICAgICAgIG5hbWU6IFwiRGV1U3VcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRWxlZmVudFwiLFxyXG4gICAgICAgIG5hbWU6IFwiRWxlZmVudFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJlbmxsZVwiLFxyXG4gICAgICAgIG5hbWU6IFwiZW5sbGVcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRmluZHhib3RcIixcclxuICAgICAgICBuYW1lOiBcIkZpbmR4Ym90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdpZ2FibGFzdE9wZW5Tb3VyY2VcIixcclxuICAgICAgICBuYW1lOiBcIkdpZ2FibGFzdE9wZW5Tb3VyY2VcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiVm9pbGFCb3RcIixcclxuICAgICAgICBuYW1lOiBcIlZvaWxhQm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcInBhbnNjaWVudC5jb21cIixcclxuICAgICAgICBuYW1lOiBcInBhbnNjaWVudC5jb21cIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiUGludGVyZXN0L1xcZFxcLlxcZC4qd3d3XFwucGludGVyZXN0XFwuY29tLipcIixcclxuICAgICAgICBuYW1lOiBcIlBpbnRlcmVzdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIldlYiBTY3JhcGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQ2hhcmxvdHRlXCIsXHJcbiAgICAgICAgbmFtZTogXCJDaGFybG90dGVcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiVHdpdHRlcmJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiVHdpdHRlcmJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJNb25Ub29sc1wiLFxyXG4gICAgICAgIG5hbWU6IFwiU2l0ZSBNb25pdG9yXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2l0ZSBNb25pdG9yXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiTGlua1dhbGtlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiTGlua1dhbGtlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJTbGFja2JvdHxTbGFjay1JbWdQcm94eVwiLFxyXG4gICAgICAgIG5hbWU6IFwiU2xhY2tib3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQWRNYW50WC4qYWRtYW50eFxcLmNvbVwiLFxyXG4gICAgICAgIG5hbWU6IFwiQURNYW50WFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJFbnZvbGtcIixcclxuICAgICAgICBuYW1lOiBcIkVudm9sa1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRmxpZ2h0RGVja1JlcG9ydHNCb3RcIixcclxuICAgICAgICBuYW1lOiBcIkZsaWdodERlY2tSZXBvcnRzQm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJBZGRTZWFyY2hCb3RcIixcclxuICAgICAgICBuYW1lOiBcIkFkZFNlYXJjaEJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiZmluZGxpbmtcIixcclxuICAgICAgICBuYW1lOiBcImZpbmRsaW5rXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJKaWtlU3BpZGVyXCIsXHJcbiAgICAgICAgbmFtZTogXCJQZW9wbGUncyBEYWlseSBOZXdzcGFwZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiVGVsZWdyYW1Cb3RcIixcclxuICAgICAgICBuYW1lOiBcIlRlbGVncmFtQm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcInlhY3lib3RcIixcclxuICAgICAgICBuYW1lOiBcInlhY3lib3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQ2FsaXBlcmJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiQ2FsaXBlcmJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJBbnlFdmVudFwiLFxyXG4gICAgICAgIG5hbWU6IFwiQW55RXZlbnRcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiYXdlc29tZWNyYXdsZXJcIixcclxuICAgICAgICBuYW1lOiBcImF3ZXNvbWVjcmF3bGVyXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIi9ib3R8Y3Jhd2xlcnxzcGlkZXJ8Y3Jhd2xpbmcvaVwiLFxyXG4gICAgICAgIG5hbWU6IFwiR2VuZXJpYyBCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJHZW5lcmljIEJvdFwiXHJcbiAgICB9XHJcbl1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvYm90RGV0ZWN0aW9uL0JvdExpc3QudHMiLCJleHBvcnQgY2xhc3MgQm90TW9kZWwge1xyXG4gICAgY2F0ZWdvcnk6IHN0cmluZztcclxuICAgIG5hbWU6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IGRhdGEuY2F0ZWdvcnk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2JvdERldGVjdGlvbi9Cb3RNb2RlbC50cyIsImltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL1Nlc3Npb25TZXJ2aWNlXCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgRGF0YUNvbGxlY3RvciB9IGZyb20gXCJATW9kdWxlcy9kYXRhQ29sbGVjdG9yL0RhdGFDb2xsZWN0b3JcIjtcclxuaW1wb3J0IHsgUGx1Z2luSW5uZXJFdmVudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL1BsdWdpbklubmVyRXZlbnRzXCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IERsU3RvcmFnZUludGVyZmFjZSB9IGZyb20gXCIuL2ludGVyZmFjZXMvRGxTdG9yYWdlSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvSHR0cFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQXBpRGxJbnRlcmZhY2UgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL0FwaURsSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IERhdGVVdGlsIH0gZnJvbSBcIkBVdGlscy9EYXRlVXRpbFwiO1xyXG5pbXBvcnQgeyBUYWdNYW5hZ2VyU2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9JbmRleFwiO1xyXG5pbXBvcnQgeyBMb2NhbFN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvTG9jYWxTdG9yYWdlU2VydmljZVwiO1xyXG5pbXBvcnQgeyBCdWdUcmFja1V0aWwgfSBmcm9tIFwiQFV0aWxzL0J1Z1RyYWNrVXRpbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERhdGFMYXllckNsYXNzIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkRhdGEgTGF5ZXJcIik7XHJcbiAgICBwcml2YXRlIGRsU3RvcmFnZUtleSA9IFwiY2RwLWRsXCI7XHJcbiAgICBwcml2YXRlIHNlc3Npb25TZXJ2aWNlID0gU2Vzc2lvblNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICBwcml2YXRlIGRsRGF0YTogQXBpRGxJbnRlcmZhY2U7XHJcblxyXG4gICAgcHVibGljIHNldEluZm9ybWF0aW9uKGRldmljZUlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENkcERsKGRldmljZUlkKVxyXG4gICAgICAgICAgICAudGhlbigoYXBpRGxEYXRhOiBBcGlEbEludGVyZmFjZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgRGF0YUNvbGxlY3Rvci5saXN0ZW5FckNvZGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2RwRGxSZXNwb25jZShhcGlEbERhdGEsIGRldmljZUlkKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudChQbHVnaW5Jbm5lckV2ZW50cy5EbENkcEdldEZhaWwsIHsgZGV0YWlsOiBlcnJvciB9KTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBoYW5kbGVDZHBEbFJlc3BvbmNlKGFwaURsRGF0YTogQXBpRGxJbnRlcmZhY2UsIGRldmljZUlkOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmRsRGF0YSA9IGFwaURsRGF0YTtcclxuICAgICAgICB0aGlzLnNldENkcERsVG9TdG9yYWdlKGFwaURsRGF0YSwgZGV2aWNlSWQpO1xyXG4gICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFBsdWdpbklubmVyRXZlbnRzLkRsQ2RwR2V0U3VjY2VzcywgeyBkZXRhaWw6IGFwaURsRGF0YSB9KTtcclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcclxuICAgICAgICBUYWdNYW5hZ2VyU2VydmljZS5JbnN0YW5jZS5zZXRETFYoXCJzZXRDZHBEbFwiLCAgYXBpRGxEYXRhLmVyICsgXCJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldERsRGF0YSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kbERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEcyaURldmljZUlkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRsRGF0YSAmJiB0aGlzLmRsRGF0YS5nMmlkZXZpY2VpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kbERhdGEuZzJpZGV2aWNlaWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgbG9jYWxEbDogRGxTdG9yYWdlSW50ZXJmYWNlID0gdGhpcy5nZXRDZHBEbEZyb21TdG9yYWdlKCk7XHJcbiAgICAgICAgICAgIGlmIChsb2NhbERsICYmIGxvY2FsRGwuYXBpRGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbERsLmFwaURsLmcyaWRldmljZWlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzVmFsaWRMb2NhbEluZm9ybWF0aW9uKGxvY2FsRGw6IERsU3RvcmFnZUludGVyZmFjZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IGlzSW5DdXJyZW50RGV2aWNlU2Vzc2lvbiA9IGxvY2FsRGwgJiYgKGxvY2FsRGwuYnJvd3NlclNlc3Npb24gPT0gdGhpcy5zZXNzaW9uU2VydmljZS5nZXREZXZpY2VTZXNzaW9uSWQoKSk7XHJcbiAgICAgICAgaWYgKGlzSW5DdXJyZW50RGV2aWNlU2Vzc2lvbiAmJiB0aGlzLmlzQWN0dWFsQ2RwRGxTdG9yYWdlKSB7XHJcbiAgICAgICAgICAgIGlmIChsb2NhbERsLmFwaURsICYmIGxvY2FsRGwuYXBpRGwuZXIgIT0gQ29uc3RhbnRzLk5vRXJJbmZvcm1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q2RwRGwoZGV2aWNlSWQ6IHN0cmluZyk6IFByb21pc2U8QXBpRGxJbnRlcmZhY2U+IHtcclxuICAgICAgICBjb25zdCBsb2NhbERsOiBEbFN0b3JhZ2VJbnRlcmZhY2UgPSB0aGlzLmdldENkcERsRnJvbVN0b3JhZ2UoKTtcclxuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkTG9jYWxJbmZvcm1hdGlvbihsb2NhbERsKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxvY2FsRGwuYXBpRGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDZHBEbEZyb21BcGkoZGV2aWNlSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDZHBEbEZyb21TdG9yYWdlKCk6IERsU3RvcmFnZUludGVyZmFjZSB8IG51bGwge1xyXG4gICAgICAgcmV0dXJuIExvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KHRoaXMuZGxTdG9yYWdlS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlRGV2aWNlSWRJbkNkcERsU3RvcmFnZShkZXZpY2VJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgZGxEYXRhOiBEbFN0b3JhZ2VJbnRlcmZhY2UgPSBMb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldCh0aGlzLmRsU3RvcmFnZUtleSk7XHJcbiAgICAgICAgaWYgKGRsRGF0YSkge1xyXG4gICAgICAgICAgICBkbERhdGEuZGV2aWNlSWQgPSBkZXZpY2VJZDtcclxuICAgICAgICAgICAgTG9jYWxTdG9yYWdlU2VydmljZS5zZXQodGhpcy5kbFN0b3JhZ2VLZXksIGRsRGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0Q2RwRGxUb1N0b3JhZ2UoZGxJbmZvcm1hdGlvbjogQXBpRGxJbnRlcmZhY2UsIGRldmljZUlkOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoIWRsSW5mb3JtYXRpb24uZXJfZXhwaXJlX2RhdGUpIHtcclxuICAgICAgICAgICAgZGxJbmZvcm1hdGlvbi5lcl9leHBpcmVfZGF0ZSA9IERhdGVVdGlsLmFkZERheXMobmV3IERhdGUoKSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNhdmVEbDogRGxTdG9yYWdlSW50ZXJmYWNlID0ge1xyXG4gICAgICAgICAgICBhcGlEbDogZGxJbmZvcm1hdGlvbixcclxuICAgICAgICAgICAgZGV2aWNlSWQ6IGRldmljZUlkLFxyXG4gICAgICAgICAgICBicm93c2VyU2Vzc2lvbjogdGhpcy5zZXNzaW9uU2VydmljZS5nZXREZXZpY2VTZXNzaW9uSWQoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBMb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCh0aGlzLmRsU3RvcmFnZUtleSwgc2F2ZURsKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzQWN0dWFsQ2RwRGxTdG9yYWdlKGNkcFN0b3JhZ2U6IERsU3RvcmFnZUludGVyZmFjZSkge1xyXG4gICAgICAgIHJldHVybiAoRGF0ZS5ub3coKSAtIERhdGVVdGlsLmdldERhdGVWYWx1ZUZyb21UaW1lc3RhbXAoY2RwU3RvcmFnZS5hcGlEbC5lcl9leHBpcmVfZGF0ZSkgPCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENkcERsRnJvbUFwaShkZXZpY2VJZDogc3RyaW5nKTogUHJvbWlzZTxBcGlEbEludGVyZmFjZT4ge1xyXG4gICAgICAgIGxldCBvcHRpb25zID0gQnVnVHJhY2tVdGlsLmFkZEJvdEluZm9IZWFkZXIoKTtcclxuICAgICAgICBvcHRpb25zID0gQnVnVHJhY2tVdGlsLmFkZEluaXRTZXR0aW5nc0hlYWRlcihvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2UuZ2V0KFwidXNlclwiLCB7fSwgb3B0aW9ucyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDZHBEYXRhTGF5ZXIgPSBuZXcgRGF0YUxheWVyQ2xhc3MoKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2NkcE1vZHVsZS9DZHBEYXRhTGF5ZXIudHMiLCJpbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgUGx1Z2luSW5uZXJFdmVudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL1BsdWdpbklubmVyRXZlbnRzXCI7XHJcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvSHR0cFNlcnZpY2VcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgRXJJbnRlcnByZXRhdGlvbkNsYXNzIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIlVzZXJEYXRhXCIpO1xyXG5cclxuICAgIHB1YmxpYyBzZXRJbmZvcm1hdGlvbigpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEluZm9ybWF0aW9uRnJvbUFwaSgpXHJcbiAgICAgICAgICAgIC50aGVuKChpbmZvcm1hdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZm9ybWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFciBJbnRlcnByZXRhdGlvbjpcIiwgaW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KFBsdWdpbklubmVyRXZlbnRzLkdldEVySW50ZXJwcmV0YXRpb24sIGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpcmVFdmVudChuYW1lLCBkYXRhKSB7XHJcbiAgICAgICAgbGV0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHsgZGV0YWlsOiBkYXRhIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0SW5mb3JtYXRpb25Gcm9tQXBpKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIEh0dHBTZXJ2aWNlLmdldChcInVzZXIvZXIvc3RhdHNcIilcclxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuR2V0RXJJbnRlcnByZXRhdGlvbkVycm9yLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRXJJbnRlcnByZXRhdGlvbiA9IG5ldyBFckludGVycHJldGF0aW9uQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvY2RwTW9kdWxlL0VySW50ZXJwcmV0YXRpb24udHMiLCJpbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IFBsdWdpbklubmVyRXZlbnRzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9QbHVnaW5Jbm5lckV2ZW50c1wiO1xyXG5pbXBvcnQgeyBEaW1lbnNpb25zTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2RpbWVuc2lvbnNNb2R1bGUvRGltZW5zaW9uc01vZHVsZVwiO1xyXG5pbXBvcnQgeyBIdHRwU2VydmljZSB9IGZyb20gXCJARGF0YS9tb2R1bGVzL0h0dHBTZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUmVjb21tZW5kYXRpb25zQ2xhc3Mge1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiUmVjb21tZW5kYXRpb25zXCIpO1xyXG5cclxuICAgIC8vIEdldCBhIGxpc3Qgb2YgcmVjb21tZW5kZWQgYXJ0aWNsZXMgd2l0aCB1c2Vy4oCZcyBjYXRlZ29yaWVzIG9mIGludGVyZXN0XHJcbiAgICBwcml2YXRlIGdldEFydGljbGVzV2l0aENhdGVnb3JpZXMoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbmZvcm1hdGlvbkZyb21BcGkoXCJ1c2VyL3JlY29tbWVuZGF0aW9ucy9zdGF0c1wiKVxyXG4gICAgICAgICAgICAudGhlbigoaW5mb3JtYXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZvcm1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGlzdCBvZiByZWNvbW1lbmRlZCBhcnRpY2xlcyB3aXRoIHVzZXLigJlzIGNhdGVnb3JpZXMgb2YgaW50ZXJlc3Q6XCIsIGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dbXCJnMmlfZGxfcmVjb21tZW5kYXRpb25zX3N0YXRzXCJdID0gaW5mb3JtYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuRGxSZWNvbW1lbmRhdGlvbnNTdGF0c0ZpbmlzaGVkLCBpbmZvcm1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuRGxSZWNvbW1lbmRhdGlvbnNTdGF0c0Vycm9yLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vR2V0IGEgbGlzdCBvZiByZWNvbW1lbmRlZCBhcnRpY2xlcyBcclxuICAgIHB1YmxpYyBnZXRMaXN0QXJ0aWNsZXMoaXNBZGRDYXRlZ29yeUluZm86IGJvb2xlYW4pOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGlmIChpc0FkZENhdGVnb3J5SW5mbykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBcnRpY2xlc1dpdGhDYXRlZ29yaWVzKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5mb3JtYXRpb25Gcm9tQXBpKFwidXNlci9yZWNvbW1lbmRhdGlvbnNcIilcclxuICAgICAgICAgICAgICAgIC50aGVuKChpbmZvcm1hdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZvcm1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkdldCBhIGxpc3Qgb2YgcmVjb21tZW5kZWQgYXJ0aWNsZXM6XCIsIGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhpbmZvcm1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1tcImcyaV9kbF9yZWNvbW1lbmRhdGlvbnNcIl0gPSBpbmZvcm1hdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuRGxSZWNvbW1lbmRhdGlvbnNGaW5pc2hlZCwgaW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmaXJlRXZlbnQobmFtZSwgZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHsgZGV0YWlsOiBkYXRhIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0SW5mb3JtYXRpb25Gcm9tQXBpKHVybDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCBjb250ZW50SWQgPSBEaW1lbnNpb25zTW9kdWxlLmdldENvbnRlbnRJZCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2UuZ2V0KHVybCwgeyBjb250ZW50X2lkOiBjb250ZW50SWQgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuRGxSZWNvbW1lbmRhdGlvbnNFcnJvciwgZXJyb3IpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFJlY29tbWVuZGF0aW9ucyA9IG5ldyBSZWNvbW1lbmRhdGlvbnNDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9jZHBNb2R1bGUvUmVjb21lbmRhdGlvbnMudHMiLCJpbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IFBsdWdpbklubmVyRXZlbnRzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9QbHVnaW5Jbm5lckV2ZW50c1wiO1xyXG5pbXBvcnQgeyBIdHRwU2VydmljZSB9IGZyb20gXCJARGF0YS9tb2R1bGVzL0h0dHBTZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVXNlckludGVyZXN0c0NsYXNzIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkludGVyZXN0c1N0YXRzXCIpO1xyXG5cclxuICAgIHB1YmxpYyBnZXREZWJ1Z0RhdGEoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbmZvcm1hdGlvbkZyb21BcGkoKVxyXG4gICAgICAgICAgICAudGhlbigoaW5mb3JtYXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZvcm1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhcIkdldCBkZWJ1ZyBkYXRhIGZvciBJbnRlcmVzdHMgY2FsY3VsYXRpb246XCIsIGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmVFdmVudChQbHVnaW5Jbm5lckV2ZW50cy5HZXRJbnRlcmVzdHNTdGF0cywgaW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpbmZvcm1hdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmlyZUV2ZW50KG5hbWUsIGRhdGEpIHtcclxuICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudChuYW1lLCB7IGRldGFpbDogZGF0YSB9KTtcclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEluZm9ybWF0aW9uRnJvbUFwaSgpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmbk5hbWUgPSBcIltnZXRVc2VySW50ZXJlc3RzQnlEZXZpY2VJZF1cIjtcclxuICAgICAgICAgICAgcmV0dXJuIEh0dHBTZXJ2aWNlLmdldChcInVzZXIvaW50ZXJlc3RzL3N0YXRzXCIpXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKGZuTmFtZSwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuR2V0SW50ZXJlc3RzU3RhdHNFcnJvciwgZXJyb3IpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBVc2VySW50ZXJlc3RzID0gbmV3IFVzZXJJbnRlcmVzdHNDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9jZHBNb2R1bGUvVXNlckludGVyZXN0cy50cyIsImltcG9ydCB7IExvZ0xldmVsIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyT3B0aW9uc1wiO1xyXG5pbXBvcnQgeyBPcHRpb25zSW50ZXJmYWNlIH0gZnJvbSBcIi4vT3B0aW9uc0ludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDZHBPcHRpb25zSW50ZXJmYWNlIH0gZnJvbSBcIi4vQ2RwT3B0aW9uc0ludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBBbmFseXNpc09wdGlvbnNJbnRlcmZhY2UgfSBmcm9tIFwiLi9BbmFseXNpc09wdGlvbnNJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTWlzY09wdGlvbnNJbnRlcmZhY2UgfSBmcm9tIFwiLi9NaXNjT3B0aW9uc0ludGVyZmFjZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9wdGlvbnNNb2RlbCBpbXBsZW1lbnRzIE9wdGlvbnNJbnRlcmZhY2Uge1xyXG4gICAgZGVidWc/OiBib29sZWFuO1xyXG4gICAgbG9nTGV2ZWw/OiBMb2dMZXZlbDtcclxuICAgIGNvbnRhaW5lcklkOiBzdHJpbmc7XHJcbiAgICBjb2xsZWN0b3JzOiBBcnJheTxhbnk+O1xyXG4gICAgZGltZW5zaW9ucz86IG9iamVjdDtcclxuICAgIGFuYWx5c2lzPzogQW5hbHlzaXNPcHRpb25zSW50ZXJmYWNlO1xyXG4gICAgY2RwPzogQ2RwT3B0aW9uc0ludGVyZmFjZSA9IHtcclxuICAgICAgICBlbmFibGVkOiBmYWxzZVxyXG4gICAgfTtcclxuICAgIHNlc3Npb25JZDogc3RyaW5nOyAvLyBmcm9tIGxvYWRlciByZXF1aXJlZFxyXG4gICAgZGV0ZWN0Qm90PzogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBjbGllbnRDb2RlOiBzdHJpbmcgPSBcIiN7Q2xpZW50fSNcIiA7XHJcbiAgICBsYXlvdXRDb2RlPzogc3RyaW5nO1xyXG4gICAgZW52aXJvbm1lbnQ6IHN0cmluZztcclxuICAgIHNpdGVDb2RlOiBzdHJpbmc7XHJcbiAgICBtaXNjOiBNaXNjT3B0aW9uc0ludGVyZmFjZVtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICB0aGlzLmRlYnVnID0gZGF0YS5kZWJ1ZztcclxuICAgICAgICB0aGlzLmxvZ0xldmVsID0gZGF0YS5sb2dMZXZlbDtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lcklkID0gZGF0YS5jb250YWluZXJJZDtcclxuICAgICAgICB0aGlzLmNvbGxlY3RvcnMgPSBkYXRhLmNvbGxlY3RvcnM7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gZGF0YS5kaW1lbnNpb25zO1xyXG4gICAgICAgIHRoaXMuYW5hbHlzaXMgPSBkYXRhLmFuYWx5c2lzIHx8IHRydWU7XHJcbiAgICAgICAgdGhpcy5jZHAgPSBkYXRhLmNkcDtcclxuICAgICAgICB0aGlzLnNlc3Npb25JZCA9IGRhdGEuc2Vzc2lvbklkO1xyXG4gICAgICAgIHRoaXMuZGV0ZWN0Qm90ID0gZGF0YS5kZXRlY3RCb3QgfHwgdHJ1ZTtcclxuICAgICAgICB0aGlzLmxheW91dENvZGUgPSBkYXRhLmxheW91dENvZGU7XHJcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IGRhdGEuZW52aXJvbm1lbnQgfHwgXCJVbmtub3duXCI7XHJcbiAgICAgICAgdGhpcy5zaXRlQ29kZSA9IGRhdGEuc2l0ZUNvZGUgfHwgbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5taXNjID0gZGF0YS5taXNjIHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5jbGllbnRDb2RlID0gZGF0YS5jbGllbnRDb2RlIHx8IHRoaXMuY2xpZW50Q29kZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRMYXlvdXRDb2RlKGxheW91dENvZGU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubGF5b3V0Q29kZSA9IGxheW91dENvZGU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGV4dGVuZE1vZGVsKG9iamVjdCkge1xyXG4gICAgICAgIGZvciAobGV0IG5hbWUgaW4gb2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGlmIChvYmplY3QuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXNbbmFtZV0gPSBvYmplY3RbbmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25maWdNb2R1bGUvb3B0aW9ucy9tb2RlbHMvT3B0aW9uc01vZGVsLnRzIiwiaW1wb3J0IHsgQ29udmVyc2F0aW9uTWFuYWdlciB9IGZyb20gXCIuL0NvbnZlcnNhdGlvbk1hbmFnZXJcIjtcclxuaW1wb3J0IHsgRG9tIH0gZnJvbSBcIkBDb3JlL2RvbS9Eb21cIjtcclxuaW1wb3J0IHsgQ2xpY2tBY3Rpb25Nb2RlbCB9IGZyb20gXCJARGF0YS9tb2RlbHMvY29ubmV4dC9DbGlja0FjdGlvbk1vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWN0aW9uTWFuYWdlckNsYXNzIHtcclxuXHJcbiAgICBnZXRJbmZvRnJvbUNsaWNrZWRFbGVtZW50KGNsaWNrZWRFbGVtZW50KTogQ2xpY2tBY3Rpb25Nb2RlbCB8IG51bGwge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IERvbS5maW5kQW5jZXN0b3IoY2xpY2tlZEVsZW1lbnQsIFwiTWcyLWNvbm5leHRcIiksXHJcbiAgICAgICAgICAgIGFjdGlvbkluZm8gPSB7fTtcclxuXHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZCA9IHBhcmVudC5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnRJZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uSWQgPSBwYXJzZUludChlbGVtZW50SWQuc3BsaXQoXCItXCIpWzFdKTtcclxuICAgICAgICAgICAgICAgIGxldCBhY3Rpb25OYW1lO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29udmVyc2F0aW9uID0gQ29udmVyc2F0aW9uTWFuYWdlci5nZXRDdXJyZW50Q29udmVyc2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udmVyc2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aW9ucyA9IGNvbnZlcnNhdGlvbi5BY3Rpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbkxlbmd0aCA9IGFjdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aW9uTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gYWN0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbi5JZCA9PSBhY3Rpb25JZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uTmFtZSA9IGFjdGlvbi5OYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uSW5mb1tcIkFjdGlvbklkXCJdID0gYWN0aW9uSWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbk5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25JbmZvW1wiQWN0aW9uTmFtZVwiXSA9IGFjdGlvbk5hbWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDxDbGlja0FjdGlvbk1vZGVsPmFjdGlvbkluZm87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBY3Rpb25NYW5hZ2VyID0gbmV3IEFjdGlvbk1hbmFnZXJDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25uZXh0TW9kdWxlL2NsYXNzZXMvQWN0aW9uTWFuYWdlci50cyIsImltcG9ydCB7IEZpcnN0VmlzaXREYXRhQ29sbGVjdG9ySW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvRmlyc3RWaXNpdERhdGFDb2xsZWN0b3JJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRJbnRlcmZhY2UgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQ2RwTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NkcE1vZHVsZS9DZHBNb2R1bGVcIjtcclxuaW1wb3J0IHsgRGF0YVRpbWVySW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvRGF0YVRpbWVySW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IEZpcnN0VmlzaXRQcm9wZXJ0aWVzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9GaXJzdFZpc2l0UHJvcGVydGllc1wiO1xyXG5pbXBvcnQgeyBGaXJzdFZpc2l0RGF0YU1vZGVsIH0gZnJvbSBcIi4uL21vZGVscy9GaXJzdFZpc2l0RGF0YU1vZGVsXCI7XHJcbmltcG9ydCB7IExvY2FsU3RvcmFnZSB9IGZyb20gXCJAQ29yZS9zdG9yYWdlcy9sb2NhbC9Mb2NhbFN0b3JhZ2VcIjtcclxuaW1wb3J0IHsgRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL0ZpcnN0VmlzaXREYXRhTW9kZWxJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgRGF0YVRpbWVyTW9kZWwgfSBmcm9tIFwiLi4vbW9kZWxzL0RhdGFUaW1lck1vZGVsXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBMb2NhbFN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvTG9jYWxTdG9yYWdlU2VydmljZVwiO1xyXG5pbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5pbXBvcnQgeyBEYXRhQ29sbGVjdG9yIH0gZnJvbSBcIkBNb2R1bGVzL2RhdGFDb2xsZWN0b3IvRGF0YUNvbGxlY3RvclwiO1xyXG5pbXBvcnQgeyBIdHRwU2VydmljZSB9IGZyb20gXCJARGF0YS9tb2R1bGVzL0h0dHBTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IERldmljZURldGVjdG9yIH0gZnJvbSBcIkBVdGlscy9EZXZpY2VEZXRlY3RvclwiO1xyXG5pbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgQnVnVHJhY2tVdGlsIH0gZnJvbSBcIkBVdGlscy9CdWdUcmFja1V0aWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGaXJzdFZpc2l0RGF0YUNvbGxlY3RvckNsYXNzIGltcGxlbWVudHMgRmlyc3RWaXNpdERhdGFDb2xsZWN0b3JJbnRlcmZhY2Uge1xyXG4gICAgcHJpdmF0ZSBpdGVyYXRpb25NYXhFdmVudENvdW50OiBudW1iZXIgPSAyMDtcclxuICAgIHByaXZhdGUgaXRlcmF0aW9uTWF4VGltZUNvbGxlY3Q6IG51bWJlciA9IDMgKiA2MCAqIDEwMDA7IC8vIDMgbWluXHJcbiAgICBwcml2YXRlIHRpbWVyOiBEYXRhVGltZXJJbnRlcmZhY2U7XHJcbiAgICBzdGF0aWMgZmlyc3RWaXNpdEtleSA9IFwiZnJzdFZpc2l0XCI7XHJcbiAgICBwcml2YXRlIGNvbGxlY3REYXRhOiBGaXJzdFZpc2l0RGF0YU1vZGVsID0gbmV3IEZpcnN0VmlzaXREYXRhTW9kZWwobnVsbCk7XHJcbiAgICBwcml2YXRlIGNvbGxlY3RlZEV2ZW50czogQXJyYXk8Q2RwRXZlbnRJbnRlcmZhY2U+ID0gW107XHJcbiAgICBwcml2YXRlIHN0YXJ0U2F2ZUNvbGxlY3REYXRhOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJGaXJzdFZpc2l0RGF0YUNvbGxlY3RvclwiKTtcclxuICAgIHByaXZhdGUgcGFnZUxlYXZlSGFuZGxlcjogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgaGFzVmFsaWRFcjogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyBzZXRDb2xsZWN0RGF0YShkYXRhOiBGaXJzdFZpc2l0RGF0YU1vZGVsSW50ZXJmYWNlIHwgbnVsbCkge1xyXG4gICAgICAgIHRoaXMuY29sbGVjdERhdGEgPSBuZXcgRmlyc3RWaXNpdERhdGFNb2RlbChkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29sbGVjdENkcEV2ZW50KGV2ZW50OiBDZHBFdmVudEludGVyZmFjZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXJ0U2F2ZUNvbGxlY3REYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0NkcEV2ZW50KGV2ZW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3RlZEV2ZW50cy5wdXNoKGV2ZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcm9jZXNzKCkge1xyXG4gICAgICAgIHRoaXMuc3RhcnRTYXZlQ29sbGVjdERhdGEgPSB0cnVlO1xyXG4gICAgICAgIGxldCBzYXZlZEZpcnN0VmlzaXREYXRhOiBGaXJzdFZpc2l0RGF0YU1vZGVsSW50ZXJmYWNlIHwgbnVsbCA9IHRoaXMuZ2V0Rmlyc3RWaXNpdEZyb21TdG9yYWdlKCk7XHJcbiAgICAgICAgaWYgKHNhdmVkRmlyc3RWaXNpdERhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRDb2xsZWN0RGF0YShzYXZlZEZpcnN0VmlzaXREYXRhKTtcclxuICAgICAgICAgICAgbGV0IHJlc3RPZlRpbWUgPSB0aGlzLmNvbGxlY3REYXRhLkl0ZXJhdGlvbk51bWJlciAqIHRoaXMuaXRlcmF0aW9uTWF4VGltZUNvbGxlY3QgLSBzYXZlZEZpcnN0VmlzaXREYXRhLkNvbGxlY3RUaW1lO1xyXG4gICAgICAgICAgICB0aGlzLnNldFRpbWVyKHJlc3RPZlRpbWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VGltZXIodGhpcy5pdGVyYXRpb25NYXhUaW1lQ29sbGVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvY2Vzc0FscmVhZHlDb2xsZWN0ZWRDZHBFdmVudHMoKTtcclxuICAgICAgICB0aGlzLnNhdmVUaW1lVmlzaXRJZkxlYXZlUGFnZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0NvbGxlY3RlZEZpcnN0VmlzaXQoY29sbGVjdGVkQnlDb25kaXRpb24/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHNhdmVkRmlyc3RWaXNpdERhdGE6IEZpcnN0VmlzaXREYXRhTW9kZWxJbnRlcmZhY2UgfCBudWxsID0gdGhpcy5nZXRGaXJzdFZpc2l0RnJvbVN0b3JhZ2UoKTtcclxuICAgICAgICB0aGlzLnNldENvbGxlY3REYXRhKHNhdmVkRmlyc3RWaXNpdERhdGEpO1xyXG4gICAgICAgIGlmIChzYXZlZEZpcnN0VmlzaXREYXRhKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRGF0YUNvbGxlY3RlZChjb2xsZWN0ZWRCeUNvbmRpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENvbGxlY3RlZERhdGEoKTogRmlyc3RWaXNpdERhdGFNb2RlbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFyRGF0YSgpIHtcclxuICAgICAgICB0aGlzLmhhc1ZhbGlkRXIgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0Q29sbGVjdERhdGEobnVsbCk7XHJcbiAgICAgICAgdGhpcy5zZXRGaXJzdFZpc2l0VG9TdG9yYWdlKG51bGwpO1xyXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcHJvY2Vzc0NkcEV2ZW50KGV2ZW50OiBDZHBFdmVudEludGVyZmFjZSkge1xyXG4gICAgICAgIGxldCBzYXZlZEZpcnN0VmlzaXREYXRhOiBGaXJzdFZpc2l0RGF0YU1vZGVsSW50ZXJmYWNlIHwgbnVsbCA9IHRoaXMuZ2V0Rmlyc3RWaXNpdEZyb21TdG9yYWdlKCk7XHJcbiAgICAgICAgaWYgKHNhdmVkRmlyc3RWaXNpdERhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRDb2xsZWN0RGF0YShzYXZlZEZpcnN0VmlzaXREYXRhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzRGF0YUNvbGxlY3RlZCgpICYmICF0aGlzLmhhc1ZhbGlkRXIpIHtcclxuICAgICAgICAgICAgdGhpcy5zZW5kRGF0YSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGNvbGxlY3RBdHRyID0gZXZlbnQuZ2V0Rmlyc3RWaXNpdFByb3BlcnR5KCk7XHJcbiAgICAgICAgc3dpdGNoIChjb2xsZWN0QXR0cikge1xyXG4gICAgICAgICAgICBjYXNlIEZpcnN0VmlzaXRQcm9wZXJ0aWVzLkNvdW50Q3JlYXRlQWNjb3VudEV2ZW50czpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdERhdGEuQ291bnRDcmVhdGVBY2NvdW50RXZlbnRzKys7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGaXJzdFZpc2l0UHJvcGVydGllcy5Db3VudENoZWNrb3V0U3RhcnRFdmVudHM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3REYXRhLkNvdW50Q2hlY2tvdXRTdGFydEV2ZW50cysrO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmlyc3RWaXNpdFByb3BlcnRpZXMuQ291bnRDbGljazpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdERhdGEuQ291bnRDbGljaysrO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmlyc3RWaXNpdFByb3BlcnRpZXMuQ291bnRQYWdldmlldzpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdERhdGEuQ291bnRQYWdldmlldysrO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0VGltZXJMZWZ0KCk7XHJcbiAgICAgICAgdGhpcy5zZXRGaXJzdFZpc2l0VG9TdG9yYWdlKHRoaXMuY29sbGVjdERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcHJvY2Vzc0FscmVhZHlDb2xsZWN0ZWRDZHBFdmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0ZWRFdmVudHMuZm9yRWFjaCgoY2RwRXZlbnQ6IENkcEV2ZW50SW50ZXJmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0NkcEV2ZW50KGNkcEV2ZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNvbGxlY3RlZEV2ZW50cyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNEYXRhQ29sbGVjdGVkKGlzUGFnZUxvYWRDb25kaXRpb24/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEYXRhQ29sbGVjdGVkQnlUaW1lKGlzUGFnZUxvYWRDb25kaXRpb24pIHx8IHRoaXMuaXNEYXRhQ29sbGVjdGVkQnlFdmVudHMoaXNQYWdlTG9hZENvbmRpdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRUaW1lcih0aW1lclRpbWU6IG51bWJlcikge1xyXG4gICAgICAgIGlmICghdGhpcy50aW1lcikge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyID0gbmV3IERhdGFUaW1lck1vZGVsKHt9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50aW1lci5Jc1RpbWVVcCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy50aW1lci5TdGFydFRpbWUgPSBuZXcgRGF0ZSgpLnZhbHVlT2YoKTtcclxuICAgICAgICB0aGlzLnRpbWVyLklkID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXIuSXNUaW1lVXAgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3REYXRhLkNvbGxlY3RUaW1lID0gdGhpcy5pdGVyYXRpb25NYXhUaW1lQ29sbGVjdCAqIHRoaXMuY29sbGVjdERhdGEuSXRlcmF0aW9uTnVtYmVyO1xyXG4gICAgICAgICAgICB0aGlzLnNldEZpcnN0VmlzaXRUb1N0b3JhZ2UodGhpcy5jb2xsZWN0RGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZERhdGEoKTtcclxuICAgICAgICB9LCB0aW1lclRpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNEYXRhQ29sbGVjdGVkQnlUaW1lKGlzUGFnZUxvYWRDb25kaXRpb24/OiBib29sZWFuKSB7XHJcbiAgICAgICAgbGV0IGl0ZXJhdGlvbk51bWJlciA9IGlzUGFnZUxvYWRDb25kaXRpb24gPyAxIDogdGhpcy5jb2xsZWN0RGF0YS5JdGVyYXRpb25OdW1iZXI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdERhdGEuQ29sbGVjdFRpbWUgPj0gKHRoaXMuaXRlcmF0aW9uTWF4VGltZUNvbGxlY3QgKiBpdGVyYXRpb25OdW1iZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNEYXRhQ29sbGVjdGVkQnlFdmVudHMoaXNQYWdlTG9hZENvbmRpdGlvbj86IGJvb2xlYW4pOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgaXRlcmF0aW9uTnVtYmVyID0gaXNQYWdlTG9hZENvbmRpdGlvbiA/IDEgOiB0aGlzLmNvbGxlY3REYXRhLkl0ZXJhdGlvbk51bWJlcjtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb2xsZWN0RGF0YS5nZXRTdW1FdmVudHMoKSA+PSAodGhpcy5pdGVyYXRpb25NYXhFdmVudENvdW50ICogaXRlcmF0aW9uTnVtYmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlbmREYXRhKCkge1xyXG4gICAgICAgIHRoaXMuc2V0VGltZXJMZWZ0KCk7XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0RGF0YS5JdGVyYXRpb25OdW1iZXIrKztcclxuICAgICAgICB0aGlzLnNldEZpcnN0VmlzaXRUb1N0b3JhZ2UodGhpcy5jb2xsZWN0RGF0YSk7XHJcbiAgICAgICAgdGhpcy5zZXREbENvbGxlY3RlZEluZm9ybWF0aW9uKHRoaXMuY29sbGVjdERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0RGxDb2xsZWN0ZWRJbmZvcm1hdGlvbihjb2xsZWN0ZWREYXRhPzogRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIERldmljZURldGVjdG9yLmdldERldmljZUlkKClcclxuICAgICAgICAgICAgLnRoZW4oKGRldmljZUlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGaXJzdFZpc2l0Q2RwRGxGcm9tQXBpKGRldmljZUlkLCB0aGlzLmlzTmVlZENvbGxlY3RGaXJzdFZpc2l0RGF0YShjb2xsZWN0ZWREYXRhKSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKGRhdGE6IGFueSkgPT5cclxuICAgICAgICAgICAgICAgIENkcE1vZHVsZS5zZXREbENvbGxlY3RlZEluZm9ybWF0aW9uKGRhdGEpXHJcbiAgICAgICAgICAgICkuY2F0Y2goKGVycm9yOiBhbnkpID0+IHRoaXMuTG9nZ2VyLmVycm9yKFwic2V0RGxDb2xsZWN0ZWRJbmZvcm1hdGlvblwiLCBlcnJvcikpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNOZWVkQ29sbGVjdEZpcnN0VmlzaXREYXRhKGNvbGxlY3RlZERhdGEpIHtcclxuICAgICAgICByZXR1cm4gY29sbGVjdGVkRGF0YSA/IGNvbGxlY3RlZERhdGEgOiBEYXRhQ29sbGVjdG9yLmdldENvbGxlY3RlZEZpcnN0VmlzaXREYXRhKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRGaXJzdFZpc2l0Q2RwRGxGcm9tQXBpKGRldmljZUlkOiBzdHJpbmcsIGZWY29sbGVjdGVkRGF0YT86IEZpcnN0VmlzaXREYXRhTW9kZWxJbnRlcmZhY2UpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbGxlY3RlZERhdGEgPSB0aGlzLmdldE1hcHBlZENvbGxlY3RlZERhdGEoZlZjb2xsZWN0ZWREYXRhKTtcclxuICAgICAgICBjb2xsZWN0ZWREYXRhW1wiZGV2aWNlaWRcIl0gPSBkZXZpY2VJZDtcclxuICAgICAgICBjb2xsZWN0ZWREYXRhW1wic2l0ZWNvZGVcIl0gPSBDb25maWdNb2R1bGUuZ2V0U2l0ZUNvZGUoKTtcclxuICAgICAgICBjb2xsZWN0ZWREYXRhW1wiY2xpZW50Y29kZVwiXSA9IENvbmZpZ01vZHVsZS5nZXRDbGllbnRDb2RlKCk7XHJcblxyXG4gICAgICAgIGxldCBvcHRpb25zID0gQnVnVHJhY2tVdGlsLmFkZEJvdEluZm9IZWFkZXIoKTtcclxuICAgICAgICBvcHRpb25zID0gQnVnVHJhY2tVdGlsLmFkZEluaXRTZXR0aW5nc0hlYWRlcihvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2UucG9zdChcInVzZXJcIiwgY29sbGVjdGVkRGF0YSwgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRNYXBwZWRDb2xsZWN0ZWREYXRhKGZpcnN0VmlzaXREYXRhPzogRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSk6IGFueSB7XHJcbiAgICAgICAgaWYgKGZpcnN0VmlzaXREYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBcInRzX2RpZmZcIjogZmlyc3RWaXNpdERhdGEuQ29sbGVjdFRpbWUsXHJcbiAgICAgICAgICAgICAgICBcImNudF9wYWdldmlld1wiOiBmaXJzdFZpc2l0RGF0YS5Db3VudFBhZ2V2aWV3LFxyXG4gICAgICAgICAgICAgICAgXCJjbnRfY2xpY2tcIjogZmlyc3RWaXNpdERhdGEuQ291bnRDbGljayxcclxuICAgICAgICAgICAgICAgIFwiY250X2NoZWNrb3V0c3RhcnRcIjogZmlyc3RWaXNpdERhdGEuQ291bnRDaGVja291dFN0YXJ0RXZlbnRzLFxyXG4gICAgICAgICAgICAgICAgXCJjbnRfY3JlYXRlYWNjb3VudFwiOiBmaXJzdFZpc2l0RGF0YS5Db3VudENyZWF0ZUFjY291bnRFdmVudHNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRGaXJzdFZpc2l0RnJvbVN0b3JhZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIExvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KEZpcnN0VmlzaXREYXRhQ29sbGVjdG9yQ2xhc3MuZmlyc3RWaXNpdEtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRGaXJzdFZpc2l0VG9TdG9yYWdlKHZpc2l0RGF0YTogRmlyc3RWaXNpdERhdGFNb2RlbCkge1xyXG4gICAgICAgIExvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KEZpcnN0VmlzaXREYXRhQ29sbGVjdG9yQ2xhc3MuZmlyc3RWaXNpdEtleSwgdmlzaXREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNhdmVUaW1lVmlzaXRJZkxlYXZlUGFnZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMucGFnZUxlYXZlSGFuZGxlcikge1xyXG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkV2ZW50IFBhZ2VMZWF2ZUV2ZW50IGZpcmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRpbWVyTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRGaXJzdFZpc2l0VG9TdG9yYWdlKHRoaXMuY29sbGVjdERhdGEpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2VMZWF2ZUhhbmRsZXIgPSB0aGlzLmFkZFBhZ2VMZWF2ZUV2ZW50TGlzdGVuZXIoY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZFBhZ2VMZWF2ZUV2ZW50TGlzdGVuZXIoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRnVuY3Rpb24ge1xyXG4gICAgICAgIGxldCBldmVudE5hbWUgPSBVdGlscy5nZXRQYWdlTGVhdmVFdmVudFRyaWdnZXIoKTtcclxuICAgICAgICByZXR1cm4gVXRpbHMuYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcih3aW5kb3csIGV2ZW50TmFtZSwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVtb3ZlUGFnZUxlYXZlRXZlbnRMaXN0ZW5lcigpOiB2b2lkIHtcclxuICAgICAgICBsZXQgZXZlbnROYW1lID0gVXRpbHMuZ2V0UGFnZUxlYXZlRXZlbnRUcmlnZ2VyKCk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB0aGlzLnBhZ2VMZWF2ZUhhbmRsZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xlYXJUaW1lcigpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy50aW1lciAmJiB0aGlzLnRpbWVyLklkKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyLklkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwb3NlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlUGFnZUxlYXZlRXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRpbWVyTGVmdCgpIHtcclxuICAgICAgICBsZXQgdGltZXJXb3JrID0gbmV3IERhdGUoKS52YWx1ZU9mKCkgLSB0aGlzLnRpbWVyLlN0YXJ0VGltZTtcclxuICAgICAgICB0aGlzLmNvbGxlY3REYXRhLkNvbGxlY3RUaW1lID0gdGltZXJXb3JrO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBhZ2VMb2FkQ29sbGVjdGVkRGF0YSgpIHtcclxuICAgICAgICBsZXQgc2F2ZWRGaXJzdFZpc2l0RGF0YTogRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSB8IG51bGwgPSB0aGlzLmdldEZpcnN0VmlzaXRGcm9tU3RvcmFnZSgpO1xyXG4gICAgICAgIHRoaXMuc2V0Q29sbGVjdERhdGEoc2F2ZWRGaXJzdFZpc2l0RGF0YSk7XHJcbiAgICAgICAgaWYgKHNhdmVkRmlyc3RWaXNpdERhdGEpIHtcclxuICAgICAgICAgICAgbGV0IGlzUGFnZUxvYWRDb25kaXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0RhdGFDb2xsZWN0ZWQoaXNQYWdlTG9hZENvbmRpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzYXZlZEZpcnN0VmlzaXREYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRmlyc3RWaXNpdERhdGFDb2xsZWN0b3IgPSBuZXcgRmlyc3RWaXNpdERhdGFDb2xsZWN0b3JDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9kYXRhQ29sbGVjdG9yL2NsYXNzZXMvRmlyc3RWaXNpdERhdGFDb2xsZWN0b3IudHMiLCJpbXBvcnQgeyBEYXRhVGltZXJJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9EYXRhVGltZXJJbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRhVGltZXJNb2RlbCBpbXBsZW1lbnRzIERhdGFUaW1lckludGVyZmFjZSB7XHJcbiAgICBJZDogYW55O1xyXG4gICAgSXNUaW1lVXA6IGJvb2xlYW47XHJcbiAgICBTdGFydFRpbWU6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICB0aGlzLklkID0gZGF0YS5JZDtcclxuICAgICAgICB0aGlzLklzVGltZVVwID0gZGF0YS5Jc1RpbWVVcDtcclxuICAgICAgICB0aGlzLlN0YXJ0VGltZSA9IGRhdGEuU3RhcnRUaW1lO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2RhdGFDb2xsZWN0b3IvbW9kZWxzL0RhdGFUaW1lck1vZGVsLnRzIiwiaW1wb3J0IHsgRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL0ZpcnN0VmlzaXREYXRhTW9kZWxJbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGaXJzdFZpc2l0RGF0YU1vZGVsIGltcGxlbWVudHMgRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSB7XHJcbiAgQ29sbGVjdFRpbWU6IG51bWJlciA9IDA7XHJcbiAgQ291bnRDbGljazogbnVtYmVyID0gMDtcclxuICBDb3VudFBhZ2V2aWV3OiBudW1iZXIgPSAwO1xyXG4gIENvdW50Q3JlYXRlQWNjb3VudEV2ZW50czogbnVtYmVyID0gMDtcclxuICBDb3VudENoZWNrb3V0U3RhcnRFdmVudHM6IG51bWJlciA9IDA7XHJcbiAgSXRlcmF0aW9uTnVtYmVyOiBudW1iZXIgPSAxO1xyXG5cclxuICBjb25zdHJ1Y3RvcihkYXRhOiBGaXJzdFZpc2l0RGF0YU1vZGVsSW50ZXJmYWNlKSB7XHJcbiAgICBpZiAoIWRhdGEpIHJldHVyblxyXG4gICAgdGhpcy5Db3VudENsaWNrID0gZGF0YS5Db3VudENsaWNrO1xyXG4gICAgdGhpcy5Db2xsZWN0VGltZSA9IGRhdGEuQ29sbGVjdFRpbWU7XHJcbiAgICB0aGlzLkNvdW50Q2hlY2tvdXRTdGFydEV2ZW50cyA9IGRhdGEuQ291bnRDaGVja291dFN0YXJ0RXZlbnRzO1xyXG4gICAgdGhpcy5Db3VudFBhZ2V2aWV3ID0gZGF0YS5Db3VudFBhZ2V2aWV3O1xyXG4gICAgdGhpcy5JdGVyYXRpb25OdW1iZXIgPSBkYXRhLkl0ZXJhdGlvbk51bWJlcjtcclxuICAgIHRoaXMuQ291bnRDcmVhdGVBY2NvdW50RXZlbnRzID0gZGF0YS5Db3VudENyZWF0ZUFjY291bnRFdmVudHNcclxuICB9XHJcblxyXG4gIGdldFN1bUV2ZW50cygpIHtcclxuICAgIHJldHVybiB0aGlzLkNvdW50Q2hlY2tvdXRTdGFydEV2ZW50cyArIHRoaXMuQ291bnRDbGljayArIHRoaXMuQ291bnRDcmVhdGVBY2NvdW50RXZlbnRzICsgdGhpcy5Db3VudFBhZ2V2aWV3O1xyXG4gIH1cclxuXHJcblxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2RhdGFDb2xsZWN0b3IvbW9kZWxzL0ZpcnN0VmlzaXREYXRhTW9kZWwudHMiLCJleHBvcnQgY2xhc3MgQ29tbW9uTWV0YURhdGFDbGFzcyB7XHJcblxyXG4gICAgcHVibGljIGdldEtleXdvcmRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ldGFJbmZvcm1hdGlvbihbXCJrZXl3b3Jkc1wiLCBcIm9nOmtleXdvcmRzXCIsIFwiYnQ6a2V5d29yZHNcIl0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUaXRsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRNZXRhSW5mb3JtYXRpb24oW1widGl0bGVcIiwgXCJvZzp0aXRsZVwiXSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VXJsKCkge1xyXG4gICAgICAgIHJldHVybiBsb2NhdGlvbi5vcmlnaW4gKyBsb2NhdGlvbi5wYXRobmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2VjdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRNZXRhSW5mb3JtYXRpb24oW1wic2VjdGlvblwiLCBcIm9nOnNlY3Rpb25cIl0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBdXRob3IoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWV0YUluZm9ybWF0aW9uKFtcImJ5bGluZVwiLCBcImF1dGhvclwiLCBcImJ0OmF1dGhvclwiXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRhZ3MoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWV0YUluZm9ybWF0aW9uKFtcInRhZ3NcIl0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb250ZW50SWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWV0YUluZm9ybWF0aW9uKFtcImNvbnRlbnRpZFwiXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFB1Ymxpc2hEYXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ldGFJbmZvcm1hdGlvbihbXCJwdWJsaXNoRGF0ZVwiLCBcInB1YmRhdGVcIiwgXCJvZzpwZXJzX3JlY19maXJzdF9wdWJfZGF0ZVwiLCBcImJ0OnB1YkRhdGVcIl0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb250ZW50VHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRNZXRhSW5mb3JtYXRpb24oW1widHlwZVwiLCBcIm9nOnR5cGVcIl0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERlZmF1bHRNZXRhKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIEtleXdvcmRzOiAoKSA9PiB0aGlzLmdldEtleXdvcmRzKCksXHJcbiAgICAgICAgICAgIFRpdGxlOiAoKSA9PiB0aGlzLmdldFRpdGxlKCksXHJcbiAgICAgICAgICAgIFVybDogKCkgPT4gdGhpcy5nZXRVcmwoKSxcclxuICAgICAgICAgICAgU2VjdGlvbjogKCkgPT4gdGhpcy5nZXRTZWN0aW9uKCksXHJcbiAgICAgICAgICAgIEF1dGhvcjogKCkgPT4gdGhpcy5nZXRBdXRob3IoKSxcclxuICAgICAgICAgICAgVGFnczogKCkgPT4gdGhpcy5nZXRUYWdzKCksXHJcbiAgICAgICAgICAgIENvbnRlbnRJZDogKCkgPT4gdGhpcy5nZXRDb250ZW50SWQoKSxcclxuICAgICAgICAgICAgUHVibGlzaERhdGU6ICgpID0+IHRoaXMuZ2V0UHVibGlzaERhdGUoKSxcclxuICAgICAgICAgICAgQ29udGVudFR5cGU6ICgpID0+IHRoaXMuZ2V0Q29udGVudFR5cGUoKSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRNZXRhSW5mb3JtYXRpb24obWV0YURhdGE6IEFycmF5PGFueT4pIHtcclxuICAgICAgICBsZXQgbWV0YURhdGFMZW5ndGggPSBtZXRhRGF0YS5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXRhRGF0YUxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBtZXRhTmFtZSA9IG1ldGFEYXRhW2ldO1xyXG4gICAgICAgICAgICBsZXQgbWV0YVZhbHVlID0gdGhpcy5nZXRNZXRhQ29udGVudChtZXRhTmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChtZXRhVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtZXRhVmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TWV0YUNvbnRlbnQobWV0YU5hbWUpIHtcclxuICAgICAgICBsZXQgbWV0YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwibWV0YVtuYW1lID0nXCIgKyBtZXRhTmFtZSArIFwiJ10sIG1ldGFbcHJvcGVydHk9J1wiICsgbWV0YU5hbWUgKyBcIiddXCIpO1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBsZXQgbUxlbmd0aCA9IG1ldGFzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgZm9yIChpOyBpIDwgbUxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gbWV0YXNbaV0uZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKTtcclxuICAgICAgICAgICAgaWYgKGNvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENvbW1vbk1ldGFEYXRhID0gbmV3IENvbW1vbk1ldGFEYXRhQ2xhc3MoKVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9kaW1lbnNpb25zTW9kdWxlL2NsYXNzZXMvQ29tbW9uTWV0YURhdGEudHMiLCJpbXBvcnQgeyBNaXNjT3B0aW9uc0ludGVyZmFjZSwgQ09NTUFORF9UWVBFUyB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvb3B0aW9ucy9tb2RlbHMvTWlzY09wdGlvbnNJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTWlzY01vZGVsSW50ZXJmYWNlIH0gZnJvbSBcIi4vTWlzY01vZGVsSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENhbGN1bGF0aW9uUmVzdWx0TW9kZWwgfSBmcm9tIFwiLi9DYWxjdWxhdGlvblJlc3VsdE1vZGVsXCI7XHJcbmltcG9ydCB7IENvbW1hbmRNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuL2NvbW1hbmRNb2RlbHMvQ29tbWFuZE1vZGVsSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENvb2tpZUdldHRlck1vZGVsIH0gZnJvbSBcIi4vY29tbWFuZE1vZGVscy9Db29raWVHZXR0ZXJNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbW1hbmRNb2RlbCBpbXBsZW1lbnRzIE1pc2NNb2RlbEludGVyZmFjZSB7XHJcbiAgICBNaXNjS2V5OiBzdHJpbmc7XHJcbiAgICBFbmFibGVHQTogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgZXhlY3V0aW5nTW9kZWw6IENvbW1hbmRNb2RlbEludGVyZmFjZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBNaXNjT3B0aW9uc0ludGVyZmFjZSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuTWlzY0tleSA9IGRhdGEua2V5O1xyXG4gICAgICAgIHRoaXMuRW5hYmxlR0EgPSBkYXRhLmVuYWJsZUdBO1xyXG4gICAgICAgIHRoaXMuc2V0dXAoZGF0YS52YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR1cCh2YWx1ZTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgcGFyc2VkVmFsdWUgPSB2YWx1ZSBhcyB7IG5hbWU6IHN0cmluZywgYXJncz86IGFueSB9O1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHBhcnNlZFZhbHVlLm5hbWUpIHtcclxuICAgICAgICAgICAgY2FzZSBDT01NQU5EX1RZUEVTLkdFVF9DT09LSUVfQllfTkFNRTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0aW5nTW9kZWwgPSBuZXcgQ29va2llR2V0dGVyTW9kZWwocGFyc2VkVmFsdWUuYXJncyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YSgpOiBQcm9taXNlPENhbGN1bGF0aW9uUmVzdWx0TW9kZWw+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZXhlY3V0aW5nTW9kZWwpIHJlamVjdCgpO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0aW5nTW9kZWwuZXhlY3V0ZSgpLnRoZW4odmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBDYWxjdWxhdGlvblJlc3VsdE1vZGVsKHRoaXMuTWlzY0tleSwgdmFsdWUsIHRoaXMuRW5hYmxlR0EpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKHJlamVjdCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9tb2RlbHMvQ29tbWFuZE1vZGVsLnRzIiwiaW1wb3J0IHsgTWlzY09wdGlvbnNJbnRlcmZhY2UgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL29wdGlvbnMvbW9kZWxzL01pc2NPcHRpb25zSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE1pc2NNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuL01pc2NNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDYWxjdWxhdGlvblJlc3VsdE1vZGVsIH0gZnJvbSBcIi4vQ2FsY3VsYXRpb25SZXN1bHRNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEphdmFzY3JpcHRNb2RlbCBpbXBsZW1lbnRzIE1pc2NNb2RlbEludGVyZmFjZSB7XHJcbiAgICBNaXNjS2V5OiBzdHJpbmc7XHJcbiAgICBFeHByZXNzaW9uOiBzdHJpbmc7XHJcbiAgICBFbmFibGVHQTogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBNaXNjT3B0aW9uc0ludGVyZmFjZSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLk1pc2NLZXkgPSBkYXRhLmtleTtcclxuICAgICAgICB0aGlzLkV4cHJlc3Npb24gPSBkYXRhLnZhbHVlIGFzIHN0cmluZztcclxuICAgICAgICB0aGlzLkVuYWJsZUdBID0gZGF0YS5lbmFibGVHQTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhKCk6IFByb21pc2U8Q2FsY3VsYXRpb25SZXN1bHRNb2RlbD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZXZhbFxyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBldmFsKHRoaXMuRXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQ2FsY3VsYXRpb25SZXN1bHRNb2RlbCh0aGlzLk1pc2NLZXksIHZhbHVlLCB0aGlzLkVuYWJsZUdBKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9taXNjTW9kdWxlL21vZGVscy9KYXZhc2NyaXB0TW9kZWwudHMiLCJpbXBvcnQgeyBNaXNjT3B0aW9uc0ludGVyZmFjZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvb3B0aW9ucy9tb2RlbHMvTWlzY09wdGlvbnNJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTWlzY01vZGVsSW50ZXJmYWNlIH0gZnJvbSBcIi4vTWlzY01vZGVsSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENhbGN1bGF0aW9uUmVzdWx0TW9kZWwgfSBmcm9tIFwiLi9DYWxjdWxhdGlvblJlc3VsdE1vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvbWlzZU1vZGVsIGltcGxlbWVudHMgTWlzY01vZGVsSW50ZXJmYWNlIHtcclxuICAgIE1pc2NLZXk6IHN0cmluZztcclxuICAgIFByb21pc2VOYW1lOiBzdHJpbmc7XHJcbiAgICBFbmFibGVHQTogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBNaXNjT3B0aW9uc0ludGVyZmFjZSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLk1pc2NLZXkgPSBkYXRhLmtleTtcclxuICAgICAgICB0aGlzLlByb21pc2VOYW1lID0gZGF0YS52YWx1ZSBhcyBzdHJpbmc7XHJcbiAgICAgICAgdGhpcy5FbmFibGVHQSA9IGRhdGEuZW5hYmxlR0E7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YSgpOiBQcm9taXNlPENhbGN1bGF0aW9uUmVzdWx0TW9kZWw+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHdpbmRvd1t0aGlzLlByb21pc2VOYW1lXSBhcyBQcm9taXNlPGFueT47XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IENhbGN1bGF0aW9uUmVzdWx0TW9kZWwodGhpcy5NaXNjS2V5LCB2YWx1ZSwgdGhpcy5FbmFibGVHQSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2gocmVqZWN0KTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9taXNjTW9kdWxlL21vZGVscy9Qcm9taXNlTW9kZWwudHMiLCJpbXBvcnQgeyBNaXNjT3B0aW9uc0ludGVyZmFjZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvb3B0aW9ucy9tb2RlbHMvTWlzY09wdGlvbnNJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTWlzY01vZGVsSW50ZXJmYWNlIH0gZnJvbSBcIi4vTWlzY01vZGVsSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENhbGN1bGF0aW9uUmVzdWx0TW9kZWwgfSBmcm9tIFwiLi9DYWxjdWxhdGlvblJlc3VsdE1vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2VsZWN0b3JNb2RlbCBpbXBsZW1lbnRzIE1pc2NNb2RlbEludGVyZmFjZSB7XHJcbiAgICBNaXNjS2V5OiBzdHJpbmc7XHJcbiAgICBTZWxlY3Rvcjogc3RyaW5nO1xyXG4gICAgQXR0cmlidXRlOiBzdHJpbmc7XHJcbiAgICBFbmFibGVHQTogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBNaXNjT3B0aW9uc0ludGVyZmFjZSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLk1pc2NLZXkgPSBkYXRhLmtleTtcclxuICAgICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IGRhdGEudmFsdWUgYXMgeyBzZWw6IHN0cmluZywgYXR0cj86IHN0cmluZyB9O1xyXG4gICAgICAgIHRoaXMuU2VsZWN0b3IgPSBwYXJzZWRWYWx1ZS5zZWw7XHJcbiAgICAgICAgdGhpcy5BdHRyaWJ1dGUgPSBwYXJzZWRWYWx1ZS5hdHRyO1xyXG4gICAgICAgIHRoaXMuRW5hYmxlR0EgPSBkYXRhLmVuYWJsZUdBO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoKTogUHJvbWlzZTxDYWxjdWxhdGlvblJlc3VsdE1vZGVsPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQ6IEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuU2VsZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLkF0dHJpYnV0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUodGhpcy5BdHRyaWJ1dGUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGVsZW1lbnQudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQ2FsY3VsYXRpb25SZXN1bHRNb2RlbCh0aGlzLk1pc2NLZXksIHZhbHVlLCB0aGlzLkVuYWJsZUdBKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9taXNjTW9kdWxlL21vZGVscy9TZWxlY3Rvck1vZGVsLnRzIiwiaW1wb3J0IHsgQ29tbWFuZE1vZGVsSW50ZXJmYWNlIH0gZnJvbSBcIi4vQ29tbWFuZE1vZGVsSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENvb2tpZSB9IGZyb20gXCJAVXRpbHMvY29va2llL0Nvb2tpZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvb2tpZUdldHRlck1vZGVsIGltcGxlbWVudHMgQ29tbWFuZE1vZGVsSW50ZXJmYWNlIHtcclxuICAgIHByaXZhdGUgY29va2llTmFtZTogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvb2tpZU5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuY29va2llTmFtZSA9IGNvb2tpZU5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IENvb2tpZS5nZXQodGhpcy5jb29raWVOYW1lKSB8fCBcIlwiO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9taXNjTW9kdWxlL21vZGVscy9jb21tYW5kTW9kZWxzL0Nvb2tpZUdldHRlck1vZGVsLnRzIiwiaW1wb3J0IHsgQ29uZmlnTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NvbmZpZ01vZHVsZS9Db25maWdNb2R1bGVcIjtcclxuXHJcbmltcG9ydCB7IERpbWVuc2lvbnNNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvZGltZW5zaW9uc01vZHVsZS9EaW1lbnNpb25zTW9kdWxlXCI7XHJcbmltcG9ydCB7IEFwaUNvbnRlbnRNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvQXBpQ29udGVudE1vZGVsXCI7XHJcbmltcG9ydCB7IENvbnRlbnRNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvQ29udGVudE1vZGVsXCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UsIExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvSHR0cFNlcnZpY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb250ZW50U2VydmljZUNsYXNzIHtcclxuICAgIHBhZ2VDb250ZW50OiBDb250ZW50TW9kZWw7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJBcnRpY2xlU3RvcmFnZVwiKTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0UGFnZUNvbnRlbnQoKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlQ29udGVudCA9IG5ldyBDb250ZW50TW9kZWwoRGltZW5zaW9uc01vZHVsZS5nZXREaW1lbnNpb25zKCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhZ2VDb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb250ZW50RXhpc3RzSW5DZHAoY29udGVudElkKSB7XHJcbiAgICAgICAgcmV0dXJuIEh0dHBTZXJ2aWNlLmdldChcImFydGljbGUvZXhpc3RzXCIsIHsgY29udGVudF9pZDogY29udGVudElkIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmRDb250ZW50SW5DZHAoYXJ0aWNsZTogQ29udGVudE1vZGVsLCBhcnRpY2xlTm90RXhpc3RBcHByb3ZlZDogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IHNlbmREYXRhID0gbmV3IEFwaUNvbnRlbnRNb2RlbChhcnRpY2xlKTtcclxuXHJcbiAgICAgICAgc2VuZERhdGFbXCJhcnRpY2xlX25vdF9leGlzdHNfYXBwcm92ZWRcIl0gPSBhcnRpY2xlTm90RXhpc3RBcHByb3ZlZDtcclxuICAgICAgICBzZW5kRGF0YVtcInNpdGVfY29kZVwiXSA9IENvbmZpZ01vZHVsZS5nZXRTaXRlQ29kZSgpO1xyXG4gICAgICAgIHNlbmREYXRhW1wiY2xpZW50X2NvZGVcIl0gPSBDb25maWdNb2R1bGUuZ2V0Q2xpZW50Q29kZSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2UucG9zdChcImFydGljbGVcIiwgc2VuZERhdGEpXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBnZXRBcnRpY2xlU3RhdHMoY29udGVudElkOiBzdHJpbmcpOlByb21pc2U8YW55PntcclxuICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2UuZ2V0KFwiYXJ0aWNsZS9zdGF0c1wiLCB7IGNvbnRlbnRfaWQ6IGNvbnRlbnRJZCB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ29udGVudFNlcnZpY2UgPSBuZXcgQ29udGVudFNlcnZpY2VDbGFzcygpO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvcGFnZU1vZHVsZS9jbGFzc2VzL0NvbnRlbnRTZXJ2aWNlLnRzIiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXBpQ29udGVudE1vZGVsIHtcclxuICAgIGFydGljbGVfaWQ6IHN0cmluZztcclxuICAgIGNvbnRlbnRfaWQ6IHN0cmluZztcclxuICAgIHRpdGxlOiBzdHJpbmc7XHJcbiAgICBrZXl3b3Jkczogc3RyaW5nO1xyXG4gICAgc2VjdGlvbjogc3RyaW5nO1xyXG4gICAgdXJsOiBzdHJpbmc7XHJcbiAgICBjb250ZW50X3R5cGU6IHN0cmluZztcclxuICAgIGF1dGhvcjogc3RyaW5nO1xyXG4gICAgdGFnczogc3RyaW5nW10gPSBbXTtcclxuICAgIGxlYWRfaW1hZ2VfdXJsOiBzdHJpbmc7XHJcbiAgICBwdWJsaXNoX2RhdGU6IHN0cmluZztcclxuICAgIHBpY3R1cmVzOiBudW1iZXI7XHJcbiAgICB2aWRlbzogbnVtYmVyO1xyXG4gICAgbGlrZXM6IG51bWJlcjtcclxuICAgIHNoYXJlczogbnVtYmVyO1xyXG4gICAgYnJlYWtpbmdfbmV3czogYm9vbGVhbjtcclxuICAgIHByZW1pdW06IGJvb2xlYW47XHJcbiAgICBsYW5ndWFnZTogc3RyaW5nO1xyXG4gICAgdGV4dDogc3RyaW5nO1xyXG4gICAgbGVhZF90ZXh0OiBzdHJpbmc7XHJcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuY29udGVudF9pZCA9IHRoaXMudG9TdHJpbmcoZGF0YS5Db250ZW50SWQpO1xyXG4gICAgICAgIHRoaXMuYXJ0aWNsZV9pZCA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuYXJ0aWNsZV9pZCk7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuVGl0bGUpO1xyXG4gICAgICAgIHRoaXMua2V5d29yZHMgPSAgdGhpcy50b1N0cmluZyhkYXRhLktleXdvcmRzKTtcclxuICAgICAgICB0aGlzLnNlY3Rpb24gPSAgdGhpcy50b1N0cmluZyhkYXRhLlNlY3Rpb24pO1xyXG4gICAgICAgIHRoaXMudXJsID0gZGF0YS5Vcmw7XHJcbiAgICAgICAgdGhpcy5hdXRob3IgPSAgdGhpcy50b1N0cmluZyhkYXRhLkF1dGhvcik7XHJcbiAgICAgICAgdGhpcy50YWdzID0gZGF0YS5UYWdzID8gZGF0YS5UYWdzLnNwbGl0KFwiLFwiKSA6IHRoaXMudGFncztcclxuICAgICAgICB0aGlzLmNvbnRlbnRfdHlwZSA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuQ29udGVudFR5cGUpO1xyXG4gICAgICAgIHRoaXMucHVibGlzaF9kYXRlID0gZGF0YS5QdWJsaXNoRGF0ZTtcclxuICAgICAgICB0aGlzLmxlYWRfdGV4dCA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuTGVhZFRleHQpO1xyXG4gICAgICAgIHRoaXMudGV4dCA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuVGV4dCk7XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuRGVzY3JpcHRpb24pO1xyXG4gICAgICAgIHRoaXMucGljdHVyZXMgPSArZGF0YS5QaWN0dXJlcztcclxuICAgICAgICB0aGlzLnZpZGVvID0gK2RhdGEuVmlkZW87XHJcbiAgICAgICAgdGhpcy5saWtlcyA9ICtkYXRhLkxpa2VzO1xyXG4gICAgICAgIHRoaXMuc2hhcmVzID0gK2RhdGEuU2hhcmVzO1xyXG4gICAgICAgIHRoaXMuYnJlYWtpbmdfbmV3cyA9IGRhdGEuQnJlYWtpbmdOZXdzO1xyXG4gICAgICAgIHRoaXMucHJlbWl1bSA9IGRhdGEuUHJlbWl1bTtcclxuICAgICAgICB0aGlzLmxhbmd1YWdlID0gZGF0YS5MYW5ndWFnZTtcclxuICAgICAgICB0aGlzLmxlYWRfaW1hZ2VfdXJsID0gZGF0YS5MZWFkSW1hZ2VVcmxcclxuICAgIH1cclxuXHJcbiAgICB0b1N0cmluZyh2YWx1ZSl7XHJcbiAgICAgICAgaWYoVXRpbHMuaXNzZXQodmFsdWUpKXtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvcGFnZU1vZHVsZS9tb2RlbHMvQXBpQ29udGVudE1vZGVsLnRzIiwiaW1wb3J0IHsgRGF0ZVV0aWwgfSBmcm9tIFwiQFV0aWxzL0RhdGVVdGlsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udGVudE1vZGVsIHtcclxuICAgIFRpdGxlOiBzdHJpbmc7XHJcbiAgICBLZXl3b3Jkczogc3RyaW5nO1xyXG4gICAgU2VjdGlvbjogc3RyaW5nO1xyXG4gICAgVXJsOiBzdHJpbmc7XHJcbiAgICBDb250ZW50VHlwZTogc3RyaW5nO1xyXG4gICAgQXV0aG9yOiBzdHJpbmc7XHJcbiAgICBUYWdzOiBzdHJpbmc7XHJcbiAgICBDb250ZW50SWQ6IHN0cmluZztcclxuICAgIFB1Ymxpc2hEYXRlOiBzdHJpbmc7XHJcbiAgICBMZWFkVGV4dDogc3RyaW5nO1xyXG4gICAgVGV4dDogc3RyaW5nO1xyXG4gICAgRGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIFBpY3R1cmVzOiBudW1iZXI7XHJcbiAgICBWaWRlbzogbnVtYmVyO1xyXG4gICAgTGlrZXM6IG51bWJlcjtcclxuICAgIFNoYXJlczogbnVtYmVyO1xyXG4gICAgQnJlYWtpbmdOZXdzOiBib29sZWFuO1xyXG4gICAgUHJlbWl1bTogYm9vbGVhbjtcclxuICAgIExhbmd1YWdlOiBzdHJpbmc7XHJcbiAgICBMZWFkSW1hZ2VVcmw6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5UaXRsZSA9IGRhdGEuVGl0bGU7XHJcbiAgICAgICAgdGhpcy5LZXl3b3JkcyA9IGRhdGEuS2V5d29yZHM7XHJcbiAgICAgICAgdGhpcy5TZWN0aW9uID0gZGF0YS5TZWN0aW9uO1xyXG4gICAgICAgIHRoaXMuVXJsID0gZGF0YS5Vcmw7XHJcbiAgICAgICAgdGhpcy5Db250ZW50VHlwZSA9IGRhdGEuQ29udGVudFR5cGU7XHJcbiAgICAgICAgdGhpcy5BdXRob3IgPSBkYXRhLkF1dGhvcjtcclxuICAgICAgICB0aGlzLlRhZ3MgPSBkYXRhLlRhZ3M7XHJcbiAgICAgICAgdGhpcy5Db250ZW50SWQgPSBkYXRhLkNvbnRlbnRJZDtcclxuICAgICAgICB0aGlzLlB1Ymxpc2hEYXRlID0gRGF0ZVV0aWwuZ2V0SVNPRm9ybWF0KGRhdGEuUHVibGlzaERhdGUpIHx8IGRhdGEuUHVibGlzaERhdGU7XHJcbiAgICAgICAgdGhpcy5MZWFkVGV4dCA9IGRhdGEuTGVhZFRleHQ7XHJcbiAgICAgICAgdGhpcy5UZXh0ID0gZGF0YS5UZXh0O1xyXG4gICAgICAgIHRoaXMuRGVzY3JpcHRpb24gPSBkYXRhLkRlc2NyaXB0aW9uO1xyXG4gICAgICAgIHRoaXMuUGljdHVyZXMgPSBkYXRhLlBpY3R1cmVzO1xyXG4gICAgICAgIHRoaXMuVmlkZW8gPSBkYXRhLlZpZGVvO1xyXG4gICAgICAgIHRoaXMuTGlrZXMgPSBkYXRhLkxpa2VzO1xyXG4gICAgICAgIHRoaXMuU2hhcmVzID0gZGF0YS5TaGFyZXM7XHJcbiAgICAgICAgdGhpcy5CcmVha2luZ05ld3MgPSBkYXRhLkJyZWFraW5nTmV3cztcclxuICAgICAgICB0aGlzLlByZW1pdW0gPSBkYXRhLlByZW1pdW07XHJcbiAgICAgICAgdGhpcy5MYW5ndWFnZSA9IGRhdGEuTGFuZ3VhZ2U7XHJcbiAgICAgICAgdGhpcy5MZWFkSW1hZ2VVcmwgPSBkYXRhLkxlYWRJbWFnZVVybDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGlzQXJ0aWNsZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gL2FydGljbGUvaS50ZXN0KHRoaXMuQ29udGVudFR5cGUpO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL3BhZ2VNb2R1bGUvbW9kZWxzL0NvbnRlbnRNb2RlbC50cyIsImltcG9ydCB7IENvb2tpZUF0dHJpYnV0ZXMgfSBmcm9tIFwiLi9Db29raWVBdHRyaWJ1dGVzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29va2llIHtcclxuXHJcbiAgICBzdGF0aWMgZ2V0U3RvcmVkTG9nTGV2ZWwoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJnZXRTdG9yZWRMb2dMZXZlbFwiKTtcclxuICAgICAgICAvLyByZXR1cm4gJ2luZm8nO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHN0cmluZ2lmeUF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBib29sZWFuIHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc3RyaW5naWZpZWQgPSBcIjsgXCIgKyBuYW1lO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RyaW5naWZpZWQ7IC8vIGJvb2xlYW4gYXR0cmlidXRlcyBzaG91bGRuJ3QgaGF2ZSBhIHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdHJpbmdpZmllZCArIFwiPVwiICsgdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgc3RyaW5naWZ5QXR0cmlidXRlcyhhdHRyaWJ1dGVzOiBDb29raWVBdHRyaWJ1dGVzKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMuZXhwaXJlcyA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBsZXQgZXhwaXJlcyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIGV4cGlyZXMuc2V0TWlsbGlzZWNvbmRzKGV4cGlyZXMuZ2V0TWlsbGlzZWNvbmRzKCkgKyBhdHRyaWJ1dGVzLmV4cGlyZXMgKiA4NjRlKzUpO1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzLmV4cGlyZXMgPSBleHBpcmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdpZnlBdHRyaWJ1dGUoXCJFeHBpcmVzXCIsIGF0dHJpYnV0ZXMuZXhwaXJlcyA/IGF0dHJpYnV0ZXMuZXhwaXJlcy50b1VUQ1N0cmluZygpIDogXCJcIilcclxuICAgICAgICAgICAgKyB0aGlzLnN0cmluZ2lmeUF0dHJpYnV0ZShcIkRvbWFpblwiLCBhdHRyaWJ1dGVzLmRvbWFpbilcclxuICAgICAgICAgICAgKyB0aGlzLnN0cmluZ2lmeUF0dHJpYnV0ZShcIlBhdGhcIiwgYXR0cmlidXRlcy5wYXRoKVxyXG4gICAgICAgICAgICArIHRoaXMuc3RyaW5naWZ5QXR0cmlidXRlKFwiU2VjdXJlXCIsIGF0dHJpYnV0ZXMuc2VjdXJlKVxyXG4gICAgICAgICAgICArIHRoaXMuc3RyaW5naWZ5QXR0cmlidXRlKFwiU2FtZVNpdGVcIiwgYXR0cmlidXRlcy5zYW1lU2l0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZW5jb2RlKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgYXR0cmlidXRlczogQ29va2llQXR0cmlidXRlcyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChuYW1lKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnw1RXw2MHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KSAvLyBhbGxvd2VkIHNwZWNpYWwgY2hhcmFjdGVyc1xyXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwoL2csIFwiJTI4XCIpLnJlcGxhY2UoL1xcKS9nLCBcIiUyOVwiKSAvLyByZXBsYWNlIG9wZW5pbmcgYW5kIGNsb3NpbmcgcGFyZW5zXHJcbiAgICAgICAgICAgICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnwzQXwzQ3wzRXwzRHwyRnwzRnw0MHw1Qnw1RHw1RXw2MHw3Qnw3RHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KSAvLyBhbGxvd2VkIHNwZWNpYWwgY2hhcmFjdGVyc1xyXG4gICAgICAgICAgICArIHRoaXMuc3RyaW5naWZ5QXR0cmlidXRlcyhhdHRyaWJ1dGVzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBwYXJzZShjb29raWVTdHJpbmc6IHN0cmluZyk6IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9IHtcclxuICAgICAgICBsZXQgcmVzdWx0OiB7IFtuYW1lOiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xyXG4gICAgICAgIGxldCBjb29raWVzID0gY29va2llU3RyaW5nID8gY29va2llU3RyaW5nLnNwbGl0KFwiOyBcIikgOiBbXTtcclxuICAgICAgICBsZXQgcmRlY29kZSA9IC8oJVswLTlBLVpdezJ9KSsvZztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb2tpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHBhcnRzID0gY29va2llc1tpXS5zcGxpdChcIj1cIik7XHJcbiAgICAgICAgICAgIGxldCBjb29raWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKFwiPVwiKTtcclxuICAgICAgICAgICAgaWYgKGNvb2tpZS5jaGFyQXQoMCkgPT09IFwiXFxcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb29raWUgPSBjb29raWUuc2xpY2UoMSwgLTEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IHBhcnRzWzBdLnJlcGxhY2UocmRlY29kZSwgZGVjb2RlVVJJQ29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtuYW1lXSA9IGNvb2tpZS5yZXBsYWNlKHJkZWNvZGUsIGRlY29kZVVSSUNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBjb29raWVzIHdpdGggaW52YWxpZCBuYW1lL3ZhbHVlIGVuY29kaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEFsbCgpOiB7IFtuYW1lOiBzdHJpbmddOiBzdHJpbmcgfSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2UoZG9jdW1lbnQuY29va2llKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEFsbCgpW25hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgYXR0cmlidXRlcz86IENvb2tpZUF0dHJpYnV0ZXMpOiB2b2lkIHtcclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSB0aGlzLmVuY29kZShuYW1lLCB2YWx1ZSwgeyBwYXRoOiBcIi9cIiwgLi4uYXR0cmlidXRlcyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlbW92ZShuYW1lOiBzdHJpbmcsIGF0dHJpYnV0ZXM/OiBDb29raWVBdHRyaWJ1dGVzKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZXQobmFtZSwgXCJcIiwgeyAuLi5hdHRyaWJ1dGVzLCBleHBpcmVzOiAtMSB9KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vdXRpbHMvY29va2llL0Nvb2tpZS50cyIsIi8qKlxyXG4gKiBMb2cgbGV2ZWwgZm9yIGEgbG9nZ2VyLlxyXG4gKi9cclxuZXhwb3J0IGVudW0gTG9nTGV2ZWwge1xyXG4gICAgVHJhY2UsXHJcbiAgICBEZWJ1ZyxcclxuICAgIFdhcm4sXHJcbiAgICBJbmZvLFxyXG4gICAgRXJyb3IsXHJcbiAgICBGYXRhbFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgTE9HX0xFVkVMX1NUWUxFID0ge1xyXG4gICAgMDogXCJncmVlblwiLFxyXG4gICAgMTogXCIjOTBiZTkwXCIsXHJcbiAgICAyOiBcIiNmMWNlN2FcIixcclxuICAgIDM6IFwiIzAwOWZkZlwiLFxyXG4gICAgNDogXCJyZWRcIixcclxuICAgIDU6IFwicmVkXCJcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBMT0dfTEVWRUxfU1RZTEUyID0ge1xyXG4gICAgMDogeyBjb2xvcjogXCJncmVlblwiLCBiZzogXCIjZjdmYmY3XCIgfSxcclxuICAgIDE6IHsgY29sb3I6IFwiZ3JlZW5cIiwgYmc6IFwiI2Y3ZmJmN1wiIH0sXHJcbiAgICAyOiB7IGNvbG9yOiBcImdyZWVuXCIsIGJnOiBcIiNmN2ZiZjdcIiB9LFxyXG4gICAgMzogeyBjb2xvcjogXCJncmVlblwiLCBiZzogXCIjZTVmMmU1XCIgfSxcclxuICAgIDQ6IHsgY29sb3I6IFwiZ3JlZW5cIiwgYmc6IFwiI2U1ZjJlNVwiIH0sXHJcbiAgICA1OiB7IGNvbG9yOiBcImdyZWVuXCIsIGJnOiBcIiNlNWYyZTVcIiB9XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgTG9nTGV2ZWxzIHtcclxuICAgIHN0YXRpYyBGcm9tU3RyaW5nKHZhbDogc3RyaW5nKTogTG9nTGV2ZWwge1xyXG4gICAgICAgIGlmICh2YWwgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMb2dMZXZlbCBzdHJpbmcgbXVzdCBiZSBzZXQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKHZhbC50b1VwcGVyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJUUkFDRVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIExvZ0xldmVsLlRyYWNlO1xyXG4gICAgICAgICAgICBjYXNlIFwiREVCVUdcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBMb2dMZXZlbC5EZWJ1ZztcclxuICAgICAgICAgICAgY2FzZSBcIklORk9cIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBMb2dMZXZlbC5JbmZvO1xyXG4gICAgICAgICAgICBjYXNlIFwiV0FSTlwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIExvZ0xldmVsLldhcm47XHJcbiAgICAgICAgICAgIGNhc2UgXCJFUlJPUlwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIExvZ0xldmVsLkVycm9yO1xyXG4gICAgICAgICAgICBjYXNlIFwiRkFUQUxcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBMb2dMZXZlbC5GYXRhbDtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIExvZyBMZXZlbFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL3V0aWxzL2xvZ2dlci9Mb2dnZXJPcHRpb25zLnRzIiwiLyoqXG4gKiBbanMtc2hhMjU2XXtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW1uMTc4L2pzLXNoYTI1Nn1cbiAqXG4gKiBAdmVyc2lvbiAwLjkuMFxuICogQGF1dGhvciBDaGVuLCBZaS1DeXVhbiBbZW1uMTc4QGdtYWlsLmNvbV1cbiAqIEBjb3B5cmlnaHQgQ2hlbiwgWWktQ3l1YW4gMjAxNC0yMDE3XG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuLypqc2xpbnQgYml0d2lzZTogdHJ1ZSAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBFUlJPUiA9ICdpbnB1dCBpcyBpbnZhbGlkIHR5cGUnO1xuICB2YXIgV0lORE9XID0gdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCc7XG4gIHZhciByb290ID0gV0lORE9XID8gd2luZG93IDoge307XG4gIGlmIChyb290LkpTX1NIQTI1Nl9OT19XSU5ET1cpIHtcbiAgICBXSU5ET1cgPSBmYWxzZTtcbiAgfVxuICB2YXIgV0VCX1dPUktFUiA9ICFXSU5ET1cgJiYgdHlwZW9mIHNlbGYgPT09ICdvYmplY3QnO1xuICB2YXIgTk9ERV9KUyA9ICFyb290LkpTX1NIQTI1Nl9OT19OT0RFX0pTICYmIHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JyAmJiBwcm9jZXNzLnZlcnNpb25zICYmIHByb2Nlc3MudmVyc2lvbnMubm9kZTtcbiAgaWYgKE5PREVfSlMpIHtcbiAgICByb290ID0gZ2xvYmFsO1xuICB9IGVsc2UgaWYgKFdFQl9XT1JLRVIpIHtcbiAgICByb290ID0gc2VsZjtcbiAgfVxuICB2YXIgQ09NTU9OX0pTID0gIXJvb3QuSlNfU0hBMjU2X05PX0NPTU1PTl9KUyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cztcbiAgdmFyIEFNRCA9IHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZDtcbiAgdmFyIEFSUkFZX0JVRkZFUiA9ICFyb290LkpTX1NIQTI1Nl9OT19BUlJBWV9CVUZGRVIgJiYgdHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJztcbiAgdmFyIEhFWF9DSEFSUyA9ICcwMTIzNDU2Nzg5YWJjZGVmJy5zcGxpdCgnJyk7XG4gIHZhciBFWFRSQSA9IFstMjE0NzQ4MzY0OCwgODM4ODYwOCwgMzI3NjgsIDEyOF07XG4gIHZhciBTSElGVCA9IFsyNCwgMTYsIDgsIDBdO1xuICB2YXIgSyA9IFtcbiAgICAweDQyOGEyZjk4LCAweDcxMzc0NDkxLCAweGI1YzBmYmNmLCAweGU5YjVkYmE1LCAweDM5NTZjMjViLCAweDU5ZjExMWYxLCAweDkyM2Y4MmE0LCAweGFiMWM1ZWQ1LFxuICAgIDB4ZDgwN2FhOTgsIDB4MTI4MzViMDEsIDB4MjQzMTg1YmUsIDB4NTUwYzdkYzMsIDB4NzJiZTVkNzQsIDB4ODBkZWIxZmUsIDB4OWJkYzA2YTcsIDB4YzE5YmYxNzQsXG4gICAgMHhlNDliNjljMSwgMHhlZmJlNDc4NiwgMHgwZmMxOWRjNiwgMHgyNDBjYTFjYywgMHgyZGU5MmM2ZiwgMHg0YTc0ODRhYSwgMHg1Y2IwYTlkYywgMHg3NmY5ODhkYSxcbiAgICAweDk4M2U1MTUyLCAweGE4MzFjNjZkLCAweGIwMDMyN2M4LCAweGJmNTk3ZmM3LCAweGM2ZTAwYmYzLCAweGQ1YTc5MTQ3LCAweDA2Y2E2MzUxLCAweDE0MjkyOTY3LFxuICAgIDB4MjdiNzBhODUsIDB4MmUxYjIxMzgsIDB4NGQyYzZkZmMsIDB4NTMzODBkMTMsIDB4NjUwYTczNTQsIDB4NzY2YTBhYmIsIDB4ODFjMmM5MmUsIDB4OTI3MjJjODUsXG4gICAgMHhhMmJmZThhMSwgMHhhODFhNjY0YiwgMHhjMjRiOGI3MCwgMHhjNzZjNTFhMywgMHhkMTkyZTgxOSwgMHhkNjk5MDYyNCwgMHhmNDBlMzU4NSwgMHgxMDZhYTA3MCxcbiAgICAweDE5YTRjMTE2LCAweDFlMzc2YzA4LCAweDI3NDg3NzRjLCAweDM0YjBiY2I1LCAweDM5MWMwY2IzLCAweDRlZDhhYTRhLCAweDViOWNjYTRmLCAweDY4MmU2ZmYzLFxuICAgIDB4NzQ4ZjgyZWUsIDB4NzhhNTYzNmYsIDB4ODRjODc4MTQsIDB4OGNjNzAyMDgsIDB4OTBiZWZmZmEsIDB4YTQ1MDZjZWIsIDB4YmVmOWEzZjcsIDB4YzY3MTc4ZjJcbiAgXTtcbiAgdmFyIE9VVFBVVF9UWVBFUyA9IFsnaGV4JywgJ2FycmF5JywgJ2RpZ2VzdCcsICdhcnJheUJ1ZmZlciddO1xuXG4gIHZhciBibG9ja3MgPSBbXTtcblxuICBpZiAocm9vdC5KU19TSEEyNTZfTk9fTk9ERV9KUyB8fCAhQXJyYXkuaXNBcnJheSkge1xuICAgIEFycmF5LmlzQXJyYXkgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChBUlJBWV9CVUZGRVIgJiYgKHJvb3QuSlNfU0hBMjU2X05PX0FSUkFZX0JVRkZFUl9JU19WSUVXIHx8ICFBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgQXJyYXlCdWZmZXIuaXNWaWV3ID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iai5idWZmZXIgJiYgb2JqLmJ1ZmZlci5jb25zdHJ1Y3RvciA9PT0gQXJyYXlCdWZmZXI7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBjcmVhdGVPdXRwdXRNZXRob2QgPSBmdW5jdGlvbiAob3V0cHV0VHlwZSwgaXMyMjQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBuZXcgU2hhMjU2KGlzMjI0LCB0cnVlKS51cGRhdGUobWVzc2FnZSlbb3V0cHV0VHlwZV0oKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoaXMyMjQpIHtcbiAgICB2YXIgbWV0aG9kID0gY3JlYXRlT3V0cHV0TWV0aG9kKCdoZXgnLCBpczIyNCk7XG4gICAgaWYgKE5PREVfSlMpIHtcbiAgICAgIG1ldGhvZCA9IG5vZGVXcmFwKG1ldGhvZCwgaXMyMjQpO1xuICAgIH1cbiAgICBtZXRob2QuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBTaGEyNTYoaXMyMjQpO1xuICAgIH07XG4gICAgbWV0aG9kLnVwZGF0ZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbWV0aG9kLmNyZWF0ZSgpLnVwZGF0ZShtZXNzYWdlKTtcbiAgICB9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgT1VUUFVUX1RZUEVTLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgdHlwZSA9IE9VVFBVVF9UWVBFU1tpXTtcbiAgICAgIG1ldGhvZFt0eXBlXSA9IGNyZWF0ZU91dHB1dE1ldGhvZCh0eXBlLCBpczIyNCk7XG4gICAgfVxuICAgIHJldHVybiBtZXRob2Q7XG4gIH07XG5cbiAgdmFyIG5vZGVXcmFwID0gZnVuY3Rpb24gKG1ldGhvZCwgaXMyMjQpIHtcbiAgICB2YXIgY3J5cHRvID0gZXZhbChcInJlcXVpcmUoJ2NyeXB0bycpXCIpO1xuICAgIHZhciBCdWZmZXIgPSBldmFsKFwicmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyXCIpO1xuICAgIHZhciBhbGdvcml0aG0gPSBpczIyNCA/ICdzaGEyMjQnIDogJ3NoYTI1Nic7XG4gICAgdmFyIG5vZGVNZXRob2QgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goYWxnb3JpdGhtKS51cGRhdGUobWVzc2FnZSwgJ3V0ZjgnKS5kaWdlc3QoJ2hleCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UgPT09IG51bGwgfHwgbWVzc2FnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SKTtcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIG1lc3NhZ2UgPSBuZXcgVWludDhBcnJheShtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWVzc2FnZSkgfHwgQXJyYXlCdWZmZXIuaXNWaWV3KG1lc3NhZ2UpIHx8XG4gICAgICAgIG1lc3NhZ2UuY29uc3RydWN0b3IgPT09IEJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goYWxnb3JpdGhtKS51cGRhdGUobmV3IEJ1ZmZlcihtZXNzYWdlKSkuZGlnZXN0KCdoZXgnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBtZXRob2QobWVzc2FnZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gbm9kZU1ldGhvZDtcbiAgfTtcblxuICB2YXIgY3JlYXRlSG1hY091dHB1dE1ldGhvZCA9IGZ1bmN0aW9uIChvdXRwdXRUeXBlLCBpczIyNCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoa2V5LCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbmV3IEhtYWNTaGEyNTYoa2V5LCBpczIyNCwgdHJ1ZSkudXBkYXRlKG1lc3NhZ2UpW291dHB1dFR5cGVdKCk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgY3JlYXRlSG1hY01ldGhvZCA9IGZ1bmN0aW9uIChpczIyNCkge1xuICAgIHZhciBtZXRob2QgPSBjcmVhdGVIbWFjT3V0cHV0TWV0aG9kKCdoZXgnLCBpczIyNCk7XG4gICAgbWV0aG9kLmNyZWF0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBuZXcgSG1hY1NoYTI1NihrZXksIGlzMjI0KTtcbiAgICB9O1xuICAgIG1ldGhvZC51cGRhdGUgPSBmdW5jdGlvbiAoa2V5LCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbWV0aG9kLmNyZWF0ZShrZXkpLnVwZGF0ZShtZXNzYWdlKTtcbiAgICB9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgT1VUUFVUX1RZUEVTLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgdHlwZSA9IE9VVFBVVF9UWVBFU1tpXTtcbiAgICAgIG1ldGhvZFt0eXBlXSA9IGNyZWF0ZUhtYWNPdXRwdXRNZXRob2QodHlwZSwgaXMyMjQpO1xuICAgIH1cbiAgICByZXR1cm4gbWV0aG9kO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFNoYTI1NihpczIyNCwgc2hhcmVkTWVtb3J5KSB7XG4gICAgaWYgKHNoYXJlZE1lbW9yeSkge1xuICAgICAgYmxvY2tzWzBdID0gYmxvY2tzWzE2XSA9IGJsb2Nrc1sxXSA9IGJsb2Nrc1syXSA9IGJsb2Nrc1szXSA9XG4gICAgICAgIGJsb2Nrc1s0XSA9IGJsb2Nrc1s1XSA9IGJsb2Nrc1s2XSA9IGJsb2Nrc1s3XSA9XG4gICAgICAgIGJsb2Nrc1s4XSA9IGJsb2Nrc1s5XSA9IGJsb2Nrc1sxMF0gPSBibG9ja3NbMTFdID1cbiAgICAgICAgYmxvY2tzWzEyXSA9IGJsb2Nrc1sxM10gPSBibG9ja3NbMTRdID0gYmxvY2tzWzE1XSA9IDA7XG4gICAgICB0aGlzLmJsb2NrcyA9IGJsb2NrcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ibG9ja3MgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF07XG4gICAgfVxuXG4gICAgaWYgKGlzMjI0KSB7XG4gICAgICB0aGlzLmgwID0gMHhjMTA1OWVkODtcbiAgICAgIHRoaXMuaDEgPSAweDM2N2NkNTA3O1xuICAgICAgdGhpcy5oMiA9IDB4MzA3MGRkMTc7XG4gICAgICB0aGlzLmgzID0gMHhmNzBlNTkzOTtcbiAgICAgIHRoaXMuaDQgPSAweGZmYzAwYjMxO1xuICAgICAgdGhpcy5oNSA9IDB4Njg1ODE1MTE7XG4gICAgICB0aGlzLmg2ID0gMHg2NGY5OGZhNztcbiAgICAgIHRoaXMuaDcgPSAweGJlZmE0ZmE0O1xuICAgIH0gZWxzZSB7IC8vIDI1NlxuICAgICAgdGhpcy5oMCA9IDB4NmEwOWU2Njc7XG4gICAgICB0aGlzLmgxID0gMHhiYjY3YWU4NTtcbiAgICAgIHRoaXMuaDIgPSAweDNjNmVmMzcyO1xuICAgICAgdGhpcy5oMyA9IDB4YTU0ZmY1M2E7XG4gICAgICB0aGlzLmg0ID0gMHg1MTBlNTI3ZjtcbiAgICAgIHRoaXMuaDUgPSAweDliMDU2ODhjO1xuICAgICAgdGhpcy5oNiA9IDB4MWY4M2Q5YWI7XG4gICAgICB0aGlzLmg3ID0gMHg1YmUwY2QxOTtcbiAgICB9XG5cbiAgICB0aGlzLmJsb2NrID0gdGhpcy5zdGFydCA9IHRoaXMuYnl0ZXMgPSB0aGlzLmhCeXRlcyA9IDA7XG4gICAgdGhpcy5maW5hbGl6ZWQgPSB0aGlzLmhhc2hlZCA9IGZhbHNlO1xuICAgIHRoaXMuZmlyc3QgPSB0cnVlO1xuICAgIHRoaXMuaXMyMjQgPSBpczIyNDtcbiAgfVxuXG4gIFNoYTI1Ni5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5vdFN0cmluZywgdHlwZSA9IHR5cGVvZiBtZXNzYWdlO1xuICAgIGlmICh0eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChtZXNzYWdlID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SKTtcbiAgICAgICAgfSBlbHNlIGlmIChBUlJBWV9CVUZGRVIgJiYgbWVzc2FnZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICBtZXNzYWdlID0gbmV3IFVpbnQ4QXJyYXkobWVzc2FnZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZSkpIHtcbiAgICAgICAgICBpZiAoIUFSUkFZX0JVRkZFUiB8fCAhQXJyYXlCdWZmZXIuaXNWaWV3KG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SKTtcbiAgICAgIH1cbiAgICAgIG5vdFN0cmluZyA9IHRydWU7XG4gICAgfVxuICAgIHZhciBjb2RlLCBpbmRleCA9IDAsIGksIGxlbmd0aCA9IG1lc3NhZ2UubGVuZ3RoLCBibG9ja3MgPSB0aGlzLmJsb2NrcztcblxuICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKHRoaXMuaGFzaGVkKSB7XG4gICAgICAgIHRoaXMuaGFzaGVkID0gZmFsc2U7XG4gICAgICAgIGJsb2Nrc1swXSA9IHRoaXMuYmxvY2s7XG4gICAgICAgIGJsb2Nrc1sxNl0gPSBibG9ja3NbMV0gPSBibG9ja3NbMl0gPSBibG9ja3NbM10gPVxuICAgICAgICAgIGJsb2Nrc1s0XSA9IGJsb2Nrc1s1XSA9IGJsb2Nrc1s2XSA9IGJsb2Nrc1s3XSA9XG4gICAgICAgICAgYmxvY2tzWzhdID0gYmxvY2tzWzldID0gYmxvY2tzWzEwXSA9IGJsb2Nrc1sxMV0gPVxuICAgICAgICAgIGJsb2Nrc1sxMl0gPSBibG9ja3NbMTNdID0gYmxvY2tzWzE0XSA9IGJsb2Nrc1sxNV0gPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAobm90U3RyaW5nKSB7XG4gICAgICAgIGZvciAoaSA9IHRoaXMuc3RhcnQ7IGluZGV4IDwgbGVuZ3RoICYmIGkgPCA2NDsgKytpbmRleCkge1xuICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9IG1lc3NhZ2VbaW5kZXhdIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgPSB0aGlzLnN0YXJ0OyBpbmRleCA8IGxlbmd0aCAmJiBpIDwgNjQ7ICsraW5kZXgpIHtcbiAgICAgICAgICBjb2RlID0gbWVzc2FnZS5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgICBpZiAoY29kZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9IGNvZGUgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgfSBlbHNlIGlmIChjb2RlIDwgMHg4MDApIHtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweGMwIHwgKGNvZGUgPj4gNikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ODAgfCAoY29kZSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweGQ4MDAgfHwgY29kZSA+PSAweGUwMDApIHtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweGUwIHwgKGNvZGUgPj4gMTIpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKChjb2RlID4+IDYpICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ODAgfCAoY29kZSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29kZSA9IDB4MTAwMDAgKyAoKChjb2RlICYgMHgzZmYpIDw8IDEwKSB8IChtZXNzYWdlLmNoYXJDb2RlQXQoKytpbmRleCkgJiAweDNmZikpO1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ZjAgfCAoY29kZSA+PiAxOCkpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ODAgfCAoKGNvZGUgPj4gMTIpICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ODAgfCAoKGNvZGUgPj4gNikgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8IChjb2RlICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmxhc3RCeXRlSW5kZXggPSBpO1xuICAgICAgdGhpcy5ieXRlcyArPSBpIC0gdGhpcy5zdGFydDtcbiAgICAgIGlmIChpID49IDY0KSB7XG4gICAgICAgIHRoaXMuYmxvY2sgPSBibG9ja3NbMTZdO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gaSAtIDY0O1xuICAgICAgICB0aGlzLmhhc2goKTtcbiAgICAgICAgdGhpcy5oYXNoZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IGk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmJ5dGVzID4gNDI5NDk2NzI5NSkge1xuICAgICAgdGhpcy5oQnl0ZXMgKz0gdGhpcy5ieXRlcyAvIDQyOTQ5NjcyOTYgPDwgMDtcbiAgICAgIHRoaXMuYnl0ZXMgPSB0aGlzLmJ5dGVzICUgNDI5NDk2NzI5NjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgU2hhMjU2LnByb3RvdHlwZS5maW5hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xuICAgIHZhciBibG9ja3MgPSB0aGlzLmJsb2NrcywgaSA9IHRoaXMubGFzdEJ5dGVJbmRleDtcbiAgICBibG9ja3NbMTZdID0gdGhpcy5ibG9jaztcbiAgICBibG9ja3NbaSA+PiAyXSB8PSBFWFRSQVtpICYgM107XG4gICAgdGhpcy5ibG9jayA9IGJsb2Nrc1sxNl07XG4gICAgaWYgKGkgPj0gNTYpIHtcbiAgICAgIGlmICghdGhpcy5oYXNoZWQpIHtcbiAgICAgICAgdGhpcy5oYXNoKCk7XG4gICAgICB9XG4gICAgICBibG9ja3NbMF0gPSB0aGlzLmJsb2NrO1xuICAgICAgYmxvY2tzWzE2XSA9IGJsb2Nrc1sxXSA9IGJsb2Nrc1syXSA9IGJsb2Nrc1szXSA9XG4gICAgICAgIGJsb2Nrc1s0XSA9IGJsb2Nrc1s1XSA9IGJsb2Nrc1s2XSA9IGJsb2Nrc1s3XSA9XG4gICAgICAgIGJsb2Nrc1s4XSA9IGJsb2Nrc1s5XSA9IGJsb2Nrc1sxMF0gPSBibG9ja3NbMTFdID1cbiAgICAgICAgYmxvY2tzWzEyXSA9IGJsb2Nrc1sxM10gPSBibG9ja3NbMTRdID0gYmxvY2tzWzE1XSA9IDA7XG4gICAgfVxuICAgIGJsb2Nrc1sxNF0gPSB0aGlzLmhCeXRlcyA8PCAzIHwgdGhpcy5ieXRlcyA+Pj4gMjk7XG4gICAgYmxvY2tzWzE1XSA9IHRoaXMuYnl0ZXMgPDwgMztcbiAgICB0aGlzLmhhc2goKTtcbiAgfTtcblxuICBTaGEyNTYucHJvdG90eXBlLmhhc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGEgPSB0aGlzLmgwLCBiID0gdGhpcy5oMSwgYyA9IHRoaXMuaDIsIGQgPSB0aGlzLmgzLCBlID0gdGhpcy5oNCwgZiA9IHRoaXMuaDUsIGcgPSB0aGlzLmg2LFxuICAgICAgaCA9IHRoaXMuaDcsIGJsb2NrcyA9IHRoaXMuYmxvY2tzLCBqLCBzMCwgczEsIG1haiwgdDEsIHQyLCBjaCwgYWIsIGRhLCBjZCwgYmM7XG5cbiAgICBmb3IgKGogPSAxNjsgaiA8IDY0OyArK2opIHtcbiAgICAgIC8vIHJpZ2h0cm90YXRlXG4gICAgICB0MSA9IGJsb2Nrc1tqIC0gMTVdO1xuICAgICAgczAgPSAoKHQxID4+PiA3KSB8ICh0MSA8PCAyNSkpIF4gKCh0MSA+Pj4gMTgpIHwgKHQxIDw8IDE0KSkgXiAodDEgPj4+IDMpO1xuICAgICAgdDEgPSBibG9ja3NbaiAtIDJdO1xuICAgICAgczEgPSAoKHQxID4+PiAxNykgfCAodDEgPDwgMTUpKSBeICgodDEgPj4+IDE5KSB8ICh0MSA8PCAxMykpIF4gKHQxID4+PiAxMCk7XG4gICAgICBibG9ja3Nbal0gPSBibG9ja3NbaiAtIDE2XSArIHMwICsgYmxvY2tzW2ogLSA3XSArIHMxIDw8IDA7XG4gICAgfVxuXG4gICAgYmMgPSBiICYgYztcbiAgICBmb3IgKGogPSAwOyBqIDwgNjQ7IGogKz0gNCkge1xuICAgICAgaWYgKHRoaXMuZmlyc3QpIHtcbiAgICAgICAgaWYgKHRoaXMuaXMyMjQpIHtcbiAgICAgICAgICBhYiA9IDMwMDAzMjtcbiAgICAgICAgICB0MSA9IGJsb2Nrc1swXSAtIDE0MTMyNTc4MTk7XG4gICAgICAgICAgaCA9IHQxIC0gMTUwMDU0NTk5IDw8IDA7XG4gICAgICAgICAgZCA9IHQxICsgMjQxNzcwNzcgPDwgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhYiA9IDcwNDc1MTEwOTtcbiAgICAgICAgICB0MSA9IGJsb2Nrc1swXSAtIDIxMDI0NDI0ODtcbiAgICAgICAgICBoID0gdDEgLSAxNTIxNDg2NTM0IDw8IDA7XG4gICAgICAgICAgZCA9IHQxICsgMTQzNjk0NTY1IDw8IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maXJzdCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczAgPSAoKGEgPj4+IDIpIHwgKGEgPDwgMzApKSBeICgoYSA+Pj4gMTMpIHwgKGEgPDwgMTkpKSBeICgoYSA+Pj4gMjIpIHwgKGEgPDwgMTApKTtcbiAgICAgICAgczEgPSAoKGUgPj4+IDYpIHwgKGUgPDwgMjYpKSBeICgoZSA+Pj4gMTEpIHwgKGUgPDwgMjEpKSBeICgoZSA+Pj4gMjUpIHwgKGUgPDwgNykpO1xuICAgICAgICBhYiA9IGEgJiBiO1xuICAgICAgICBtYWogPSBhYiBeIChhICYgYykgXiBiYztcbiAgICAgICAgY2ggPSAoZSAmIGYpIF4gKH5lICYgZyk7XG4gICAgICAgIHQxID0gaCArIHMxICsgY2ggKyBLW2pdICsgYmxvY2tzW2pdO1xuICAgICAgICB0MiA9IHMwICsgbWFqO1xuICAgICAgICBoID0gZCArIHQxIDw8IDA7XG4gICAgICAgIGQgPSB0MSArIHQyIDw8IDA7XG4gICAgICB9XG4gICAgICBzMCA9ICgoZCA+Pj4gMikgfCAoZCA8PCAzMCkpIF4gKChkID4+PiAxMykgfCAoZCA8PCAxOSkpIF4gKChkID4+PiAyMikgfCAoZCA8PCAxMCkpO1xuICAgICAgczEgPSAoKGggPj4+IDYpIHwgKGggPDwgMjYpKSBeICgoaCA+Pj4gMTEpIHwgKGggPDwgMjEpKSBeICgoaCA+Pj4gMjUpIHwgKGggPDwgNykpO1xuICAgICAgZGEgPSBkICYgYTtcbiAgICAgIG1haiA9IGRhIF4gKGQgJiBiKSBeIGFiO1xuICAgICAgY2ggPSAoaCAmIGUpIF4gKH5oICYgZik7XG4gICAgICB0MSA9IGcgKyBzMSArIGNoICsgS1tqICsgMV0gKyBibG9ja3NbaiArIDFdO1xuICAgICAgdDIgPSBzMCArIG1hajtcbiAgICAgIGcgPSBjICsgdDEgPDwgMDtcbiAgICAgIGMgPSB0MSArIHQyIDw8IDA7XG4gICAgICBzMCA9ICgoYyA+Pj4gMikgfCAoYyA8PCAzMCkpIF4gKChjID4+PiAxMykgfCAoYyA8PCAxOSkpIF4gKChjID4+PiAyMikgfCAoYyA8PCAxMCkpO1xuICAgICAgczEgPSAoKGcgPj4+IDYpIHwgKGcgPDwgMjYpKSBeICgoZyA+Pj4gMTEpIHwgKGcgPDwgMjEpKSBeICgoZyA+Pj4gMjUpIHwgKGcgPDwgNykpO1xuICAgICAgY2QgPSBjICYgZDtcbiAgICAgIG1haiA9IGNkIF4gKGMgJiBhKSBeIGRhO1xuICAgICAgY2ggPSAoZyAmIGgpIF4gKH5nICYgZSk7XG4gICAgICB0MSA9IGYgKyBzMSArIGNoICsgS1tqICsgMl0gKyBibG9ja3NbaiArIDJdO1xuICAgICAgdDIgPSBzMCArIG1hajtcbiAgICAgIGYgPSBiICsgdDEgPDwgMDtcbiAgICAgIGIgPSB0MSArIHQyIDw8IDA7XG4gICAgICBzMCA9ICgoYiA+Pj4gMikgfCAoYiA8PCAzMCkpIF4gKChiID4+PiAxMykgfCAoYiA8PCAxOSkpIF4gKChiID4+PiAyMikgfCAoYiA8PCAxMCkpO1xuICAgICAgczEgPSAoKGYgPj4+IDYpIHwgKGYgPDwgMjYpKSBeICgoZiA+Pj4gMTEpIHwgKGYgPDwgMjEpKSBeICgoZiA+Pj4gMjUpIHwgKGYgPDwgNykpO1xuICAgICAgYmMgPSBiICYgYztcbiAgICAgIG1haiA9IGJjIF4gKGIgJiBkKSBeIGNkO1xuICAgICAgY2ggPSAoZiAmIGcpIF4gKH5mICYgaCk7XG4gICAgICB0MSA9IGUgKyBzMSArIGNoICsgS1tqICsgM10gKyBibG9ja3NbaiArIDNdO1xuICAgICAgdDIgPSBzMCArIG1hajtcbiAgICAgIGUgPSBhICsgdDEgPDwgMDtcbiAgICAgIGEgPSB0MSArIHQyIDw8IDA7XG4gICAgfVxuXG4gICAgdGhpcy5oMCA9IHRoaXMuaDAgKyBhIDw8IDA7XG4gICAgdGhpcy5oMSA9IHRoaXMuaDEgKyBiIDw8IDA7XG4gICAgdGhpcy5oMiA9IHRoaXMuaDIgKyBjIDw8IDA7XG4gICAgdGhpcy5oMyA9IHRoaXMuaDMgKyBkIDw8IDA7XG4gICAgdGhpcy5oNCA9IHRoaXMuaDQgKyBlIDw8IDA7XG4gICAgdGhpcy5oNSA9IHRoaXMuaDUgKyBmIDw8IDA7XG4gICAgdGhpcy5oNiA9IHRoaXMuaDYgKyBnIDw8IDA7XG4gICAgdGhpcy5oNyA9IHRoaXMuaDcgKyBoIDw8IDA7XG4gIH07XG5cbiAgU2hhMjU2LnByb3RvdHlwZS5oZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuXG4gICAgdmFyIGgwID0gdGhpcy5oMCwgaDEgPSB0aGlzLmgxLCBoMiA9IHRoaXMuaDIsIGgzID0gdGhpcy5oMywgaDQgPSB0aGlzLmg0LCBoNSA9IHRoaXMuaDUsXG4gICAgICBoNiA9IHRoaXMuaDYsIGg3ID0gdGhpcy5oNztcblxuICAgIHZhciBoZXggPSBIRVhfQ0hBUlNbKGgwID4+IDI4KSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMCA+PiAyNCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgwID4+IDIwKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMCA+PiAxNikgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgwID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMCA+PiA4KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDAgPj4gNCkgJiAweDBGXSArIEhFWF9DSEFSU1toMCAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDEgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgxID4+IDI0KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDEgPj4gMjApICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgxID4+IDE2KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDEgPj4gMTIpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgxID4+IDgpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMSA+PiA0KSAmIDB4MEZdICsgSEVYX0NIQVJTW2gxICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMiA+PiAyOCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDIgPj4gMjQpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMiA+PiAyMCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDIgPj4gMTYpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMiA+PiAxMikgJiAweDBGXSArIEhFWF9DSEFSU1soaDIgPj4gOCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgyID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbaDIgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgzID4+IDI4KSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMyA+PiAyNCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgzID4+IDIwKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMyA+PiAxNikgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgzID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMyA+PiA4KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDMgPj4gNCkgJiAweDBGXSArIEhFWF9DSEFSU1toMyAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDQgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGg0ID4+IDI0KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDQgPj4gMjApICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGg0ID4+IDE2KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDQgPj4gMTIpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGg0ID4+IDgpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoNCA+PiA0KSAmIDB4MEZdICsgSEVYX0NIQVJTW2g0ICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoNSA+PiAyOCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDUgPj4gMjQpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoNSA+PiAyMCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDUgPj4gMTYpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoNSA+PiAxMikgJiAweDBGXSArIEhFWF9DSEFSU1soaDUgPj4gOCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGg1ID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbaDUgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGg2ID4+IDI4KSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoNiA+PiAyNCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGg2ID4+IDIwKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoNiA+PiAxNikgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGg2ID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoNiA+PiA4KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDYgPj4gNCkgJiAweDBGXSArIEhFWF9DSEFSU1toNiAmIDB4MEZdO1xuICAgIGlmICghdGhpcy5pczIyNCkge1xuICAgICAgaGV4ICs9IEhFWF9DSEFSU1soaDcgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGg3ID4+IDI0KSAmIDB4MEZdICtcbiAgICAgICAgSEVYX0NIQVJTWyhoNyA+PiAyMCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDcgPj4gMTYpICYgMHgwRl0gK1xuICAgICAgICBIRVhfQ0hBUlNbKGg3ID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoNyA+PiA4KSAmIDB4MEZdICtcbiAgICAgICAgSEVYX0NIQVJTWyhoNyA+PiA0KSAmIDB4MEZdICsgSEVYX0NIQVJTW2g3ICYgMHgwRl07XG4gICAgfVxuICAgIHJldHVybiBoZXg7XG4gIH07XG5cbiAgU2hhMjU2LnByb3RvdHlwZS50b1N0cmluZyA9IFNoYTI1Ni5wcm90b3R5cGUuaGV4O1xuXG4gIFNoYTI1Ni5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmluYWxpemUoKTtcblxuICAgIHZhciBoMCA9IHRoaXMuaDAsIGgxID0gdGhpcy5oMSwgaDIgPSB0aGlzLmgyLCBoMyA9IHRoaXMuaDMsIGg0ID0gdGhpcy5oNCwgaDUgPSB0aGlzLmg1LFxuICAgICAgaDYgPSB0aGlzLmg2LCBoNyA9IHRoaXMuaDc7XG5cbiAgICB2YXIgYXJyID0gW1xuICAgICAgKGgwID4+IDI0KSAmIDB4RkYsIChoMCA+PiAxNikgJiAweEZGLCAoaDAgPj4gOCkgJiAweEZGLCBoMCAmIDB4RkYsXG4gICAgICAoaDEgPj4gMjQpICYgMHhGRiwgKGgxID4+IDE2KSAmIDB4RkYsIChoMSA+PiA4KSAmIDB4RkYsIGgxICYgMHhGRixcbiAgICAgIChoMiA+PiAyNCkgJiAweEZGLCAoaDIgPj4gMTYpICYgMHhGRiwgKGgyID4+IDgpICYgMHhGRiwgaDIgJiAweEZGLFxuICAgICAgKGgzID4+IDI0KSAmIDB4RkYsIChoMyA+PiAxNikgJiAweEZGLCAoaDMgPj4gOCkgJiAweEZGLCBoMyAmIDB4RkYsXG4gICAgICAoaDQgPj4gMjQpICYgMHhGRiwgKGg0ID4+IDE2KSAmIDB4RkYsIChoNCA+PiA4KSAmIDB4RkYsIGg0ICYgMHhGRixcbiAgICAgIChoNSA+PiAyNCkgJiAweEZGLCAoaDUgPj4gMTYpICYgMHhGRiwgKGg1ID4+IDgpICYgMHhGRiwgaDUgJiAweEZGLFxuICAgICAgKGg2ID4+IDI0KSAmIDB4RkYsIChoNiA+PiAxNikgJiAweEZGLCAoaDYgPj4gOCkgJiAweEZGLCBoNiAmIDB4RkZcbiAgICBdO1xuICAgIGlmICghdGhpcy5pczIyNCkge1xuICAgICAgYXJyLnB1c2goKGg3ID4+IDI0KSAmIDB4RkYsIChoNyA+PiAxNikgJiAweEZGLCAoaDcgPj4gOCkgJiAweEZGLCBoNyAmIDB4RkYpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9O1xuXG4gIFNoYTI1Ni5wcm90b3R5cGUuYXJyYXkgPSBTaGEyNTYucHJvdG90eXBlLmRpZ2VzdDtcblxuICBTaGEyNTYucHJvdG90eXBlLmFycmF5QnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmluYWxpemUoKTtcblxuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5pczIyNCA/IDI4IDogMzIpO1xuICAgIHZhciBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xuICAgIGRhdGFWaWV3LnNldFVpbnQzMigwLCB0aGlzLmgwKTtcbiAgICBkYXRhVmlldy5zZXRVaW50MzIoNCwgdGhpcy5oMSk7XG4gICAgZGF0YVZpZXcuc2V0VWludDMyKDgsIHRoaXMuaDIpO1xuICAgIGRhdGFWaWV3LnNldFVpbnQzMigxMiwgdGhpcy5oMyk7XG4gICAgZGF0YVZpZXcuc2V0VWludDMyKDE2LCB0aGlzLmg0KTtcbiAgICBkYXRhVmlldy5zZXRVaW50MzIoMjAsIHRoaXMuaDUpO1xuICAgIGRhdGFWaWV3LnNldFVpbnQzMigyNCwgdGhpcy5oNik7XG4gICAgaWYgKCF0aGlzLmlzMjI0KSB7XG4gICAgICBkYXRhVmlldy5zZXRVaW50MzIoMjgsIHRoaXMuaDcpO1xuICAgIH1cbiAgICByZXR1cm4gYnVmZmVyO1xuICB9O1xuXG4gIGZ1bmN0aW9uIEhtYWNTaGEyNTYoa2V5LCBpczIyNCwgc2hhcmVkTWVtb3J5KSB7XG4gICAgdmFyIGksIHR5cGUgPSB0eXBlb2Yga2V5O1xuICAgIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIGJ5dGVzID0gW10sIGxlbmd0aCA9IGtleS5sZW5ndGgsIGluZGV4ID0gMCwgY29kZTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICBjb2RlID0ga2V5LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjb2RlIDwgMHg4MCkge1xuICAgICAgICAgIGJ5dGVzW2luZGV4KytdID0gY29kZTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2RlIDwgMHg4MDApIHtcbiAgICAgICAgICBieXRlc1tpbmRleCsrXSA9ICgweGMwIHwgKGNvZGUgPj4gNikpO1xuICAgICAgICAgIGJ5dGVzW2luZGV4KytdID0gKDB4ODAgfCAoY29kZSAmIDB4M2YpKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2RlIDwgMHhkODAwIHx8IGNvZGUgPj0gMHhlMDAwKSB7XG4gICAgICAgICAgYnl0ZXNbaW5kZXgrK10gPSAoMHhlMCB8IChjb2RlID4+IDEyKSk7XG4gICAgICAgICAgYnl0ZXNbaW5kZXgrK10gPSAoMHg4MCB8ICgoY29kZSA+PiA2KSAmIDB4M2YpKTtcbiAgICAgICAgICBieXRlc1tpbmRleCsrXSA9ICgweDgwIHwgKGNvZGUgJiAweDNmKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29kZSA9IDB4MTAwMDAgKyAoKChjb2RlICYgMHgzZmYpIDw8IDEwKSB8IChrZXkuY2hhckNvZGVBdCgrK2kpICYgMHgzZmYpKTtcbiAgICAgICAgICBieXRlc1tpbmRleCsrXSA9ICgweGYwIHwgKGNvZGUgPj4gMTgpKTtcbiAgICAgICAgICBieXRlc1tpbmRleCsrXSA9ICgweDgwIHwgKChjb2RlID4+IDEyKSAmIDB4M2YpKTtcbiAgICAgICAgICBieXRlc1tpbmRleCsrXSA9ICgweDgwIHwgKChjb2RlID4+IDYpICYgMHgzZikpO1xuICAgICAgICAgIGJ5dGVzW2luZGV4KytdID0gKDB4ODAgfCAoY29kZSAmIDB4M2YpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAga2V5ID0gYnl0ZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoa2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SKTtcbiAgICAgICAgfSBlbHNlIGlmIChBUlJBWV9CVUZGRVIgJiYga2V5LmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIGtleSA9IG5ldyBVaW50OEFycmF5KGtleSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgICAgICAgIGlmICghQVJSQVlfQlVGRkVSIHx8ICFBcnJheUJ1ZmZlci5pc1ZpZXcoa2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihFUlJPUik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGtleS5sZW5ndGggPiA2NCkge1xuICAgICAga2V5ID0gKG5ldyBTaGEyNTYoaXMyMjQsIHRydWUpKS51cGRhdGUoa2V5KS5hcnJheSgpO1xuICAgIH1cblxuICAgIHZhciBvS2V5UGFkID0gW10sIGlLZXlQYWQgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7ICsraSkge1xuICAgICAgdmFyIGIgPSBrZXlbaV0gfHwgMDtcbiAgICAgIG9LZXlQYWRbaV0gPSAweDVjIF4gYjtcbiAgICAgIGlLZXlQYWRbaV0gPSAweDM2IF4gYjtcbiAgICB9XG5cbiAgICBTaGEyNTYuY2FsbCh0aGlzLCBpczIyNCwgc2hhcmVkTWVtb3J5KTtcblxuICAgIHRoaXMudXBkYXRlKGlLZXlQYWQpO1xuICAgIHRoaXMub0tleVBhZCA9IG9LZXlQYWQ7XG4gICAgdGhpcy5pbm5lciA9IHRydWU7XG4gICAgdGhpcy5zaGFyZWRNZW1vcnkgPSBzaGFyZWRNZW1vcnk7XG4gIH1cbiAgSG1hY1NoYTI1Ni5wcm90b3R5cGUgPSBuZXcgU2hhMjU2KCk7XG5cbiAgSG1hY1NoYTI1Ni5wcm90b3R5cGUuZmluYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgU2hhMjU2LnByb3RvdHlwZS5maW5hbGl6ZS5jYWxsKHRoaXMpO1xuICAgIGlmICh0aGlzLmlubmVyKSB7XG4gICAgICB0aGlzLmlubmVyID0gZmFsc2U7XG4gICAgICB2YXIgaW5uZXJIYXNoID0gdGhpcy5hcnJheSgpO1xuICAgICAgU2hhMjU2LmNhbGwodGhpcywgdGhpcy5pczIyNCwgdGhpcy5zaGFyZWRNZW1vcnkpO1xuICAgICAgdGhpcy51cGRhdGUodGhpcy5vS2V5UGFkKTtcbiAgICAgIHRoaXMudXBkYXRlKGlubmVySGFzaCk7XG4gICAgICBTaGEyNTYucHJvdG90eXBlLmZpbmFsaXplLmNhbGwodGhpcyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBleHBvcnRzID0gY3JlYXRlTWV0aG9kKCk7XG4gIGV4cG9ydHMuc2hhMjU2ID0gZXhwb3J0cztcbiAgZXhwb3J0cy5zaGEyMjQgPSBjcmVhdGVNZXRob2QodHJ1ZSk7XG4gIGV4cG9ydHMuc2hhMjU2LmhtYWMgPSBjcmVhdGVIbWFjTWV0aG9kKCk7XG4gIGV4cG9ydHMuc2hhMjI0LmhtYWMgPSBjcmVhdGVIbWFjTWV0aG9kKHRydWUpO1xuXG4gIGlmIChDT01NT05fSlMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5zaGEyNTYgPSBleHBvcnRzLnNoYTI1NjtcbiAgICByb290LnNoYTIyNCA9IGV4cG9ydHMuc2hhMjI0O1xuICAgIGlmIChBTUQpIHtcbiAgICAgIGRlZmluZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59KSgpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2pzLXNoYTI1Ni9zcmMvc2hhMjU2LmpzXG4vLyBtb2R1bGUgaWQgPSAxNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDciLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMTY1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IiwidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpXHJcblx0XHRnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzXG4vLyBtb2R1bGUgaWQgPSAxNjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDciLCIvKiBnbG9iYWxzIF9fd2VicGFja19hbWRfb3B0aW9uc19fICovXHJcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX2FtZF9vcHRpb25zX187XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vICh3ZWJwYWNrKS9idWlsZGluL2FtZC1vcHRpb25zLmpzXG4vLyBtb2R1bGUgaWQgPSAxNjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDciLCJcclxud2luZG93LmcyRXh0ZW5kSW5pdHMgPSB7XHJcbiAgICAvLyBmb3IgYWxsIGNsaWVudHNcclxuICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICBjZHA6IHtcclxuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRpbWVuc2lvbnM6IHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9jb25maWcvY2xpZW50cy9EZWZhdWx0LnRzIl0sInNvdXJjZVJvb3QiOiIifQ==